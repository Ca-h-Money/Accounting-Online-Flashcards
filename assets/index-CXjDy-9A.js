var P1=e=>{throw TypeError(e)};var Qy=(e,t,n)=>t.has(e)||P1("Cannot "+n);var F=(e,t,n)=>(Qy(e,t,"read from private field"),n?n.call(e):t.get(e)),bt=(e,t,n)=>t.has(e)?P1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ht=(e,t,n,i)=>(Qy(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),Ot=(e,t,n)=>(Qy(e,t,"access private method"),n);var Jd=(e,t,n,i)=>({set _(r){ht(e,t,r,n)},get _(){return F(e,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function uN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yy={exports:{}},ih={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function cN(){if(V1)return ih;V1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:e,type:i,key:u,ref:r!==void 0?r:null,props:o}}return ih.Fragment=t,ih.jsx=n,ih.jsxs=n,ih}var M1;function hN(){return M1||(M1=1,Yy.exports=cN()),Yy.exports}var N=hN(),Wy={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function fN(){if(O1)return Vt;O1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function I($,lt,vt){this.props=$,this.context=lt,this.refs=R,this.updater=vt||S}I.prototype.isReactComponent={},I.prototype.setState=function($,lt){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,lt,"setState")},I.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function P(){}P.prototype=I.prototype;function j($,lt,vt){this.props=$,this.context=lt,this.refs=R,this.updater=vt||S}var U=j.prototype=new P;U.constructor=j,A(U,I.prototype),U.isPureReactComponent=!0;var W=Array.isArray,z={H:null,A:null,T:null,S:null},tt=Object.prototype.hasOwnProperty;function M($,lt,vt,ft,dt,Mt){return vt=Mt.ref,{$$typeof:e,type:$,key:lt,ref:vt!==void 0?vt:null,props:Mt}}function w($,lt){return M($.type,lt,void 0,void 0,void 0,$.props)}function x($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function V($){var lt={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(vt){return lt[vt]})}var B=/\/+/g;function G($,lt){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):lt.toString(36)}function L(){}function se($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(L,L):($.status="pending",$.then(function(lt){$.status==="pending"&&($.status="fulfilled",$.value=lt)},function(lt){$.status==="pending"&&($.status="rejected",$.reason=lt)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ce($,lt,vt,ft,dt){var Mt=typeof $;(Mt==="undefined"||Mt==="boolean")&&($=null);var Pt=!1;if($===null)Pt=!0;else switch(Mt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch($.$$typeof){case e:case t:Pt=!0;break;case g:return Pt=$._init,ce(Pt($._payload),lt,vt,ft,dt)}}if(Pt)return dt=dt($),Pt=ft===""?"."+G($,0):ft,W(dt)?(vt="",Pt!=null&&(vt=Pt.replace(B,"$&/")+"/"),ce(dt,lt,vt,"",function(ve){return ve})):dt!=null&&(x(dt)&&(dt=w(dt,vt+(dt.key==null||$&&$.key===dt.key?"":(""+dt.key).replace(B,"$&/")+"/")+Pt)),lt.push(dt)),1;Pt=0;var Pe=ft===""?".":ft+":";if(W($))for(var Kt=0;Kt<$.length;Kt++)ft=$[Kt],Mt=Pe+G(ft,Kt),Pt+=ce(ft,lt,vt,Mt,dt);else if(Kt=_($),typeof Kt=="function")for($=Kt.call($),Kt=0;!(ft=$.next()).done;)ft=ft.value,Mt=Pe+G(ft,Kt++),Pt+=ce(ft,lt,vt,Mt,dt);else if(Mt==="object"){if(typeof $.then=="function")return ce(se($),lt,vt,ft,dt);throw lt=String($),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function J($,lt,vt){if($==null)return $;var ft=[],dt=0;return ce($,ft,"","",function(Mt){return lt.call(vt,Mt,dt++)}),ft}function ot($){if($._status===-1){var lt=$._result;lt=lt(),lt.then(function(vt){($._status===0||$._status===-1)&&($._status=1,$._result=vt)},function(vt){($._status===0||$._status===-1)&&($._status=2,$._result=vt)}),$._status===-1&&($._status=0,$._result=lt)}if($._status===1)return $._result.default;throw $._result}var ct=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function It(){}return Vt.Children={map:J,forEach:function($,lt,vt){J($,function(){lt.apply(this,arguments)},vt)},count:function($){var lt=0;return J($,function(){lt++}),lt},toArray:function($){return J($,function(lt){return lt})||[]},only:function($){if(!x($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Vt.Component=I,Vt.Fragment=n,Vt.Profiler=r,Vt.PureComponent=j,Vt.StrictMode=i,Vt.Suspense=f,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Vt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Vt.cache=function($){return function(){return $.apply(null,arguments)}},Vt.cloneElement=function($,lt,vt){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ft=A({},$.props),dt=$.key,Mt=void 0;if(lt!=null)for(Pt in lt.ref!==void 0&&(Mt=void 0),lt.key!==void 0&&(dt=""+lt.key),lt)!tt.call(lt,Pt)||Pt==="key"||Pt==="__self"||Pt==="__source"||Pt==="ref"&&lt.ref===void 0||(ft[Pt]=lt[Pt]);var Pt=arguments.length-2;if(Pt===1)ft.children=vt;else if(1<Pt){for(var Pe=Array(Pt),Kt=0;Kt<Pt;Kt++)Pe[Kt]=arguments[Kt+2];ft.children=Pe}return M($.type,dt,void 0,void 0,Mt,ft)},Vt.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},Vt.createElement=function($,lt,vt){var ft,dt={},Mt=null;if(lt!=null)for(ft in lt.key!==void 0&&(Mt=""+lt.key),lt)tt.call(lt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(dt[ft]=lt[ft]);var Pt=arguments.length-2;if(Pt===1)dt.children=vt;else if(1<Pt){for(var Pe=Array(Pt),Kt=0;Kt<Pt;Kt++)Pe[Kt]=arguments[Kt+2];dt.children=Pe}if($&&$.defaultProps)for(ft in Pt=$.defaultProps,Pt)dt[ft]===void 0&&(dt[ft]=Pt[ft]);return M($,Mt,void 0,void 0,null,dt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function($){return{$$typeof:h,render:$}},Vt.isValidElement=x,Vt.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:ot}},Vt.memo=function($,lt){return{$$typeof:d,type:$,compare:lt===void 0?null:lt}},Vt.startTransition=function($){var lt=z.T,vt={};z.T=vt;try{var ft=$(),dt=z.S;dt!==null&&dt(vt,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(It,ct)}catch(Mt){ct(Mt)}finally{z.T=lt}},Vt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Vt.use=function($){return z.H.use($)},Vt.useActionState=function($,lt,vt){return z.H.useActionState($,lt,vt)},Vt.useCallback=function($,lt){return z.H.useCallback($,lt)},Vt.useContext=function($){return z.H.useContext($)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function($,lt){return z.H.useDeferredValue($,lt)},Vt.useEffect=function($,lt){return z.H.useEffect($,lt)},Vt.useId=function(){return z.H.useId()},Vt.useImperativeHandle=function($,lt,vt){return z.H.useImperativeHandle($,lt,vt)},Vt.useInsertionEffect=function($,lt){return z.H.useInsertionEffect($,lt)},Vt.useLayoutEffect=function($,lt){return z.H.useLayoutEffect($,lt)},Vt.useMemo=function($,lt){return z.H.useMemo($,lt)},Vt.useOptimistic=function($,lt){return z.H.useOptimistic($,lt)},Vt.useReducer=function($,lt,vt){return z.H.useReducer($,lt,vt)},Vt.useRef=function($){return z.H.useRef($)},Vt.useState=function($){return z.H.useState($)},Vt.useSyncExternalStore=function($,lt,vt){return z.H.useSyncExternalStore($,lt,vt)},Vt.useTransition=function(){return z.H.useTransition()},Vt.version="19.0.0",Vt}var N1;function c_(){return N1||(N1=1,Wy.exports=fN()),Wy.exports}var O=c_();const Oo=uN(O);var Xy={exports:{}},sh={},Zy={exports:{}},Jy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function dN(){return k1||(k1=1,function(e){function t(J,ot){var ct=J.length;J.push(ot);t:for(;0<ct;){var It=ct-1>>>1,$=J[It];if(0<r($,ot))J[It]=ot,J[ct]=$,ct=It;else break t}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var ot=J[0],ct=J.pop();if(ct!==ot){J[0]=ct;t:for(var It=0,$=J.length,lt=$>>>1;It<lt;){var vt=2*(It+1)-1,ft=J[vt],dt=vt+1,Mt=J[dt];if(0>r(ft,ct))dt<$&&0>r(Mt,ft)?(J[It]=Mt,J[dt]=ct,It=dt):(J[It]=ft,J[vt]=ct,It=vt);else if(dt<$&&0>r(Mt,ct))J[It]=Mt,J[dt]=ct,It=dt;else break t}}return ot}function r(J,ot){var ct=J.sortIndex-ot.sortIndex;return ct!==0?ct:J.id-ot.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,v=null,_=3,S=!1,A=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function U(J){for(var ot=n(d);ot!==null;){if(ot.callback===null)i(d);else if(ot.startTime<=J)i(d),ot.sortIndex=ot.expirationTime,t(f,ot);else break;ot=n(d)}}function W(J){if(R=!1,U(J),!A)if(n(f)!==null)A=!0,se();else{var ot=n(d);ot!==null&&ce(W,ot.startTime-J)}}var z=!1,tt=-1,M=5,w=-1;function x(){return!(e.unstable_now()-w<M)}function V(){if(z){var J=e.unstable_now();w=J;var ot=!0;try{t:{A=!1,R&&(R=!1,P(tt),tt=-1),S=!0;var ct=_;try{e:{for(U(J),v=n(f);v!==null&&!(v.expirationTime>J&&x());){var It=v.callback;if(typeof It=="function"){v.callback=null,_=v.priorityLevel;var $=It(v.expirationTime<=J);if(J=e.unstable_now(),typeof $=="function"){v.callback=$,U(J),ot=!0;break e}v===n(f)&&i(f),U(J)}else i(f);v=n(f)}if(v!==null)ot=!0;else{var lt=n(d);lt!==null&&ce(W,lt.startTime-J),ot=!1}}break t}finally{v=null,_=ct,S=!1}ot=void 0}}finally{ot?B():z=!1}}}var B;if(typeof j=="function")B=function(){j(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,L=G.port2;G.port1.onmessage=V,B=function(){L.postMessage(null)}}else B=function(){I(V,0)};function se(){z||(z=!0,B())}function ce(J,ot){tt=I(function(){J(e.unstable_now())},ot)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){A||S||(A=!0,se())},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(J){switch(_){case 1:case 2:case 3:var ot=3;break;default:ot=_}var ct=_;_=ot;try{return J()}finally{_=ct}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,ot){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ct=_;_=J;try{return ot()}finally{_=ct}},e.unstable_scheduleCallback=function(J,ot,ct){var It=e.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?It+ct:It):ct=It,J){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ct+$,J={id:g++,callback:ot,priorityLevel:J,startTime:ct,expirationTime:$,sortIndex:-1},ct>It?(J.sortIndex=ct,t(d,J),n(f)===null&&J===n(d)&&(R?(P(tt),tt=-1):R=!0,ce(W,ct-It))):(J.sortIndex=$,t(f,J),A||S||(A=!0,se())),J},e.unstable_shouldYield=x,e.unstable_wrapCallback=function(J){var ot=_;return function(){var ct=_;_=ot;try{return J.apply(this,arguments)}finally{_=ct}}}}(Jy)),Jy}var L1;function mN(){return L1||(L1=1,Zy.exports=dN()),Zy.exports}var tv={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function pN(){if(U1)return pn;U1=1;var e=c_();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:d,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,g)},pn.flushSync=function(f){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=g,i.d.f()}},pn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},pn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},pn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:S}):g==="script"&&i.d.X(f,{crossOrigin:v,integrity:_,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},pn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},pn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},pn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},pn.requestFormReset=function(f){i.d.r(f)},pn.unstable_batchedUpdates=function(f,d){return f(d)},pn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},pn.version="19.0.0",pn}var j1;function gN(){if(j1)return tv.exports;j1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tv.exports=pN(),tv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function yN(){if(B1)return sh;B1=1;var e=mN(),t=c_(),n=gN();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),W=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function tt(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function w(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case f:return"Fragment";case h:return"Portal";case g:return"Profiler";case d:return"StrictMode";case R:return"Suspense";case I:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case S:return(s.displayName||"Context")+".Provider";case _:return(s._context.displayName||"Context")+".Consumer";case A:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return a=s.displayName||null,a!==null?a:w(s.type)||"Memo";case j:a=s._payload,s=s._init;try{return w(s(a))}catch{}}return null}var x=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,B,G;function L(s){if(B===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);B=a&&a[1]||"",G=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+B+s+G}var se=!1;function ce(s,a){if(!s||se)return"";se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(et){var X=et}Reflect.construct(s,[],at)}else{try{at.call()}catch(et){X=et}s.call(at.prototype)}}else{try{throw Error()}catch(et){X=et}(at=s())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(et){if(et&&X&&typeof et.stack=="string")return[et.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),E=y[0],C=y[1];if(E&&C){var k=E.split(`
`),q=C.split(`
`);for(p=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;if(c===k.length||p===q.length)for(c=k.length-1,p=q.length-1;1<=c&&0<=p&&k[c]!==q[p];)p--;for(;1<=c&&0<=p;c--,p--)if(k[c]!==q[p]){if(c!==1||p!==1)do if(c--,p--,0>p||k[c]!==q[p]){var nt=`
`+k[c].replace(" at new "," at ");return s.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",s.displayName)),nt}while(1<=c&&0<=p);break}}}finally{se=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?L(l):""}function J(s){switch(s.tag){case 26:case 27:case 5:return L(s.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return s=ce(s.type,!1),s;case 11:return s=ce(s.type.render,!1),s;case 1:return s=ce(s.type,!0),s;default:return""}}function ot(s){try{var a="";do a+=J(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ct(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function It(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function $(s){if(ct(s)!==s)throw Error(i(188))}function lt(s){var a=s.alternate;if(!a){if(a=ct(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,c=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return $(p),s;if(y===c)return $(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=y;else{for(var E=!1,C=p.child;C;){if(C===l){E=!0,l=p,c=y;break}if(C===c){E=!0,c=p,l=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===l){E=!0,l=y,c=p;break}if(C===c){E=!0,c=y,l=p;break}C=C.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function vt(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=vt(s),a!==null)return a;s=s.sibling}return null}var ft=Array.isArray,dt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Mt={pending:!1,data:null,method:null,action:null},Pt=[],Pe=-1;function Kt(s){return{current:s}}function ve(s){0>Pe||(s.current=Pt[Pe],Pt[Pe]=null,Pe--)}function te(s,a){Pe++,Pt[Pe]=s.current,s.current=a}var wn=Kt(null),_s=Kt(null),ti=Kt(null),mr=Kt(null);function pr(s,a){switch(te(ti,a),te(_s,s),te(wn,null),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?a1(a):0;break;default:if(s=s===8?a.parentNode:a,a=s.tagName,s=s.namespaceURI)s=a1(s),a=o1(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ve(wn),te(wn,a)}function Ts(){ve(wn),ve(_s),ve(ti)}function Zu(s){s.memoizedState!==null&&te(mr,s);var a=wn.current,l=o1(a,s.type);a!==l&&(te(_s,s),te(wn,l))}function Zo(s){_s.current===s&&(ve(wn),ve(_s)),mr.current===s&&(ve(mr),Zc._currentValue=Mt)}var Jo=Object.prototype.hasOwnProperty,La=e.unstable_scheduleCallback,tl=e.unstable_cancelCallback,Wp=e.unstable_shouldYield,Ju=e.unstable_requestPaint,kn=e.unstable_now,Vf=e.unstable_getCurrentPriorityLevel,Le=e.unstable_ImmediatePriority,Ke=e.unstable_UserBlockingPriority,bs=e.unstable_NormalPriority,Mf=e.unstable_LowPriority,tc=e.unstable_IdlePriority,Xp=e.log,Ua=e.unstable_setDisableYieldValue,gr=null,dn=null;function ec(s){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(gr,s,void 0,(s.current.flags&128)===128)}catch{}}function $i(s){if(typeof Xp=="function"&&Ua(s),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(gr,s)}catch{}}var xn=Math.clz32?Math.clz32:Nf,nc=Math.log,Of=Math.LN2;function Nf(s){return s>>>=0,s===0?32:31-(nc(s)/Of|0)|0}var zi=128,yr=4194304;function wi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ei(s,a){var l=s.pendingLanes;if(l===0)return 0;var c=0,p=s.suspendedLanes,y=s.pingedLanes,E=s.warmLanes;s=s.finishedLanes!==0;var C=l&134217727;return C!==0?(l=C&~p,l!==0?c=wi(l):(y&=C,y!==0?c=wi(y):s||(E=C&~E,E!==0&&(c=wi(E))))):(C=l&~p,C!==0?c=wi(C):y!==0?c=wi(y):s||(E=l&~E,E!==0&&(c=wi(E)))),c===0?0:a!==0&&a!==c&&(a&p)===0&&(p=c&-c,E=a&-a,p>=E||p===32&&(E&4194176)!==0)?a:c}function vr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function el(s,a){switch(s){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ic(){var s=zi;return zi<<=1,(zi&4194176)===0&&(zi=128),s}function _r(){var s=yr;return yr<<=1,(yr&62914560)===0&&(yr=4194304),s}function nl(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function xe(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function kf(s,a,l,c,p,y){var E=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var C=s.entanglements,k=s.expirationTimes,q=s.hiddenUpdates;for(l=E&~l;0<l;){var nt=31-xn(l),at=1<<nt;C[nt]=0,k[nt]=-1;var X=q[nt];if(X!==null)for(q[nt]=null,nt=0;nt<X.length;nt++){var et=X[nt];et!==null&&(et.lane&=-536870913)}l&=~at}c!==0&&Tr(s,c,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(E&~a))}function Tr(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-xn(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194218}function br(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-xn(l),p=1<<c;p&a|s[c]&a&&(s[c]|=a),l&=~p}}function Lf(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Uf(){var s=dt.p;return s!==0?s:(s=window.event,s===void 0?32:w1(s.type))}function Er(s,a){var l=dt.p;try{return dt.p=s,a()}finally{dt.p=l}}var Hi=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Hi,Ue="__reactProps$"+Hi,Es="__reactContainer$"+Hi,ja="__reactEvents$"+Hi,il="__reactListeners$"+Hi,qi="__reactHandles$"+Hi,sc="__reactResources$"+Hi,Sr="__reactMarker$"+Hi;function Ba(s){delete s[Qe],delete s[Ue],delete s[ja],delete s[il],delete s[qi]}function xi(s){var a=s[Qe];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Es]||l[Qe]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=c1(s);s!==null;){if(l=s[Qe])return l;s=c1(s)}return a}s=l,l=s.parentNode}return null}function Ss(s){if(s=s[Qe]||s[Es]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Ar(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function wr(s){var a=s[sc];return a||(a=s[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function he(s){s[Sr]=!0}var rc=new Set,sl={};function zn(s,a){Ln(s,a),Ln(s+"Capture",a)}function Ln(s,a){for(sl[s]=a,s=0;s<a.length;s++)rc.add(a[s])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},oc={};function jf(s){return Jo.call(oc,s)?!0:Jo.call(ac,s)?!1:Zp.test(s)?oc[s]=!0:(ac[s]=!0,!1)}function xr(s,a,l){if(jf(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Rr(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function ni(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}function Rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Bf(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Jp(s){var a=Bf(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(E){c=""+E,y.call(this,E)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Fa(s){s._valueTracker||(s._valueTracker=Jp(s))}function lc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=Bf(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function rl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var As=/[\n"\\]/g;function _e(s){return s.replace(As,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Cr(s,a,l,c,p,y,E,C){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),a!=null?E==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Rn(a)):s.value!==""+Rn(a)&&(s.value=""+Rn(a)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),a!=null?al(s,E,Rn(a)):l!=null?al(s,E,Rn(l)):c!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Rn(C):s.removeAttribute("name")}function $a(s,a,l,c,p,y,E,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Rn(l):"",a=a!=null?""+Rn(a):l,C||a===s.value||(s.value=a),s.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=C?s.checked:!!c,s.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E)}function al(s,a,l){a==="number"&&rl(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Qt(s,a,l,c){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Rn(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,c&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function za(s,a,l){if(a!=null&&(a=""+Rn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Rn(l):""}function Dr(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(ft(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Rn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function ii(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var tg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||tg.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Ff(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&uc(s,p,c)}else for(var y in a)a.hasOwnProperty(y)&&uc(s,y,a[y])}function cc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gi(s){return ng.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var si=null;function ol(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ws=null,xs=null;function Rs(s){var a=Ss(s);if(a&&(s=a.stateNode)){var l=s[Ue]||null;t:switch(s=a.stateNode,a.type){case"input":if(Cr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_e(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var p=c[Ue]||null;if(!p)throw Error(i(90));Cr(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&lc(c)}break t;case"textarea":za(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Qt(s,!!l.multiple,a,!1)}}}var hc=!1;function $f(s,a,l){if(hc)return s(a,l);hc=!0;try{var c=s(a);return c}finally{if(hc=!1,(ws!==null||xs!==null)&&(Md(),ws&&(a=ws,s=xs,xs=ws=null,Rs(a),s)))for(a=0;a<s.length;a++)Rs(s[a])}}function Ha(s,a){var l=s.stateNode;if(l===null)return null;var c=l[Ue]||null;if(c===null)return null;l=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var ri=!1;if(Hn)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){ri=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{ri=!1}var Ki=null,Ir=null,Cs=null;function fc(){if(Cs)return Cs;var s,a=Ir,l=a.length,c,p="value"in Ki?Ki.value:Ki.textContent,y=p.length;for(s=0;s<l&&a[s]===p[s];s++);var E=l-s;for(c=1;c<=E&&a[l-c]===p[y-c];c++);return Cs=p.slice(s,1<c?1-c:void 0)}function Qi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Yi(){return!0}function dc(){return!1}function Ye(s){function a(l,c,p,y,E){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(l=s[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Yi:dc,this.isPropagationStopped=dc,this}return V(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),a}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=Ye(Xt),Ga=V({},Xt,{view:0,detail:0}),zf=Ye(Ga),ul,cl,Wi,Ka=V({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Wi&&(Wi&&s.type==="mousemove"?(ul=s.screenX-Wi.screenX,cl=s.screenY-Wi.screenY):cl=ul=0,Wi=s),ul)},movementY:function(s){return"movementY"in s?s.movementY:cl}}),ai=Ye(Ka),Hf=V({},Ka,{dataTransfer:0}),ig=Ye(Hf),Qa=V({},Ga,{relatedTarget:0}),hl=Ye(Qa),mc=V({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),fl=Ye(mc),qf=V({},Xt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),dl=Ye(qf),sg=V({},Xt,{data:0}),pc=Ye(sg),Ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Kf[s])?!!a[s]:!1}function Wa(){return gc}var Qf=V({},Ga,{key:function(s){if(s.key){var a=Ya[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Qi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Gf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(s){return s.type==="keypress"?Qi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ml=Ye(Qf),Yf=V({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=Ye(Yf),Ds=V({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),Wf=Ye(Ds),Xf=V({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zf=Ye(Xf),Jf=V({},Ka,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),pl=Ye(Jf),Cn=V({},Xt,{newState:0,oldState:0}),td=Ye(Cn),ed=[9,13,27,32],Xi=Hn&&"CompositionEvent"in window,m=null;Hn&&"documentMode"in document&&(m=document.documentMode);var T=Hn&&"TextEvent"in window&&!m,b=Hn&&(!Xi||m&&8<m&&11>=m),D=" ",Q=!1;function Z(s,a){switch(s){case"keyup":return ed.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zt=!1;function je(s,a){switch(s){case"compositionend":return ut(a);case"keypress":return a.which!==32?null:(Q=!0,D);case"textInput":return s=a.data,s===D&&Q?null:s;default:return null}}function Ht(s,a){if(zt)return s==="compositionend"||!Xi&&Z(s,a)?(s=fc(),Cs=Ir=Ki=null,zt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return b&&a.locale!=="ko"?null:a.data;default:return null}}var We={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!We[s.type]:a==="textarea"}function Is(s,a,l,c){ws?xs?xs.push(c):xs=[c]:ws=c,a=Ud(a,"onChange"),0<a.length&&(l=new ll("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var nn=null,Zi=null;function vc(s){e1(s,0)}function nd(s){var a=Ar(s);if(lc(a))return s}function Ib(s,a){if(s==="change")return a}var Pb=!1;if(Hn){var rg;if(Hn){var ag="oninput"in document;if(!ag){var Vb=document.createElement("div");Vb.setAttribute("oninput","return;"),ag=typeof Vb.oninput=="function"}rg=ag}else rg=!1;Pb=rg&&(!document.documentMode||9<document.documentMode)}function Mb(){nn&&(nn.detachEvent("onpropertychange",Ob),Zi=nn=null)}function Ob(s){if(s.propertyName==="value"&&nd(Zi)){var a=[];Is(a,Zi,s,ol(s)),$f(vc,a)}}function jM(s,a,l){s==="focusin"?(Mb(),nn=a,Zi=l,nn.attachEvent("onpropertychange",Ob)):s==="focusout"&&Mb()}function BM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nd(Zi)}function FM(s,a){if(s==="click")return nd(a)}function $M(s,a){if(s==="input"||s==="change")return nd(a)}function zM(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var qn=typeof Object.is=="function"?Object.is:zM;function _c(s,a){if(qn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Jo.call(a,p)||!qn(s[p],a[p]))return!1}return!0}function Nb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function kb(s,a){var l=Nb(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Nb(l)}}function Lb(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Lb(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Ub(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=rl(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=rl(s.document)}return a}function og(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function HM(s,a){var l=Ub(a);a=s.focusedElem;var c=s.selectionRange;if(l!==a&&a&&a.ownerDocument&&Lb(a.ownerDocument.documentElement,a)){if(c!==null&&og(a)){if(s=c.start,l=c.end,l===void 0&&(l=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(l,a.value.length);else if(l=(s=a.ownerDocument||document)&&s.defaultView||window,l.getSelection){l=l.getSelection();var p=a.textContent.length,y=Math.min(c.start,p);c=c.end===void 0?y:Math.min(c.end,p),!l.extend&&y>c&&(p=c,c=y,y=p),p=kb(a,y);var E=kb(a,c);p&&E&&(l.rangeCount!==1||l.anchorNode!==p.node||l.anchorOffset!==p.offset||l.focusNode!==E.node||l.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),l.removeAllRanges(),y>c?(l.addRange(s),l.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),l.addRange(s)))}}for(s=[],l=a;l=l.parentNode;)l.nodeType===1&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)l=s[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var qM=Hn&&"documentMode"in document&&11>=document.documentMode,gl=null,lg=null,Tc=null,ug=!1;function jb(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ug||gl==null||gl!==rl(c)||(c=gl,"selectionStart"in c&&og(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Tc&&_c(Tc,c)||(Tc=c,c=Ud(lg,"onSelect"),0<c.length&&(a=new ll("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=gl)))}function Xa(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var yl={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},cg={},Bb={};Hn&&(Bb=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function Za(s){if(cg[s])return cg[s];if(!yl[s])return s;var a=yl[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in Bb)return cg[s]=a[l];return s}var Fb=Za("animationend"),$b=Za("animationiteration"),zb=Za("animationstart"),GM=Za("transitionrun"),KM=Za("transitionstart"),QM=Za("transitioncancel"),Hb=Za("transitionend"),qb=new Map,Gb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ri(s,a){qb.set(s,a),zn(a,[s])}var oi=[],vl=0,hg=0;function id(){for(var s=vl,a=hg=vl=0;a<s;){var l=oi[a];oi[a++]=null;var c=oi[a];oi[a++]=null;var p=oi[a];oi[a++]=null;var y=oi[a];if(oi[a++]=null,c!==null&&p!==null){var E=c.pending;E===null?p.next=p:(p.next=E.next,E.next=p),c.pending=p}y!==0&&Kb(l,p,y)}}function sd(s,a,l,c){oi[vl++]=s,oi[vl++]=a,oi[vl++]=l,oi[vl++]=c,hg|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function fg(s,a,l,c){return sd(s,a,l,c),rd(s)}function Pr(s,a){return sd(s,null,null,a),rd(s)}function Kb(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;p&&a!==null&&s.tag===3&&(y=s.stateNode,p=31-xn(l),y=y.hiddenUpdates,s=y[p],s===null?y[p]=[a]:s.push(a),a.lane=l|536870912)}function rd(s){if(50<qc)throw qc=0,vy=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var _l={},Qb=new WeakMap;function li(s,a){if(typeof s=="object"&&s!==null){var l=Qb.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ot(a)},Qb.set(s,a),a)}return{value:s,source:a,stack:ot(a)}}var Tl=[],bl=0,ad=null,od=0,ui=[],ci=0,Ja=null,Ps=1,Vs="";function to(s,a){Tl[bl++]=od,Tl[bl++]=ad,ad=s,od=a}function Yb(s,a,l){ui[ci++]=Ps,ui[ci++]=Vs,ui[ci++]=Ja,Ja=s;var c=Ps;s=Vs;var p=32-xn(c)-1;c&=~(1<<p),l+=1;var y=32-xn(a)+p;if(30<y){var E=p-p%5;y=(c&(1<<E)-1).toString(32),c>>=E,p-=E,Ps=1<<32-xn(a)+p|l<<p|c,Vs=y+s}else Ps=1<<y|l<<p|c,Vs=s}function dg(s){s.return!==null&&(to(s,1),Yb(s,1,0))}function mg(s){for(;s===ad;)ad=Tl[--bl],Tl[bl]=null,od=Tl[--bl],Tl[bl]=null;for(;s===Ja;)Ja=ui[--ci],ui[ci]=null,Vs=ui[--ci],ui[ci]=null,Ps=ui[--ci],ui[ci]=null}var Dn=null,sn=null,Yt=!1,Ci=null,Ji=!1,pg=Error(i(519));function eo(s){var a=Error(i(418,""));throw Sc(li(a,s)),pg}function Wb(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[Qe]=s,a[Ue]=c,l){case"dialog":Ft("cancel",a),Ft("close",a);break;case"iframe":case"object":case"embed":Ft("load",a);break;case"video":case"audio":for(l=0;l<Kc.length;l++)Ft(Kc[l],a);break;case"source":Ft("error",a);break;case"img":case"image":case"link":Ft("error",a),Ft("load",a);break;case"details":Ft("toggle",a);break;case"input":Ft("invalid",a),$a(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Fa(a);break;case"select":Ft("invalid",a);break;case"textarea":Ft("invalid",a),Dr(a,c.value,c.defaultValue,c.children),Fa(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||r1(a.textContent,l)?(c.popover!=null&&(Ft("beforetoggle",a),Ft("toggle",a)),c.onScroll!=null&&Ft("scroll",a),c.onScrollEnd!=null&&Ft("scrollend",a),c.onClick!=null&&(a.onclick=jd),a=!0):a=!1,a||eo(s)}function Xb(s){for(Dn=s.return;Dn;)switch(Dn.tag){case 3:case 27:Ji=!0;return;case 5:case 13:Ji=!1;return;default:Dn=Dn.return}}function bc(s){if(s!==Dn)return!1;if(!Yt)return Xb(s),Yt=!0,!1;var a=!1,l;if((l=s.tag!==3&&s.tag!==27)&&((l=s.tag===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ny(s.type,s.memoizedProps)),l=!l),l&&(a=!0),a&&sn&&eo(s),Xb(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){sn=Ii(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}sn=null}}else sn=Dn?Ii(s.stateNode.nextSibling):null;return!0}function Ec(){sn=Dn=null,Yt=!1}function Sc(s){Ci===null?Ci=[s]:Ci.push(s)}var Ac=Error(i(460)),Zb=Error(i(474)),gg={then:function(){}};function Jb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ld(){}function tE(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(ld,ld),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===Ac?Error(i(483)):s;default:if(typeof a.status=="string")a.then(ld,ld);else{if(s=re,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===Ac?Error(i(483)):s}throw wc=a,Ac}}var wc=null;function eE(){if(wc===null)throw Error(i(459));var s=wc;return wc=null,s}var El=null,xc=0;function ud(s){var a=xc;return xc+=1,El===null&&(El=[]),tE(El,s,a)}function Rc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function cd(s,a){throw a.$$typeof===o?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function nE(s){var a=s._init;return a(s._payload)}function iE(s){function a(K,H){if(s){var Y=K.deletions;Y===null?(K.deletions=[H],K.flags|=16):Y.push(H)}}function l(K,H){if(!s)return null;for(;H!==null;)a(K,H),H=H.sibling;return null}function c(K){for(var H=new Map;K!==null;)K.key!==null?H.set(K.key,K):H.set(K.index,K),K=K.sibling;return H}function p(K,H){return K=zr(K,H),K.index=0,K.sibling=null,K}function y(K,H,Y){return K.index=Y,s?(Y=K.alternate,Y!==null?(Y=Y.index,Y<H?(K.flags|=33554434,H):Y):(K.flags|=33554434,H)):(K.flags|=1048576,H)}function E(K){return s&&K.alternate===null&&(K.flags|=33554434),K}function C(K,H,Y,it){return H===null||H.tag!==6?(H=cy(Y,K.mode,it),H.return=K,H):(H=p(H,Y),H.return=K,H)}function k(K,H,Y,it){var gt=Y.type;return gt===f?nt(K,H,Y.props.children,it,Y.key):H!==null&&(H.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===j&&nE(gt)===H.type)?(H=p(H,Y.props),Rc(H,Y),H.return=K,H):(H=Cd(Y.type,Y.key,Y.props,null,K.mode,it),Rc(H,Y),H.return=K,H)}function q(K,H,Y,it){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=hy(Y,K.mode,it),H.return=K,H):(H=p(H,Y.children||[]),H.return=K,H)}function nt(K,H,Y,it,gt){return H===null||H.tag!==7?(H=ho(Y,K.mode,it,gt),H.return=K,H):(H=p(H,Y),H.return=K,H)}function at(K,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=cy(""+H,K.mode,Y),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case u:return Y=Cd(H.type,H.key,H.props,null,K.mode,Y),Rc(Y,H),Y.return=K,Y;case h:return H=hy(H,K.mode,Y),H.return=K,H;case j:var it=H._init;return H=it(H._payload),at(K,H,Y)}if(ft(H)||tt(H))return H=ho(H,K.mode,Y,null),H.return=K,H;if(typeof H.then=="function")return at(K,ud(H),Y);if(H.$$typeof===S)return at(K,wd(K,H),Y);cd(K,H)}return null}function X(K,H,Y,it){var gt=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return gt!==null?null:C(K,H,""+Y,it);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case u:return Y.key===gt?k(K,H,Y,it):null;case h:return Y.key===gt?q(K,H,Y,it):null;case j:return gt=Y._init,Y=gt(Y._payload),X(K,H,Y,it)}if(ft(Y)||tt(Y))return gt!==null?null:nt(K,H,Y,it,null);if(typeof Y.then=="function")return X(K,H,ud(Y),it);if(Y.$$typeof===S)return X(K,H,wd(K,Y),it);cd(K,Y)}return null}function et(K,H,Y,it,gt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return K=K.get(Y)||null,C(H,K,""+it,gt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case u:return K=K.get(it.key===null?Y:it.key)||null,k(H,K,it,gt);case h:return K=K.get(it.key===null?Y:it.key)||null,q(H,K,it,gt);case j:var Lt=it._init;return it=Lt(it._payload),et(K,H,Y,it,gt)}if(ft(it)||tt(it))return K=K.get(Y)||null,nt(H,K,it,gt,null);if(typeof it.then=="function")return et(K,H,Y,ud(it),gt);if(it.$$typeof===S)return et(K,H,Y,wd(H,it),gt);cd(H,it)}return null}function yt(K,H,Y,it){for(var gt=null,Lt=null,_t=H,Et=H=0,Je=null;_t!==null&&Et<Y.length;Et++){_t.index>Et?(Je=_t,_t=null):Je=_t.sibling;var Wt=X(K,_t,Y[Et],it);if(Wt===null){_t===null&&(_t=Je);break}s&&_t&&Wt.alternate===null&&a(K,_t),H=y(Wt,H,Et),Lt===null?gt=Wt:Lt.sibling=Wt,Lt=Wt,_t=Je}if(Et===Y.length)return l(K,_t),Yt&&to(K,Et),gt;if(_t===null){for(;Et<Y.length;Et++)_t=at(K,Y[Et],it),_t!==null&&(H=y(_t,H,Et),Lt===null?gt=_t:Lt.sibling=_t,Lt=_t);return Yt&&to(K,Et),gt}for(_t=c(_t);Et<Y.length;Et++)Je=et(_t,K,Et,Y[Et],it),Je!==null&&(s&&Je.alternate!==null&&_t.delete(Je.key===null?Et:Je.key),H=y(Je,H,Et),Lt===null?gt=Je:Lt.sibling=Je,Lt=Je);return s&&_t.forEach(function(Wr){return a(K,Wr)}),Yt&&to(K,Et),gt}function Ct(K,H,Y,it){if(Y==null)throw Error(i(151));for(var gt=null,Lt=null,_t=H,Et=H=0,Je=null,Wt=Y.next();_t!==null&&!Wt.done;Et++,Wt=Y.next()){_t.index>Et?(Je=_t,_t=null):Je=_t.sibling;var Wr=X(K,_t,Wt.value,it);if(Wr===null){_t===null&&(_t=Je);break}s&&_t&&Wr.alternate===null&&a(K,_t),H=y(Wr,H,Et),Lt===null?gt=Wr:Lt.sibling=Wr,Lt=Wr,_t=Je}if(Wt.done)return l(K,_t),Yt&&to(K,Et),gt;if(_t===null){for(;!Wt.done;Et++,Wt=Y.next())Wt=at(K,Wt.value,it),Wt!==null&&(H=y(Wt,H,Et),Lt===null?gt=Wt:Lt.sibling=Wt,Lt=Wt);return Yt&&to(K,Et),gt}for(_t=c(_t);!Wt.done;Et++,Wt=Y.next())Wt=et(_t,K,Et,Wt.value,it),Wt!==null&&(s&&Wt.alternate!==null&&_t.delete(Wt.key===null?Et:Wt.key),H=y(Wt,H,Et),Lt===null?gt=Wt:Lt.sibling=Wt,Lt=Wt);return s&&_t.forEach(function(lN){return a(K,lN)}),Yt&&to(K,Et),gt}function Ee(K,H,Y,it){if(typeof Y=="object"&&Y!==null&&Y.type===f&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case u:t:{for(var gt=Y.key;H!==null;){if(H.key===gt){if(gt=Y.type,gt===f){if(H.tag===7){l(K,H.sibling),it=p(H,Y.props.children),it.return=K,K=it;break t}}else if(H.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===j&&nE(gt)===H.type){l(K,H.sibling),it=p(H,Y.props),Rc(it,Y),it.return=K,K=it;break t}l(K,H);break}else a(K,H);H=H.sibling}Y.type===f?(it=ho(Y.props.children,K.mode,it,Y.key),it.return=K,K=it):(it=Cd(Y.type,Y.key,Y.props,null,K.mode,it),Rc(it,Y),it.return=K,K=it)}return E(K);case h:t:{for(gt=Y.key;H!==null;){if(H.key===gt)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){l(K,H.sibling),it=p(H,Y.children||[]),it.return=K,K=it;break t}else{l(K,H);break}else a(K,H);H=H.sibling}it=hy(Y,K.mode,it),it.return=K,K=it}return E(K);case j:return gt=Y._init,Y=gt(Y._payload),Ee(K,H,Y,it)}if(ft(Y))return yt(K,H,Y,it);if(tt(Y)){if(gt=tt(Y),typeof gt!="function")throw Error(i(150));return Y=gt.call(Y),Ct(K,H,Y,it)}if(typeof Y.then=="function")return Ee(K,H,ud(Y),it);if(Y.$$typeof===S)return Ee(K,H,wd(K,Y),it);cd(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,H!==null&&H.tag===6?(l(K,H.sibling),it=p(H,Y),it.return=K,K=it):(l(K,H),it=cy(Y,K.mode,it),it.return=K,K=it),E(K)):l(K,H)}return function(K,H,Y,it){try{xc=0;var gt=Ee(K,H,Y,it);return El=null,gt}catch(_t){if(_t===Ac)throw _t;var Lt=mi(29,_t,null,K.mode);return Lt.lanes=it,Lt.return=K,Lt}finally{}}}var no=iE(!0),sE=iE(!1),Sl=Kt(null),hd=Kt(0);function rE(s,a){s=zs,te(hd,s),te(Sl,a),zs=s|a.baseLanes}function yg(){te(hd,zs),te(Sl,Sl.current)}function vg(){zs=hd.current,ve(Sl),ve(hd)}var hi=Kt(null),ts=null;function Vr(s){var a=s.alternate;te(Fe,Fe.current&1),te(hi,s),ts===null&&(a===null||Sl.current!==null||a.memoizedState!==null)&&(ts=s)}function aE(s){if(s.tag===22){if(te(Fe,Fe.current),te(hi,s),ts===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(ts=s)}}else Mr()}function Mr(){te(Fe,Fe.current),te(hi,hi.current)}function Ms(s){ve(hi),ts===s&&(ts=null),ve(Fe)}var Fe=Kt(0);function fd(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var YM=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},WM=e.unstable_scheduleCallback,XM=e.unstable_NormalPriority,$e={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _g(){return{controller:new YM,data:new Map,refCount:0}}function Cc(s){s.refCount--,s.refCount===0&&WM(XM,function(){s.controller.abort()})}var Dc=null,Tg=0,Al=0,wl=null;function ZM(s,a){if(Dc===null){var l=Dc=[];Tg=0,Al=xy(),wl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Tg++,a.then(oE,oE),a}function oE(){if(--Tg===0&&Dc!==null){wl!==null&&(wl.status="fulfilled");var s=Dc;Dc=null,Al=0,wl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function JM(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var lE=x.S;x.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&ZM(s,a),lE!==null&&lE(s,a)};var io=Kt(null);function bg(){var s=io.current;return s!==null?s:re.pooledCache}function dd(s,a){a===null?te(io,io.current):te(io,a.pool)}function uE(){var s=bg();return s===null?null:{parent:$e._currentValue,pool:s}}var Or=0,Nt=null,ee=null,Ve=null,md=!1,xl=!1,so=!1,pd=0,Ic=0,Rl=null,tO=0;function Re(){throw Error(i(321))}function Eg(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!qn(s[l],a[l]))return!1;return!0}function Sg(s,a,l,c,p,y){return Or=y,Nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,x.H=s===null||s.memoizedState===null?ro:Nr,so=!1,y=l(c,p),so=!1,xl&&(y=hE(a,l,c,p)),cE(s),y}function cE(s){x.H=es;var a=ee!==null&&ee.next!==null;if(Or=0,Ve=ee=Nt=null,md=!1,Ic=0,Rl=null,a)throw Error(i(300));s===null||Xe||(s=s.dependencies,s!==null&&Ad(s)&&(Xe=!0))}function hE(s,a,l,c){Nt=s;var p=0;do{if(xl&&(Rl=null),Ic=0,xl=!1,25<=p)throw Error(i(301));if(p+=1,Ve=ee=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}x.H=ao,y=a(l,c)}while(xl);return y}function eO(){var s=x.H,a=s.useState()[0];return a=typeof a.then=="function"?Pc(a):a,s=s.useState()[0],(ee!==null?ee.memoizedState:null)!==s&&(Nt.flags|=1024),a}function Ag(){var s=pd!==0;return pd=0,s}function wg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function xg(s){if(md){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}md=!1}Or=0,Ve=ee=Nt=null,xl=!1,Ic=pd=0,Rl=null}function Un(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Nt.memoizedState=Ve=s:Ve=Ve.next=s,Ve}function Me(){if(ee===null){var s=Nt.alternate;s=s!==null?s.memoizedState:null}else s=ee.next;var a=Ve===null?Nt.memoizedState:Ve.next;if(a!==null)Ve=a,ee=s;else{if(s===null)throw Nt.alternate===null?Error(i(467)):Error(i(310));ee=s,s={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ve===null?Nt.memoizedState=Ve=s:Ve=Ve.next=s}return Ve}var gd;gd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Pc(s){var a=Ic;return Ic+=1,Rl===null&&(Rl=[]),s=tE(Rl,s,a),a=Nt,(Ve===null?a.memoizedState:Ve.next)===null&&(a=a.alternate,x.H=a===null||a.memoizedState===null?ro:Nr),s}function yd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Pc(s);if(s.$$typeof===S)return mn(s)}throw Error(i(438,String(s)))}function Rg(s){var a=null,l=Nt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Nt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=gd(),Nt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=W;return a.index++,l}function Os(s,a){return typeof a=="function"?a(s):a}function vd(s){var a=Me();return Cg(a,ee,s)}function Cg(s,a,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=s.baseQueue,y=c.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}a.baseQueue=p=y,c.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{a=p.next;var C=E=null,k=null,q=a,nt=!1;do{var at=q.lane&-536870913;if(at!==q.lane?(qt&at)===at:(Or&at)===at){var X=q.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),at===Al&&(nt=!0);else if((Or&X)===X){q=q.next,X===Al&&(nt=!0);continue}else at={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(C=k=at,E=y):k=k.next=at,Nt.lanes|=X,Hr|=X;at=q.action,so&&l(y,at),y=q.hasEagerState?q.eagerState:l(y,at)}else X={lane:at,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(C=k=X,E=y):k=k.next=X,Nt.lanes|=at,Hr|=at;q=q.next}while(q!==null&&q!==a);if(k===null?E=y:k.next=C,!qn(y,s.memoizedState)&&(Xe=!0,nt&&(l=wl,l!==null)))throw l;s.memoizedState=y,s.baseState=E,s.baseQueue=k,c.lastRenderedState=y}return p===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Dg(s){var a=Me(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=s(y,E.action),E=E.next;while(E!==p);qn(y,a.memoizedState)||(Xe=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function fE(s,a,l){var c=Nt,p=Me(),y=Yt;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var E=!qn((ee||p).memoizedState,l);if(E&&(p.memoizedState=l,Xe=!0),p=p.queue,Vg(pE.bind(null,c,p,s),[s]),p.getSnapshot!==a||E||Ve!==null&&Ve.memoizedState.tag&1){if(c.flags|=2048,Cl(9,mE.bind(null,c,p,l,a),{destroy:void 0},null),re===null)throw Error(i(349));y||(Or&60)!==0||dE(c,a,l)}return l}function dE(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Nt.updateQueue,a===null?(a=gd(),Nt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function mE(s,a,l,c){a.value=l,a.getSnapshot=c,gE(a)&&yE(s)}function pE(s,a,l){return l(function(){gE(a)&&yE(s)})}function gE(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!qn(s,l)}catch{return!0}}function yE(s){var a=Pr(s,2);a!==null&&In(a,s,2)}function Ig(s){var a=Un();if(typeof s=="function"){var l=s;if(s=l(),so){$i(!0);try{l()}finally{$i(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:s},a}function vE(s,a,l,c){return s.baseState=l,Cg(s,ee,typeof c=="function"?c:Os)}function nO(s,a,l,c,p){if(bd(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};x.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,_E(a,y)):(y.next=l.next,a.pending=l.next=y)}}function _E(s,a){var l=a.action,c=a.payload,p=s.state;if(a.isTransition){var y=x.T,E={};x.T=E;try{var C=l(p,c),k=x.S;k!==null&&k(E,C),TE(s,a,C)}catch(q){Pg(s,a,q)}finally{x.T=y}}else try{y=l(p,c),TE(s,a,y)}catch(q){Pg(s,a,q)}}function TE(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){bE(s,a,c)},function(c){return Pg(s,a,c)}):bE(s,a,l)}function bE(s,a,l){a.status="fulfilled",a.value=l,EE(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,_E(s,l)))}function Pg(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,EE(a),a=a.next;while(a!==c)}s.action=null}function EE(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function SE(s,a){return a}function AE(s,a){if(Yt){var l=re.formState;if(l!==null){t:{var c=Nt;if(Yt){if(sn){e:{for(var p=sn,y=Ji;p.nodeType!==8;){if(!y){p=null;break e}if(p=Ii(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){sn=Ii(p.nextSibling),c=p.data==="F!";break t}}eo(c)}c=!1}c&&(a=l[0])}}return l=Un(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SE,lastRenderedState:a},l.queue=c,l=$E.bind(null,Nt,c),c.dispatch=l,c=Ig(!1),y=Lg.bind(null,Nt,!1,c.queue),c=Un(),p={state:a,dispatch:null,action:s,pending:null},c.queue=p,l=nO.bind(null,Nt,p,y,l),p.dispatch=l,c.memoizedState=s,[a,l,!1]}function wE(s){var a=Me();return xE(a,ee,s)}function xE(s,a,l){a=Cg(s,a,SE)[0],s=vd(Os)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Pc(a):a;var c=Me(),p=c.queue,y=p.dispatch;return l!==c.memoizedState&&(Nt.flags|=2048,Cl(9,iO.bind(null,p,l),{destroy:void 0},null)),[a,y,s]}function iO(s,a){s.action=a}function RE(s){var a=Me(),l=ee;if(l!==null)return xE(a,l,s);Me(),a=a.memoizedState,l=Me();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function Cl(s,a,l,c){return s={tag:s,create:a,inst:l,deps:c,next:null},a=Nt.updateQueue,a===null&&(a=gd(),Nt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function CE(){return Me().memoizedState}function _d(s,a,l,c){var p=Un();Nt.flags|=s,p.memoizedState=Cl(1|a,l,{destroy:void 0},c===void 0?null:c)}function Td(s,a,l,c){var p=Me();c=c===void 0?null:c;var y=p.memoizedState.inst;ee!==null&&c!==null&&Eg(c,ee.memoizedState.deps)?p.memoizedState=Cl(a,l,y,c):(Nt.flags|=s,p.memoizedState=Cl(1|a,l,y,c))}function DE(s,a){_d(8390656,8,s,a)}function Vg(s,a){Td(2048,8,s,a)}function IE(s,a){return Td(4,2,s,a)}function PE(s,a){return Td(4,4,s,a)}function VE(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function ME(s,a,l){l=l!=null?l.concat([s]):null,Td(4,4,VE.bind(null,a,s),l)}function Mg(){}function OE(s,a){var l=Me();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Eg(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function NE(s,a){var l=Me();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Eg(a,c[1]))return c[0];if(c=s(),so){$i(!0);try{s()}finally{$i(!1)}}return l.memoizedState=[c,a],c}function Og(s,a,l){return l===void 0||(Or&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=LS(),Nt.lanes|=s,Hr|=s,l)}function kE(s,a,l,c){return qn(l,a)?l:Sl.current!==null?(s=Og(s,l,c),qn(s,a)||(Xe=!0),s):(Or&42)===0?(Xe=!0,s.memoizedState=l):(s=LS(),Nt.lanes|=s,Hr|=s,a)}function LE(s,a,l,c,p){var y=dt.p;dt.p=y!==0&&8>y?y:8;var E=x.T,C={};x.T=C,Lg(s,!1,a,l);try{var k=p(),q=x.S;if(q!==null&&q(C,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var nt=JM(k,c);Vc(s,a,nt,Yn(s))}else Vc(s,a,c,Yn(s))}catch(at){Vc(s,a,{then:function(){},status:"rejected",reason:at},Yn())}finally{dt.p=y,x.T=E}}function sO(){}function Ng(s,a,l,c){if(s.tag!==5)throw Error(i(476));var p=UE(s).queue;LE(s,p,a,Mt,l===null?sO:function(){return jE(s),l(c)})}function UE(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Mt,baseState:Mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:Mt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function jE(s){var a=UE(s).next.queue;Vc(s,a,{},Yn())}function kg(){return mn(Zc)}function BE(){return Me().memoizedState}function FE(){return Me().memoizedState}function rO(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Yn();s=Ur(l);var c=jr(a,s,l);c!==null&&(In(c,a,l),Nc(c,a,l)),a={cache:_g()},s.payload=a;return}a=a.return}}function aO(s,a,l){var c=Yn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},bd(s)?zE(a,l):(l=fg(s,a,l,c),l!==null&&(In(l,s,c),HE(l,a,c)))}function $E(s,a,l){var c=Yn();Vc(s,a,l,c)}function Vc(s,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(bd(s))zE(a,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var E=a.lastRenderedState,C=y(E,l);if(p.hasEagerState=!0,p.eagerState=C,qn(C,E))return sd(s,a,p,0),re===null&&id(),!1}catch{}finally{}if(l=fg(s,a,p,c),l!==null)return In(l,s,c),HE(l,a,c),!0}return!1}function Lg(s,a,l,c){if(c={lane:2,revertLane:xy(),action:c,hasEagerState:!1,eagerState:null,next:null},bd(s)){if(a)throw Error(i(479))}else a=fg(s,l,c,2),a!==null&&In(a,s,2)}function bd(s){var a=s.alternate;return s===Nt||a!==null&&a===Nt}function zE(s,a){xl=md=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function HE(s,a,l){if((l&4194176)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,br(s,l)}}var es={readContext:mn,use:yd,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re};es.useCacheRefresh=Re,es.useMemoCache=Re,es.useHostTransitionStatus=Re,es.useFormState=Re,es.useActionState=Re,es.useOptimistic=Re;var ro={readContext:mn,use:yd,useCallback:function(s,a){return Un().memoizedState=[s,a===void 0?null:a],s},useContext:mn,useEffect:DE,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,_d(4194308,4,VE.bind(null,a,s),l)},useLayoutEffect:function(s,a){return _d(4194308,4,s,a)},useInsertionEffect:function(s,a){_d(4,2,s,a)},useMemo:function(s,a){var l=Un();a=a===void 0?null:a;var c=s();if(so){$i(!0);try{s()}finally{$i(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=Un();if(l!==void 0){var p=l(a);if(so){$i(!0);try{l(a)}finally{$i(!1)}}}else p=a;return c.memoizedState=c.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},c.queue=s,s=s.dispatch=aO.bind(null,Nt,s),[c.memoizedState,s]},useRef:function(s){var a=Un();return s={current:s},a.memoizedState=s},useState:function(s){s=Ig(s);var a=s.queue,l=$E.bind(null,Nt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Mg,useDeferredValue:function(s,a){var l=Un();return Og(l,s,a)},useTransition:function(){var s=Ig(!1);return s=LE.bind(null,Nt,s.queue,!0,!1),Un().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Nt,p=Un();if(Yt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),re===null)throw Error(i(349));(qt&60)!==0||dE(c,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,DE(pE.bind(null,c,y,s),[s]),c.flags|=2048,Cl(9,mE.bind(null,c,y,l,a),{destroy:void 0},null),l},useId:function(){var s=Un(),a=re.identifierPrefix;if(Yt){var l=Vs,c=Ps;l=(c&~(1<<32-xn(c)-1)).toString(32)+l,a=":"+a+"R"+l,l=pd++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=tO++,a=":"+a+"r"+l.toString(32)+":";return s.memoizedState=a},useCacheRefresh:function(){return Un().memoizedState=rO.bind(null,Nt)}};ro.useMemoCache=Rg,ro.useHostTransitionStatus=kg,ro.useFormState=AE,ro.useActionState=AE,ro.useOptimistic=function(s){var a=Un();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Lg.bind(null,Nt,!0,l),l.dispatch=a,[s,a]};var Nr={readContext:mn,use:yd,useCallback:OE,useContext:mn,useEffect:Vg,useImperativeHandle:ME,useInsertionEffect:IE,useLayoutEffect:PE,useMemo:NE,useReducer:vd,useRef:CE,useState:function(){return vd(Os)},useDebugValue:Mg,useDeferredValue:function(s,a){var l=Me();return kE(l,ee.memoizedState,s,a)},useTransition:function(){var s=vd(Os)[0],a=Me().memoizedState;return[typeof s=="boolean"?s:Pc(s),a]},useSyncExternalStore:fE,useId:BE};Nr.useCacheRefresh=FE,Nr.useMemoCache=Rg,Nr.useHostTransitionStatus=kg,Nr.useFormState=wE,Nr.useActionState=wE,Nr.useOptimistic=function(s,a){var l=Me();return vE(l,ee,s,a)};var ao={readContext:mn,use:yd,useCallback:OE,useContext:mn,useEffect:Vg,useImperativeHandle:ME,useInsertionEffect:IE,useLayoutEffect:PE,useMemo:NE,useReducer:Dg,useRef:CE,useState:function(){return Dg(Os)},useDebugValue:Mg,useDeferredValue:function(s,a){var l=Me();return ee===null?Og(l,s,a):kE(l,ee.memoizedState,s,a)},useTransition:function(){var s=Dg(Os)[0],a=Me().memoizedState;return[typeof s=="boolean"?s:Pc(s),a]},useSyncExternalStore:fE,useId:BE};ao.useCacheRefresh=FE,ao.useMemoCache=Rg,ao.useHostTransitionStatus=kg,ao.useFormState=RE,ao.useActionState=RE,ao.useOptimistic=function(s,a){var l=Me();return ee!==null?vE(l,ee,s,a):(l.baseState=s,[s,l.queue.dispatch])};function Ug(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:V({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var jg={isMounted:function(s){return(s=s._reactInternals)?ct(s)===s:!1},enqueueSetState:function(s,a,l){s=s._reactInternals;var c=Yn(),p=Ur(c);p.payload=a,l!=null&&(p.callback=l),a=jr(s,p,c),a!==null&&(In(a,s,c),Nc(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=Yn(),p=Ur(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=jr(s,p,c),a!==null&&(In(a,s,c),Nc(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Yn(),c=Ur(l);c.tag=2,a!=null&&(c.callback=a),a=jr(s,c,l),a!==null&&(In(a,s,l),Nc(a,s,l))}};function qE(s,a,l,c,p,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,E):a.prototype&&a.prototype.isPureReactComponent?!_c(l,c)||!_c(p,y):!0}function GE(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&jg.enqueueReplaceState(a,a.state,null)}function oo(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=V({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var Ed=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function KE(s){Ed(s)}function QE(s){console.error(s)}function YE(s){Ed(s)}function Sd(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function WE(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Bg(s,a,l){return l=Ur(l),l.tag=3,l.payload={element:null},l.callback=function(){Sd(s,a)},l}function XE(s){return s=Ur(s),s.tag=3,s}function ZE(s,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;s.payload=function(){return p(y)},s.callback=function(){WE(a,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){WE(a,l,c),typeof p!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function oO(s,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Oc(a,l,p,!0),l=hi.current,l!==null){switch(l.tag){case 13:return ts===null?by():l.alternate===null&&be===0&&(be=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===gg?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Sy(s,c,p)),!1;case 22:return l.flags|=65536,c===gg?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Sy(s,c,p)),!1}throw Error(i(435,l.tag))}return Sy(s,c,p),by(),!1}if(Yt)return a=hi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==pg&&(s=Error(i(422),{cause:c}),Sc(li(s,l)))):(c!==pg&&(a=Error(i(423),{cause:c}),Sc(li(a,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,c=li(c,l),p=Bg(s.stateNode,c,p),ey(s,p),be!==4&&(be=2)),!1;var y=Error(i(520),{cause:c});if(y=li(y,l),zc===null?zc=[y]:zc.push(y),be!==4&&(be=2),a===null)return!0;c=li(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=Bg(l.stateNode,c,s),ey(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qr===null||!qr.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=XE(p),ZE(p,s,l,c),ey(l,p),!1}l=l.return}while(l!==null);return!1}var JE=Error(i(461)),Xe=!1;function rn(s,a,l,c){a.child=s===null?sE(a,null,l,c):no(a,s.child,l,c)}function tS(s,a,l,c,p){l=l.render;var y=a.ref;if("ref"in c){var E={};for(var C in c)C!=="ref"&&(E[C]=c[C])}else E=c;return uo(a),c=Sg(s,a,l,E,y,p),C=Ag(),s!==null&&!Xe?(wg(s,a,p),Ns(s,a,p)):(Yt&&C&&dg(a),a.flags|=1,rn(s,a,c,p),a.child)}function eS(s,a,l,c,p){if(s===null){var y=l.type;return typeof y=="function"&&!uy(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,nS(s,a,y,c,p)):(s=Cd(l.type,null,c,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Yg(s,p)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:_c,l(E,c)&&s.ref===a.ref)return Ns(s,a,p)}return a.flags|=1,s=zr(y,c),s.ref=a.ref,s.return=a,a.child=s}function nS(s,a,l,c,p){if(s!==null){var y=s.memoizedProps;if(_c(y,c)&&s.ref===a.ref)if(Xe=!1,a.pendingProps=c=y,Yg(s,p))(s.flags&131072)!==0&&(Xe=!0);else return a.lanes=s.lanes,Ns(s,a,p)}return Fg(s,a,l,c,p)}function iS(s,a,l){var c=a.pendingProps,p=c.children,y=(a.stateNode._pendingVisibility&2)!==0,E=s!==null?s.memoizedState:null;if(Mc(s,a),c.mode==="hidden"||y){if((a.flags&128)!==0){if(c=E!==null?E.baseLanes|l:l,s!==null){for(p=a.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return sS(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&dd(a,E!==null?E.cachePool:null),E!==null?rE(a,E):yg(),aE(a);else return a.lanes=a.childLanes=536870912,sS(s,a,E!==null?E.baseLanes|l:l,l)}else E!==null?(dd(a,E.cachePool),rE(a,E),Mr(),a.memoizedState=null):(s!==null&&dd(a,null),yg(),Mr());return rn(s,a,p,l),a.child}function sS(s,a,l,c){var p=bg();return p=p===null?null:{parent:$e._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&dd(a,null),yg(),aE(a),s!==null&&Oc(s,a,c,!0),null}function Mc(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=2097664)}}function Fg(s,a,l,c,p){return uo(a),l=Sg(s,a,l,c,void 0,p),c=Ag(),s!==null&&!Xe?(wg(s,a,p),Ns(s,a,p)):(Yt&&c&&dg(a),a.flags|=1,rn(s,a,l,p),a.child)}function rS(s,a,l,c,p,y){return uo(a),a.updateQueue=null,l=hE(a,c,l,p),cE(s),c=Ag(),s!==null&&!Xe?(wg(s,a,y),Ns(s,a,y)):(Yt&&c&&dg(a),a.flags|=1,rn(s,a,l,y),a.child)}function aS(s,a,l,c,p){if(uo(a),a.stateNode===null){var y=_l,E=l.contextType;typeof E=="object"&&E!==null&&(y=mn(E)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=jg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},Jg(a),E=l.contextType,y.context=typeof E=="object"&&E!==null?mn(E):_l,y.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Ug(a,l,E,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&jg.enqueueReplaceState(y,y.state,null),Lc(a,c,y,p),kc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var C=a.memoizedProps,k=oo(l,C);y.props=k;var q=y.context,nt=l.contextType;E=_l,typeof nt=="object"&&nt!==null&&(E=mn(nt));var at=l.getDerivedStateFromProps;nt=typeof at=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,nt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||q!==E)&&GE(a,y,c,E),Lr=!1;var X=a.memoizedState;y.state=X,Lc(a,c,y,p),kc(),q=a.memoizedState,C||X!==q||Lr?(typeof at=="function"&&(Ug(a,l,at,c),q=a.memoizedState),(k=Lr||qE(a,l,k,c,X,q,E))?(nt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=q),y.props=c,y.state=q,y.context=E,c=k):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,ty(s,a),E=a.memoizedProps,nt=oo(l,E),y.props=nt,at=a.pendingProps,X=y.context,q=l.contextType,k=_l,typeof q=="object"&&q!==null&&(k=mn(q)),C=l.getDerivedStateFromProps,(q=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==at||X!==k)&&GE(a,y,c,k),Lr=!1,X=a.memoizedState,y.state=X,Lc(a,c,y,p),kc();var et=a.memoizedState;E!==at||X!==et||Lr||s!==null&&s.dependencies!==null&&Ad(s.dependencies)?(typeof C=="function"&&(Ug(a,l,C,c),et=a.memoizedState),(nt=Lr||qE(a,l,nt,c,X,et,k)||s!==null&&s.dependencies!==null&&Ad(s.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,et,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,et,k)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=et),y.props=c,y.state=et,y.context=k,c=nt):(typeof y.componentDidUpdate!="function"||E===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,Mc(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=no(a,s.child,null,p),a.child=no(a,null,l,p)):rn(s,a,l,p),a.memoizedState=y.state,s=a.child):s=Ns(s,a,p),s}function oS(s,a,l,c){return Ec(),a.flags|=256,rn(s,a,l,c),a.child}var $g={dehydrated:null,treeContext:null,retryLane:0};function zg(s){return{baseLanes:s,cachePool:uE()}}function Hg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=pi),s}function lS(s,a,l){var c=a.pendingProps,p=!1,y=(a.flags&128)!==0,E;if((E=y)||(E=s!==null&&s.memoizedState===null?!1:(Fe.current&2)!==0),E&&(p=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,s===null){if(Yt){if(p?Vr(a):Mr(),Yt){var C=sn,k;if(k=C){t:{for(k=C,C=Ji;k.nodeType!==8;){if(!C){C=null;break t}if(k=Ii(k.nextSibling),k===null){C=null;break t}}C=k}C!==null?(a.memoizedState={dehydrated:C,treeContext:Ja!==null?{id:Ps,overflow:Vs}:null,retryLane:536870912},k=mi(18,null,null,0),k.stateNode=C,k.return=a,a.child=k,Dn=a,sn=null,k=!0):k=!1}k||eo(a)}if(C=a.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return C.data==="$!"?a.lanes=16:a.lanes=536870912,null;Ms(a)}return C=c.children,c=c.fallback,p?(Mr(),p=a.mode,C=Gg({mode:"hidden",children:C},p),c=ho(c,p,l,null),C.return=a,c.return=a,C.sibling=c,a.child=C,p=a.child,p.memoizedState=zg(l),p.childLanes=Hg(s,E,l),a.memoizedState=$g,c):(Vr(a),qg(a,C))}if(k=s.memoizedState,k!==null&&(C=k.dehydrated,C!==null)){if(y)a.flags&256?(Vr(a),a.flags&=-257,a=Kg(s,a,l)):a.memoizedState!==null?(Mr(),a.child=s.child,a.flags|=128,a=null):(Mr(),p=c.fallback,C=a.mode,c=Gg({mode:"visible",children:c.children},C),p=ho(p,C,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,no(a,s.child,null,l),c=a.child,c.memoizedState=zg(l),c.childLanes=Hg(s,E,l),a.memoizedState=$g,a=p);else if(Vr(a),C.data==="$!"){if(E=C.nextSibling&&C.nextSibling.dataset,E)var q=E.dgst;E=q,c=Error(i(419)),c.stack="",c.digest=E,Sc({value:c,source:null,stack:null}),a=Kg(s,a,l)}else if(Xe||Oc(s,a,l,!1),E=(l&s.childLanes)!==0,Xe||E){if(E=re,E!==null){if(c=l&-l,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(E.suspendedLanes|l))!==0?0:c,c!==0&&c!==k.retryLane)throw k.retryLane=c,Pr(s,c),In(E,s,c),JE}C.data==="$?"||by(),a=Kg(s,a,l)}else C.data==="$?"?(a.flags|=128,a.child=s.child,a=EO.bind(null,s),C._reactRetry=a,a=null):(s=k.treeContext,sn=Ii(C.nextSibling),Dn=a,Yt=!0,Ci=null,Ji=!1,s!==null&&(ui[ci++]=Ps,ui[ci++]=Vs,ui[ci++]=Ja,Ps=s.id,Vs=s.overflow,Ja=a),a=qg(a,c.children),a.flags|=4096);return a}return p?(Mr(),p=c.fallback,C=a.mode,k=s.child,q=k.sibling,c=zr(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&31457280,q!==null?p=zr(q,p):(p=ho(p,C,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,C=s.child.memoizedState,C===null?C=zg(l):(k=C.cachePool,k!==null?(q=$e._currentValue,k=k.parent!==q?{parent:q,pool:q}:k):k=uE(),C={baseLanes:C.baseLanes|l,cachePool:k}),p.memoizedState=C,p.childLanes=Hg(s,E,l),a.memoizedState=$g,c):(Vr(a),l=s.child,s=l.sibling,l=zr(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(E=a.deletions,E===null?(a.deletions=[s],a.flags|=16):E.push(s)),a.child=l,a.memoizedState=null,l)}function qg(s,a){return a=Gg({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Gg(s,a){return OS(s,a,0,null)}function Kg(s,a,l){return no(a,s.child,null,l),s=qg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function uS(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),Xg(s.return,a,l)}function Qg(s,a,l,c,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p)}function cS(s,a,l){var c=a.pendingProps,p=c.revealOrder,y=c.tail;if(rn(s,a,c.children,l),c=Fe.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&uS(s,l,a);else if(s.tag===19)uS(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(te(Fe,c),p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&fd(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Qg(a,!1,p,l,y);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&fd(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Qg(a,!0,l,null,y);break;case"together":Qg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ns(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Hr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Oc(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=zr(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=zr(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Yg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Ad(s)))}function lO(s,a,l){switch(a.tag){case 3:pr(a,a.stateNode.containerInfo),kr(a,$e,s.memoizedState.cache),Ec();break;case 27:case 5:Zu(a);break;case 4:pr(a,a.stateNode.containerInfo);break;case 10:kr(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Vr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?lS(s,a,l):(Vr(a),s=Ns(s,a,l),s!==null?s.sibling:null);Vr(a);break;case 19:var p=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Oc(s,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return cS(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),te(Fe,Fe.current),c)break;return null;case 22:case 23:return a.lanes=0,iS(s,a,l);case 24:kr(a,$e,s.memoizedState.cache)}return Ns(s,a,l)}function hS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Xe=!0;else{if(!Yg(s,l)&&(a.flags&128)===0)return Xe=!1,lO(s,a,l);Xe=(s.flags&131072)!==0}else Xe=!1,Yt&&(a.flags&1048576)!==0&&Yb(a,od,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")uy(c)?(s=oo(c,s),a.tag=1,a=aS(null,a,c,s,l)):(a.tag=0,a=Fg(null,a,c,s,l));else{if(c!=null){if(p=c.$$typeof,p===A){a.tag=11,a=tS(null,a,c,s,l);break t}else if(p===P){a.tag=14,a=eS(null,a,c,s,l);break t}}throw a=w(c)||c,Error(i(306,a,""))}}return a;case 0:return Fg(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=oo(c,a.pendingProps),aS(s,a,c,p,l);case 3:t:{if(pr(a,a.stateNode.containerInfo),s===null)throw Error(i(387));var y=a.pendingProps;p=a.memoizedState,c=p.element,ty(s,a),Lc(a,y,null,l);var E=a.memoizedState;if(y=E.cache,kr(a,$e,y),y!==p.cache&&Zg(a,[$e],l,!0),kc(),y=E.element,p.isDehydrated)if(p={element:y,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=oS(s,a,y,l);break t}else if(y!==c){c=li(Error(i(424)),a),Sc(c),a=oS(s,a,y,l);break t}else for(sn=Ii(a.stateNode.containerInfo.firstChild),Dn=a,Yt=!0,Ci=null,Ji=!0,l=sE(a,null,y,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ec(),y===c){a=Ns(s,a,l);break t}rn(s,a,y,l)}a=a.child}return a;case 26:return Mc(s,a),s===null?(l=m1(a.type,null,a.pendingProps,null))?a.memoizedState=l:Yt||(l=a.type,s=a.pendingProps,c=Bd(ti.current).createElement(l),c[Qe]=a,c[Ue]=s,an(c,l,s),he(c),a.stateNode=c):a.memoizedState=m1(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Zu(a),s===null&&Yt&&(c=a.stateNode=h1(a.type,a.pendingProps,ti.current),Dn=a,Ji=!0,sn=Ii(c.firstChild)),c=a.pendingProps.children,s!==null||Yt?rn(s,a,c,l):a.child=no(a,null,c,l),Mc(s,a),a.child;case 5:return s===null&&Yt&&((p=c=sn)&&(c=UO(c,a.type,a.pendingProps,Ji),c!==null?(a.stateNode=c,Dn=a,sn=Ii(c.firstChild),Ji=!1,p=!0):p=!1),p||eo(a)),Zu(a),p=a.type,y=a.pendingProps,E=s!==null?s.memoizedProps:null,c=y.children,Ny(p,y)?c=null:E!==null&&Ny(p,E)&&(a.flags|=32),a.memoizedState!==null&&(p=Sg(s,a,eO,null,null,l),Zc._currentValue=p),Mc(s,a),rn(s,a,c,l),a.child;case 6:return s===null&&Yt&&((s=l=sn)&&(l=jO(l,a.pendingProps,Ji),l!==null?(a.stateNode=l,Dn=a,sn=null,s=!0):s=!1),s||eo(a)),null;case 13:return lS(s,a,l);case 4:return pr(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=no(a,null,c,l):rn(s,a,c,l),a.child;case 11:return tS(s,a,a.type,a.pendingProps,l);case 7:return rn(s,a,a.pendingProps,l),a.child;case 8:return rn(s,a,a.pendingProps.children,l),a.child;case 12:return rn(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,kr(a,a.type,c.value),rn(s,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,uo(a),p=mn(p),c=c(p),a.flags|=1,rn(s,a,c,l),a.child;case 14:return eS(s,a,a.type,a.pendingProps,l);case 15:return nS(s,a,a.type,a.pendingProps,l);case 19:return cS(s,a,l);case 22:return iS(s,a,l);case 24:return uo(a),c=mn($e),s===null?(p=bg(),p===null&&(p=re,y=_g(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:c,cache:p},Jg(a),kr(a,$e,p)):((s.lanes&l)!==0&&(ty(s,a),Lc(a,null,null,l),kc()),p=s.memoizedState,y=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),kr(a,$e,c)):(c=y.cache,kr(a,$e,c),c!==p.cache&&Zg(a,[$e],l,!0))),rn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var Wg=Kt(null),lo=null,ks=null;function kr(s,a,l){te(Wg,a._currentValue),a._currentValue=l}function Ls(s){s._currentValue=Wg.current,ve(Wg)}function Xg(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function Zg(s,a,l,c){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=p;for(var k=0;k<a.length;k++)if(C.context===a[k]){y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),Xg(y.return,l,s),c||(E=null);break t}y=C.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(i(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),Xg(E,l,s),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===s){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Oc(s,a,l,c){s=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var C=p.type;qn(p.pendingProps.value,E.value)||(s!==null?s.push(C):s=[C])}}else if(p===mr.current){if(E=p.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Zc):s=[Zc])}p=p.return}s!==null&&Zg(a,s,l,c),a.flags|=262144}function Ad(s){for(s=s.firstContext;s!==null;){if(!qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function uo(s){lo=s,ks=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function mn(s){return fS(lo,s)}function wd(s,a){return lo===null&&uo(s),fS(s,a)}function fS(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ks===null){if(s===null)throw Error(i(308));ks=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ks=ks.next=a;return l}var Lr=!1;function Jg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ty(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ur(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function jr(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(de&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=rd(s),Kb(s,null,l),a}return sd(s,c,a,l),rd(s)}function Nc(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,br(s,l)}}function ey(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var ny=!1;function kc(){if(ny){var s=wl;if(s!==null)throw s}}function Lc(s,a,l,c){ny=!1;var p=s.updateQueue;Lr=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var k=C,q=k.next;k.next=null,E===null?y=q:E.next=q,E=k;var nt=s.alternate;nt!==null&&(nt=nt.updateQueue,C=nt.lastBaseUpdate,C!==E&&(C===null?nt.firstBaseUpdate=q:C.next=q,nt.lastBaseUpdate=k))}if(y!==null){var at=p.baseState;E=0,nt=q=k=null,C=y;do{var X=C.lane&-536870913,et=X!==C.lane;if(et?(qt&X)===X:(c&X)===X){X!==0&&X===Al&&(ny=!0),nt!==null&&(nt=nt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var yt=s,Ct=C;X=a;var Ee=l;switch(Ct.tag){case 1:if(yt=Ct.payload,typeof yt=="function"){at=yt.call(Ee,at,X);break t}at=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Ct.payload,X=typeof yt=="function"?yt.call(Ee,at,X):yt,X==null)break t;at=V({},at,X);break t;case 2:Lr=!0}}X=C.callback,X!==null&&(s.flags|=64,et&&(s.flags|=8192),et=p.callbacks,et===null?p.callbacks=[X]:et.push(X))}else et={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},nt===null?(q=nt=et,k=at):nt=nt.next=et,E|=X;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;et=C,C=et.next,et.next=null,p.lastBaseUpdate=et,p.shared.pending=null}}while(!0);nt===null&&(k=at),p.baseState=k,p.firstBaseUpdate=q,p.lastBaseUpdate=nt,y===null&&(p.shared.lanes=0),Hr|=E,s.lanes=E,s.memoizedState=at}}function dS(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function mS(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)dS(l[s],a)}function Uc(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&s)===s){c=void 0;var y=l.create,E=l.inst;c=y(),E.destroy=c}l=l.next}while(l!==p)}}catch(C){ie(a,a.return,C)}}function Br(s,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&s)===s){var E=c.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,p=a;var k=l;try{C()}catch(q){ie(p,k,q)}}}c=c.next}while(c!==y)}}catch(q){ie(a,a.return,q)}}function pS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{mS(a,l)}catch(c){ie(s,s.return,c)}}}function gS(s,a,l){l.props=oo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){ie(s,a,c)}}function co(s,a){try{var l=s.ref;if(l!==null){var c=s.stateNode;switch(s.tag){case 26:case 27:case 5:var p=c;break;default:p=c}typeof l=="function"?s.refCleanup=l(p):l.current=p}}catch(y){ie(s,a,y)}}function Gn(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){ie(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ie(s,a,p)}else l.current=null}function yS(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){ie(s,s.return,p)}}function vS(s,a,l){try{var c=s.stateNode;MO(c,s.type,l,a),c[Ue]=a}catch(p){ie(s,s.return,p)}}function _S(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function iy(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||_S(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function sy(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(s,a):l.insertBefore(s,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(s,l)):(a=l,a.appendChild(s)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=jd));else if(c!==4&&c!==27&&(s=s.child,s!==null))for(sy(s,a,l),s=s.sibling;s!==null;)sy(s,a,l),s=s.sibling}function xd(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&c!==27&&(s=s.child,s!==null))for(xd(s,a,l),s=s.sibling;s!==null;)xd(s,a,l),s=s.sibling}var Us=!1,Te=!1,ry=!1,TS=typeof WeakSet=="function"?WeakSet:Set,Ze=null,bS=!1;function uO(s,a){if(s=s.containerInfo,My=Gd,s=Ub(s),og(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var E=0,C=-1,k=-1,q=0,nt=0,at=s,X=null;e:for(;;){for(var et;at!==l||p!==0&&at.nodeType!==3||(C=E+p),at!==y||c!==0&&at.nodeType!==3||(k=E+c),at.nodeType===3&&(E+=at.nodeValue.length),(et=at.firstChild)!==null;)X=at,at=et;for(;;){if(at===s)break e;if(X===l&&++q===p&&(C=E),X===y&&++nt===c&&(k=E),(et=at.nextSibling)!==null)break;at=X,X=at.parentNode}at=et}l=C===-1||k===-1?null:{start:C,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Oy={focusedElem:s,selectionRange:l},Gd=!1,Ze=a;Ze!==null;)if(a=Ze,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ze=s;else for(;Ze!==null;){switch(a=Ze,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var yt=oo(l.type,p,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(yt,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ct){ie(l,l.return,Ct)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Uy(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Uy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Ze=s;break}Ze=a.return}return yt=bS,bS=!1,yt}function ES(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Bs(s,l),c&4&&Uc(5,l);break;case 1:if(Bs(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(C){ie(l,l.return,C)}else{var p=oo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(C){ie(l,l.return,C)}}c&64&&pS(l),c&512&&co(l,l.return);break;case 3:if(Bs(s,l),c&64&&(c=l.updateQueue,c!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{mS(c,s)}catch(C){ie(l,l.return,C)}}break;case 26:Bs(s,l),c&512&&co(l,l.return);break;case 27:case 5:Bs(s,l),a===null&&c&4&&yS(l),c&512&&co(l,l.return);break;case 12:Bs(s,l);break;case 13:Bs(s,l),c&4&&wS(s,l);break;case 22:if(p=l.memoizedState!==null||Us,!p){a=a!==null&&a.memoizedState!==null||Te;var y=Us,E=Te;Us=p,(Te=a)&&!E?Fr(s,l,(l.subtreeFlags&8772)!==0):Bs(s,l),Us=y,Te=E}c&512&&(l.memoizedProps.mode==="manual"?co(l,l.return):Gn(l,l.return));break;default:Bs(s,l)}}function SS(s){var a=s.alternate;a!==null&&(s.alternate=null,SS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ba(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Oe=null,Kn=!1;function js(s,a,l){for(l=l.child;l!==null;)AS(s,a,l),l=l.sibling}function AS(s,a,l){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(gr,l)}catch{}switch(l.tag){case 26:Te||Gn(l,a),js(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Te||Gn(l,a);var c=Oe,p=Kn;for(Oe=l.stateNode,js(s,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);Ba(l),Oe=c,Kn=p;break;case 5:Te||Gn(l,a);case 6:p=Oe;var y=Kn;if(Oe=null,js(s,a,l),Oe=p,Kn=y,Oe!==null)if(Kn)try{s=Oe,c=l.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)}catch(E){ie(l,a,E)}else try{Oe.removeChild(l.stateNode)}catch(E){ie(l,a,E)}break;case 18:Oe!==null&&(Kn?(a=Oe,l=l.stateNode,a.nodeType===8?Ly(a.parentNode,l):a.nodeType===1&&Ly(a,l),nh(a)):Ly(Oe,l.stateNode));break;case 4:c=Oe,p=Kn,Oe=l.stateNode.containerInfo,Kn=!0,js(s,a,l),Oe=c,Kn=p;break;case 0:case 11:case 14:case 15:Te||Br(2,l,a),Te||Br(4,l,a),js(s,a,l);break;case 1:Te||(Gn(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&gS(l,a,c)),js(s,a,l);break;case 21:js(s,a,l);break;case 22:Te||Gn(l,a),Te=(c=Te)||l.memoizedState!==null,js(s,a,l),Te=c;break;default:js(s,a,l)}}function wS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{nh(s)}catch(l){ie(a,a.return,l)}}function cO(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new TS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new TS),a;default:throw Error(i(435,s.tag))}}function ay(s,a){var l=cO(s);a.forEach(function(c){var p=SO.bind(null,s,c);l.has(c)||(l.add(c),c.then(p,p))})}function fi(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=s,E=a,C=E;t:for(;C!==null;){switch(C.tag){case 27:case 5:Oe=C.stateNode,Kn=!1;break t;case 3:Oe=C.stateNode.containerInfo,Kn=!0;break t;case 4:Oe=C.stateNode.containerInfo,Kn=!0;break t}C=C.return}if(Oe===null)throw Error(i(160));AS(y,E,p),Oe=null,Kn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)xS(a,s),a=a.sibling}var Di=null;function xS(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:fi(a,s),di(s),c&4&&(Br(3,s,s.return),Uc(3,s),Br(5,s,s.return));break;case 1:fi(a,s),di(s),c&512&&(Te||l===null||Gn(l,l.return)),c&64&&Us&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Di;if(fi(a,s),di(s),c&512&&(Te||l===null||Gn(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){t:{c=s.type,l=s.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Sr]||y[Qe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),an(y,c,l),y[Qe]=s,he(y),c=y;break t;case"link":var E=y1("link","href",p).get(c+(l.href||""));if(E){for(var C=0;C<E.length;C++)if(y=E[C],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(C,1);break e}}y=p.createElement(c),an(y,c,l),p.head.appendChild(y);break;case"meta":if(E=y1("meta","content",p).get(c+(l.content||""))){for(C=0;C<E.length;C++)if(y=E[C],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(C,1);break e}}y=p.createElement(c),an(y,c,l),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[Qe]=s,he(y),c=y}s.stateNode=c}else v1(p,s.type,s.stateNode);else s.stateNode=g1(p,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?v1(p,s.type,s.stateNode):g1(p,c,s.memoizedProps)):c===null&&s.stateNode!==null&&vS(s,s.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&s.alternate===null){p=s.stateNode,y=s.memoizedProps;try{for(var k=p.firstChild;k;){var q=k.nextSibling,nt=k.nodeName;k[Sr]||nt==="HEAD"||nt==="BODY"||nt==="SCRIPT"||nt==="STYLE"||nt==="LINK"&&k.rel.toLowerCase()==="stylesheet"||p.removeChild(k),k=q}for(var at=s.type,X=p.attributes;X.length;)p.removeAttributeNode(X[0]);an(p,at,y),p[Qe]=s,p[Ue]=y}catch(yt){ie(s,s.return,yt)}}case 5:if(fi(a,s),di(s),c&512&&(Te||l===null||Gn(l,l.return)),s.flags&32){p=s.stateNode;try{ii(p,"")}catch(yt){ie(s,s.return,yt)}}c&4&&s.stateNode!=null&&(p=s.memoizedProps,vS(s,p,l!==null?l.memoizedProps:p)),c&1024&&(ry=!0);break;case 6:if(fi(a,s),di(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(yt){ie(s,s.return,yt)}}break;case 3:if(zd=null,p=Di,Di=Fd(a.containerInfo),fi(a,s),Di=p,di(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{nh(a.containerInfo)}catch(yt){ie(s,s.return,yt)}ry&&(ry=!1,RS(s));break;case 4:c=Di,Di=Fd(s.stateNode.containerInfo),fi(a,s),di(s),Di=c;break;case 12:fi(a,s),di(s);break;case 13:fi(a,s),di(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(py=kn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,ay(s,c)));break;case 22:if(c&512&&(Te||l===null||Gn(l,l.return)),k=s.memoizedState!==null,q=l!==null&&l.memoizedState!==null,nt=Us,at=Te,Us=nt||k,Te=at||q,fi(a,s),Te=at,Us=nt,di(s),a=s.stateNode,a._current=s,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=k?a._visibility&-2:a._visibility|1,k&&(a=Us||Te,l===null||q||a||Dl(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))t:for(l=null,a=s;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){q=l=a;try{if(p=q.stateNode,k)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=q.stateNode,C=q.memoizedProps.style;var et=C!=null&&C.hasOwnProperty("display")?C.display:null;E.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(yt){ie(q,q.return,yt)}}}else if(a.tag===6){if(l===null){q=a;try{q.stateNode.nodeValue=k?"":q.memoizedProps}catch(yt){ie(q,q.return,yt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,ay(s,l))));break;case 19:fi(a,s),di(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,ay(s,c)));break;case 21:break;default:fi(a,s),di(s)}}function di(s){var a=s.flags;if(a&2){try{if(s.tag!==27){t:{for(var l=s.return;l!==null;){if(_S(l)){var c=l;break t}l=l.return}throw Error(i(160))}switch(c.tag){case 27:var p=c.stateNode,y=iy(s);xd(s,y,p);break;case 5:var E=c.stateNode;c.flags&32&&(ii(E,""),c.flags&=-33);var C=iy(s);xd(s,C,E);break;case 3:case 4:var k=c.stateNode.containerInfo,q=iy(s);sy(s,q,k);break;default:throw Error(i(161))}}}catch(nt){ie(s,s.return,nt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function RS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;RS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Bs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ES(s,a.alternate,a),a=a.sibling}function Dl(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Br(4,a,a.return),Dl(a);break;case 1:Gn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&gS(a,a.return,l),Dl(a);break;case 26:case 27:case 5:Gn(a,a.return),Dl(a);break;case 22:Gn(a,a.return),a.memoizedState===null&&Dl(a);break;default:Dl(a)}s=s.sibling}}function Fr(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=s,y=a,E=y.flags;switch(y.tag){case 0:case 11:case 15:Fr(p,y,l),Uc(4,y);break;case 1:if(Fr(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(q){ie(c,c.return,q)}if(c=y,p=c.updateQueue,p!==null){var C=c.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)dS(k[p],C)}catch(q){ie(c,c.return,q)}}l&&E&64&&pS(y),co(y,y.return);break;case 26:case 27:case 5:Fr(p,y,l),l&&c===null&&E&4&&yS(y),co(y,y.return);break;case 12:Fr(p,y,l);break;case 13:Fr(p,y,l),l&&E&4&&wS(p,y);break;case 22:y.memoizedState===null&&Fr(p,y,l),co(y,y.return);break;default:Fr(p,y,l)}a=a.sibling}}function oy(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Cc(l))}function ly(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Cc(s))}function $r(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)CS(s,a,l,c),a=a.sibling}function CS(s,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:$r(s,a,l,c),p&2048&&Uc(9,a);break;case 3:$r(s,a,l,c),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Cc(s)));break;case 12:if(p&2048){$r(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,E=y.id,C=y.onPostCommit;typeof C=="function"&&C(E,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){ie(a,a.return,k)}}else $r(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?$r(s,a,l,c):jc(s,a):y._visibility&4?$r(s,a,l,c):(y._visibility|=4,Il(s,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&oy(a.alternate,a);break;case 24:$r(s,a,l,c),p&2048&&ly(a.alternate,a);break;default:$r(s,a,l,c)}}function Il(s,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,E=a,C=l,k=c,q=E.flags;switch(E.tag){case 0:case 11:case 15:Il(y,E,C,k,p),Uc(8,E);break;case 23:break;case 22:var nt=E.stateNode;E.memoizedState!==null?nt._visibility&4?Il(y,E,C,k,p):jc(y,E):(nt._visibility|=4,Il(y,E,C,k,p)),p&&q&2048&&oy(E.alternate,E);break;case 24:Il(y,E,C,k,p),p&&q&2048&&ly(E.alternate,E);break;default:Il(y,E,C,k,p)}a=a.sibling}}function jc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,p=c.flags;switch(c.tag){case 22:jc(l,c),p&2048&&oy(c.alternate,c);break;case 24:jc(l,c),p&2048&&ly(c.alternate,c);break;default:jc(l,c)}a=a.sibling}}var Bc=8192;function Pl(s){if(s.subtreeFlags&Bc)for(s=s.child;s!==null;)DS(s),s=s.sibling}function DS(s){switch(s.tag){case 26:Pl(s),s.flags&Bc&&s.memoizedState!==null&&ZO(Di,s.memoizedState,s.memoizedProps);break;case 5:Pl(s);break;case 3:case 4:var a=Di;Di=Fd(s.stateNode.containerInfo),Pl(s),Di=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Bc,Bc=16777216,Pl(s),Bc=a):Pl(s));break;default:Pl(s)}}function IS(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Fc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Ze=c,VS(c,s)}IS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)PS(s),s=s.sibling}function PS(s){switch(s.tag){case 0:case 11:case 15:Fc(s),s.flags&2048&&Br(9,s,s.return);break;case 3:Fc(s);break;case 12:Fc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&4&&(s.return===null||s.return.tag!==13)?(a._visibility&=-5,Rd(s)):Fc(s);break;default:Fc(s)}}function Rd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Ze=c,VS(c,s)}IS(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Br(8,a,a.return),Rd(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,Rd(a));break;default:Rd(a)}s=s.sibling}}function VS(s,a){for(;Ze!==null;){var l=Ze;switch(l.tag){case 0:case 11:case 15:Br(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Cc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Ze=c;else t:for(l=s;Ze!==null;){c=Ze;var p=c.sibling,y=c.return;if(SS(c),c===l){Ze=null;break t}if(p!==null){p.return=y,Ze=p;break t}Ze=y}}}function hO(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(s,a,l,c){return new hO(s,a,l,c)}function uy(s){return s=s.prototype,!(!s||!s.isReactComponent)}function zr(s,a){var l=s.alternate;return l===null?(l=mi(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&31457280,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function MS(s,a){s.flags&=31457282;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Cd(s,a,l,c,p,y){var E=0;if(c=s,typeof s=="function")uy(s)&&(E=1);else if(typeof s=="string")E=WO(s,l,wn.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case f:return ho(l.children,p,y,a);case d:E=8,p|=24;break;case g:return s=mi(12,l,a,p|2),s.elementType=g,s.lanes=y,s;case R:return s=mi(13,l,a,p),s.elementType=R,s.lanes=y,s;case I:return s=mi(19,l,a,p),s.elementType=I,s.lanes=y,s;case U:return OS(l,p,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case v:case S:E=10;break t;case _:E=9;break t;case A:E=11;break t;case P:E=14;break t;case j:E=16,c=null;break t}E=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return a=mi(E,l,a,p),a.elementType=s,a.type=c,a.lanes=y,a}function ho(s,a,l,c){return s=mi(7,s,c,a),s.lanes=l,s}function OS(s,a,l,c){s=mi(22,s,c,a),s.elementType=U,s.lanes=l;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=p._current;if(y===null)throw Error(i(456));if((p._pendingVisibility&2)===0){var E=Pr(y,2);E!==null&&(p._pendingVisibility|=2,In(E,y,2))}},attach:function(){var y=p._current;if(y===null)throw Error(i(456));if((p._pendingVisibility&2)!==0){var E=Pr(y,2);E!==null&&(p._pendingVisibility&=-3,In(E,y,2))}}};return s.stateNode=p,s}function cy(s,a,l){return s=mi(6,s,null,a),s.lanes=l,s}function hy(s,a,l){return a=mi(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Fs(s){s.flags|=4}function NS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!_1(a)){if(a=hi.current,a!==null&&((qt&4194176)===qt?ts!==null:(qt&62914560)!==qt&&(qt&536870912)===0||a!==ts))throw wc=gg,Zb;s.flags|=8192}}function Dd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?_r():536870912,s.lanes|=a,Ml|=a)}function $c(s,a){if(!Yt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function fe(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&31457280,c|=p.flags&31457280,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function fO(s,a,l){var c=a.pendingProps;switch(mg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(a),null;case 1:return fe(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ls($e),Ts(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(bc(a)?Fs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ci!==null&&(_y(Ci),Ci=null))),fe(a),null;case 26:return l=a.memoizedState,s===null?(Fs(a),l!==null?(fe(a),NS(a,l)):(fe(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Fs(a),fe(a),NS(a,l)):(fe(a),a.flags&=-16777217):(s.memoizedProps!==c&&Fs(a),fe(a),a.flags&=-16777217),null;case 27:Zo(a),l=ti.current;var p=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Fs(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return fe(a),null}s=wn.current,bc(a)?Wb(a):(s=h1(p,c,l),a.stateNode=s,Fs(a))}return fe(a),null;case 5:if(Zo(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Fs(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return fe(a),null}if(s=wn.current,bc(a))Wb(a);else{switch(p=Bd(ti.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}s[Qe]=a,s[Ue]=c;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=s;t:switch(an(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Fs(a)}}return fe(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&Fs(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(s=ti.current,bc(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,p=Dn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}s[Qe]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||r1(s.nodeValue,l)),s||eo(a)}else s=Bd(s).createTextNode(c),s[Qe]=a,a.stateNode=s}return fe(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=bc(a),c!==null&&c.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Qe]=a}else Ec(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fe(a),p=!1}else Ci!==null&&(_y(Ci),Ci=null),p=!0;if(!p)return a.flags&256?(Ms(a),a):(Ms(a),null)}if(Ms(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Dd(a,a.updateQueue),fe(a),null;case 4:return Ts(),s===null&&Iy(a.stateNode.containerInfo),fe(a),null;case 10:return Ls(a.type),fe(a),null;case 19:if(ve(Fe),p=a.memoizedState,p===null)return fe(a),null;if(c=(a.flags&128)!==0,y=p.rendering,y===null)if(c)$c(p,!1);else{if(be!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=fd(s),y!==null){for(a.flags|=128,$c(p,!1),s=y.updateQueue,a.updateQueue=s,Dd(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)MS(l,s),l=l.sibling;return te(Fe,Fe.current&1|2),a.child}s=s.sibling}p.tail!==null&&kn()>Id&&(a.flags|=128,c=!0,$c(p,!1),a.lanes=4194304)}else{if(!c)if(s=fd(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,Dd(a,s),$c(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Yt)return fe(a),null}else 2*kn()-p.renderingStartTime>Id&&l!==536870912&&(a.flags|=128,c=!0,$c(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(s=p.last,s!==null?s.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=kn(),a.sibling=null,s=Fe.current,te(Fe,c?s&1|2:s&1),a):(fe(a),null);case 22:case 23:return Ms(a),vg(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(fe(a),a.subtreeFlags&6&&(a.flags|=8192)):fe(a),l=a.updateQueue,l!==null&&Dd(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ve(io),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ls($e),fe(a),null;case 25:return null}throw Error(i(156,a.tag))}function dO(s,a){switch(mg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ls($e),Ts(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Zo(a),null;case 13:if(Ms(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ec()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ve(Fe),null;case 4:return Ts(),null;case 10:return Ls(a.type),null;case 22:case 23:return Ms(a),vg(),s!==null&&ve(io),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ls($e),null;case 25:return null;default:return null}}function kS(s,a){switch(mg(a),a.tag){case 3:Ls($e),Ts();break;case 26:case 27:case 5:Zo(a);break;case 4:Ts();break;case 13:Ms(a);break;case 19:ve(Fe);break;case 10:Ls(a.type);break;case 22:case 23:Ms(a),vg(),s!==null&&ve(io);break;case 24:Ls($e)}}var mO={getCacheForType:function(s){var a=mn($e),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},pO=typeof WeakMap=="function"?WeakMap:Map,de=0,re=null,Ut=null,qt=0,ae=0,Qn=null,$s=!1,Vl=!1,fy=!1,zs=0,be=0,Hr=0,fo=0,dy=0,pi=0,Ml=0,zc=null,ns=null,my=!1,py=0,Id=1/0,Pd=null,qr=null,Vd=!1,mo=null,Hc=0,gy=0,yy=null,qc=0,vy=null;function Yn(){if((de&2)!==0&&qt!==0)return qt&-qt;if(x.T!==null){var s=Al;return s!==0?s:xy()}return Uf()}function LS(){pi===0&&(pi=(qt&536870912)===0||Yt?ic():536870912);var s=hi.current;return s!==null&&(s.flags|=32),pi}function In(s,a,l){(s===re&&ae===2||s.cancelPendingCommit!==null)&&(Ol(s,0),Hs(s,qt,pi,!1)),xe(s,l),((de&2)===0||s!==re)&&(s===re&&((de&2)===0&&(fo|=l),be===4&&Hs(s,qt,pi,!1)),is(s))}function US(s,a,l){if((de&6)!==0)throw Error(i(327));var c=!l&&(a&60)===0&&(a&s.expiredLanes)===0||vr(s,a),p=c?vO(s,a):Ey(s,a,!0),y=c;do{if(p===0){Vl&&!c&&Hs(s,a,0,!1);break}else if(p===6)Hs(s,a,0,!$s);else{if(l=s.current.alternate,y&&!gO(l)){p=Ey(s,a,!1),y=!1;continue}if(p===2){if(y=a,s.errorRecoveryDisabledLanes&y)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var C=s;p=zc;var k=C.current.memoizedState.isDehydrated;if(k&&(Ol(C,E).flags|=256),E=Ey(C,E,!1),E!==2){if(fy&&!k){C.errorRecoveryDisabledLanes|=y,fo|=y,p=4;break t}y=ns,ns=p,y!==null&&_y(y)}p=E}if(y=!1,p!==2)continue}}if(p===1){Ol(s,0),Hs(s,a,0,!0);break}t:{switch(c=s,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){Hs(c,a,pi,!$s);break t}break;case 2:ns=null;break;case 3:case 5:break;default:throw Error(i(329))}if(c.finishedWork=l,c.finishedLanes=a,(a&62914560)===a&&(y=py+300-kn(),10<y)){if(Hs(c,a,pi,!$s),ei(c,0)!==0)break t;c.timeoutHandle=l1(jS.bind(null,c,l,ns,Pd,my,a,pi,fo,Ml,$s,2,-0,0),y);break t}jS(c,l,ns,Pd,my,a,pi,fo,Ml,$s,0,-0,0)}}break}while(!0);is(s)}function _y(s){ns===null?ns=s:ns.push.apply(ns,s)}function jS(s,a,l,c,p,y,E,C,k,q,nt,at,X){var et=a.subtreeFlags;if((et&8192||(et&16785408)===16785408)&&(Xc={stylesheets:null,count:0,unsuspend:XO},DS(a),a=JO(),a!==null)){s.cancelPendingCommit=a(GS.bind(null,s,l,c,p,E,C,k,1,at,X)),Hs(s,y,E,!q);return}GS(s,l,c,p,E,C,k,nt,at,X)}function gO(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!qn(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Hs(s,a,l,c){a&=~dy,a&=~fo,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var p=a;0<p;){var y=31-xn(p),E=1<<y;c[y]=-1,p&=~E}l!==0&&Tr(s,l,a)}function Md(){return(de&6)===0?(Gc(0),!1):!0}function Ty(){if(Ut!==null){if(ae===0)var s=Ut.return;else s=Ut,ks=lo=null,xg(s),El=null,xc=0,s=Ut;for(;s!==null;)kS(s.alternate,s),s=s.return;Ut=null}}function Ol(s,a){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,NO(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ty(),re=s,Ut=l=zr(s.current,null),qt=a,ae=0,Qn=null,$s=!1,Vl=vr(s,a),fy=!1,Ml=pi=dy=fo=Hr=be=0,ns=zc=null,my=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var p=31-xn(c),y=1<<p;a|=s[p],c&=~y}return zs=a,id(),l}function BS(s,a){Nt=null,x.H=es,a===Ac?(a=eE(),ae=3):a===Zb?(a=eE(),ae=4):ae=a===JE?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Qn=a,Ut===null&&(be=1,Sd(s,li(a,s.current)))}function FS(){var s=x.H;return x.H=es,s===null?es:s}function $S(){var s=x.A;return x.A=mO,s}function by(){be=4,$s||(qt&4194176)!==qt&&hi.current!==null||(Vl=!0),(Hr&134217727)===0&&(fo&134217727)===0||re===null||Hs(re,qt,pi,!1)}function Ey(s,a,l){var c=de;de|=2;var p=FS(),y=$S();(re!==s||qt!==a)&&(Pd=null,Ol(s,a)),a=!1;var E=be;t:do try{if(ae!==0&&Ut!==null){var C=Ut,k=Qn;switch(ae){case 8:Ty(),E=6;break t;case 3:case 2:case 6:hi.current===null&&(a=!0);var q=ae;if(ae=0,Qn=null,Nl(s,C,k,q),l&&Vl){E=0;break t}break;default:q=ae,ae=0,Qn=null,Nl(s,C,k,q)}}yO(),E=be;break}catch(nt){BS(s,nt)}while(!0);return a&&s.shellSuspendCounter++,ks=lo=null,de=c,x.H=p,x.A=y,Ut===null&&(re=null,qt=0,id()),E}function yO(){for(;Ut!==null;)zS(Ut)}function vO(s,a){var l=de;de|=2;var c=FS(),p=$S();re!==s||qt!==a?(Pd=null,Id=kn()+500,Ol(s,a)):Vl=vr(s,a);t:do try{if(ae!==0&&Ut!==null){a=Ut;var y=Qn;e:switch(ae){case 1:ae=0,Qn=null,Nl(s,a,y,1);break;case 2:if(Jb(y)){ae=0,Qn=null,HS(a);break}a=function(){ae===2&&re===s&&(ae=7),is(s)},y.then(a,a);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:Jb(y)?(ae=0,Qn=null,HS(a)):(ae=0,Qn=null,Nl(s,a,y,7));break;case 5:var E=null;switch(Ut.tag){case 26:E=Ut.memoizedState;case 5:case 27:var C=Ut;if(!E||_1(E)){ae=0,Qn=null;var k=C.sibling;if(k!==null)Ut=k;else{var q=C.return;q!==null?(Ut=q,Od(q)):Ut=null}break e}}ae=0,Qn=null,Nl(s,a,y,5);break;case 6:ae=0,Qn=null,Nl(s,a,y,6);break;case 8:Ty(),be=6;break t;default:throw Error(i(462))}}_O();break}catch(nt){BS(s,nt)}while(!0);return ks=lo=null,x.H=c,x.A=p,de=l,Ut!==null?0:(re=null,qt=0,id(),be)}function _O(){for(;Ut!==null&&!Wp();)zS(Ut)}function zS(s){var a=hS(s.alternate,s,zs);s.memoizedProps=s.pendingProps,a===null?Od(s):Ut=a}function HS(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=rS(l,a,a.pendingProps,a.type,void 0,qt);break;case 11:a=rS(l,a,a.pendingProps,a.type.render,a.ref,qt);break;case 5:xg(a);default:kS(l,a),a=Ut=MS(a,zs),a=hS(l,a,zs)}s.memoizedProps=s.pendingProps,a===null?Od(s):Ut=a}function Nl(s,a,l,c){ks=lo=null,xg(a),El=null,xc=0;var p=a.return;try{if(oO(s,p,a,l,qt)){be=1,Sd(s,li(l,s.current)),Ut=null;return}}catch(y){if(p!==null)throw Ut=p,y;be=1,Sd(s,li(l,s.current)),Ut=null;return}a.flags&32768?(Yt||c===1?s=!0:Vl||(qt&536870912)!==0?s=!1:($s=s=!0,(c===2||c===3||c===6)&&(c=hi.current,c!==null&&c.tag===13&&(c.flags|=16384))),qS(a,s)):Od(a)}function Od(s){var a=s;do{if((a.flags&32768)!==0){qS(a,$s);return}s=a.return;var l=fO(a.alternate,a,zs);if(l!==null){Ut=l;return}if(a=a.sibling,a!==null){Ut=a;return}Ut=a=s}while(a!==null);be===0&&(be=5)}function qS(s,a){do{var l=dO(s.alternate,s);if(l!==null){l.flags&=32767,Ut=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ut=s;return}Ut=s=l}while(s!==null);be=6,Ut=null}function GS(s,a,l,c,p,y,E,C,k,q){var nt=x.T,at=dt.p;try{dt.p=2,x.T=null,TO(s,a,l,c,at,p,y,E,C,k,q)}finally{x.T=nt,dt.p=at}}function TO(s,a,l,c,p,y,E,C){do kl();while(mo!==null);if((de&6)!==0)throw Error(i(327));var k=s.finishedWork;if(c=s.finishedLanes,k===null)return null;if(s.finishedWork=null,s.finishedLanes=0,k===s.current)throw Error(i(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var q=k.lanes|k.childLanes;if(q|=hg,kf(s,c,q,y,E,C),s===re&&(Ut=re=null,qt=0),(k.subtreeFlags&10256)===0&&(k.flags&10256)===0||Vd||(Vd=!0,gy=q,yy=l,AO(bs,function(){return kl(),null})),l=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||l?(l=x.T,x.T=null,y=dt.p,dt.p=2,E=de,de|=4,uO(s,k),xS(k,s),HM(Oy,s.containerInfo),Gd=!!My,Oy=My=null,s.current=k,ES(s,k.alternate,k),Ju(),de=E,dt.p=y,x.T=l):s.current=k,Vd?(Vd=!1,mo=s,Hc=c):KS(s,q),q=s.pendingLanes,q===0&&(qr=null),ec(k.stateNode),is(s),a!==null)for(p=s.onRecoverableError,k=0;k<a.length;k++)q=a[k],p(q.value,{componentStack:q.stack});return(Hc&3)!==0&&kl(),q=s.pendingLanes,(c&4194218)!==0&&(q&42)!==0?s===vy?qc++:(qc=0,vy=s):qc=0,Gc(0),null}function KS(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Cc(a)))}function kl(){if(mo!==null){var s=mo,a=gy;gy=0;var l=Lf(Hc),c=x.T,p=dt.p;try{if(dt.p=32>l?32:l,x.T=null,mo===null)var y=!1;else{l=yy,yy=null;var E=mo,C=Hc;if(mo=null,Hc=0,(de&6)!==0)throw Error(i(331));var k=de;if(de|=4,PS(E.current),CS(E,E.current,C,l),de=k,Gc(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(gr,E)}catch{}y=!0}return y}finally{dt.p=p,x.T=c,KS(s,a)}}return!1}function QS(s,a,l){a=li(l,a),a=Bg(s.stateNode,a,2),s=jr(s,a,2),s!==null&&(xe(s,2),is(s))}function ie(s,a,l){if(s.tag===3)QS(s,s,l);else for(;a!==null;){if(a.tag===3){QS(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(qr===null||!qr.has(c))){s=li(l,s),l=XE(2),c=jr(a,l,2),c!==null&&(ZE(l,c,a,s),xe(c,2),is(c));break}}a=a.return}}function Sy(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new pO;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(fy=!0,p.add(l),s=bO.bind(null,s,a,l),a.then(s,s))}function bO(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,re===s&&(qt&l)===l&&(be===4||be===3&&(qt&62914560)===qt&&300>kn()-py?(de&2)===0&&Ol(s,0):dy|=l,Ml===qt&&(Ml=0)),is(s)}function YS(s,a){a===0&&(a=_r()),s=Pr(s,a),s!==null&&(xe(s,a),is(s))}function EO(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),YS(s,l)}function SO(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),YS(s,l)}function AO(s,a){return La(s,a)}var Nd=null,Ll=null,Ay=!1,kd=!1,wy=!1,po=0;function is(s){s!==Ll&&s.next===null&&(Ll===null?Nd=Ll=s:Ll=Ll.next=s),kd=!0,Ay||(Ay=!0,xO(wO))}function Gc(s,a){if(!wy&&kd){wy=!0;do for(var l=!1,c=Nd;c!==null;){if(s!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var E=c.suspendedLanes,C=c.pingedLanes;y=(1<<31-xn(42|s)+1)-1,y&=p&~(E&~C),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,ZS(c,y))}else y=qt,y=ei(c,c===re?y:0),(y&3)===0||vr(c,y)||(l=!0,ZS(c,y));c=c.next}while(l);wy=!1}}function wO(){kd=Ay=!1;var s=0;po!==0&&(OO()&&(s=po),po=0);for(var a=kn(),l=null,c=Nd;c!==null;){var p=c.next,y=WS(c,a);y===0?(c.next=null,l===null?Nd=p:l.next=p,p===null&&(Ll=l)):(l=c,(s!==0||(y&3)!==0)&&(kd=!0)),c=p}Gc(s)}function WS(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var E=31-xn(y),C=1<<E,k=p[E];k===-1?((C&l)===0||(C&c)!==0)&&(p[E]=el(C,a)):k<=a&&(s.expiredLanes|=C),y&=~C}if(a=re,l=qt,l=ei(s,s===a?l:0),c=s.callbackNode,l===0||s===a&&ae===2||s.cancelPendingCommit!==null)return c!==null&&c!==null&&tl(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||vr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&tl(c),Lf(l)){case 2:case 8:l=Ke;break;case 32:l=bs;break;case 268435456:l=tc;break;default:l=bs}return c=XS.bind(null,s),l=La(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&tl(c),s.callbackPriority=2,s.callbackNode=null,2}function XS(s,a){var l=s.callbackNode;if(kl()&&s.callbackNode!==l)return null;var c=qt;return c=ei(s,s===re?c:0),c===0?null:(US(s,c,a),WS(s,kn()),s.callbackNode!=null&&s.callbackNode===l?XS.bind(null,s):null)}function ZS(s,a){if(kl())return null;US(s,a,!0)}function xO(s){kO(function(){(de&6)!==0?La(Le,s):s()})}function xy(){return po===0&&(po=ic()),po}function JS(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Gi(""+s)}function t1(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function RO(s,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var y=JS((p[Ue]||null).action),E=c.submitter;E&&(a=(a=E[Ue]||null)?JS(a.formAction):E.getAttribute("formAction"),a!==null&&(y=a,E=null));var C=new ll("action","action",null,c,p);s.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(po!==0){var k=E?t1(p,E):new FormData(p);Ng(l,{pending:!0,data:k,method:p.method,action:y},null,k)}}else typeof y=="function"&&(C.preventDefault(),k=E?t1(p,E):new FormData(p),Ng(l,{pending:!0,data:k,method:p.method,action:y},y,k))},currentTarget:p}]})}}for(var Ry=0;Ry<Gb.length;Ry++){var Cy=Gb[Ry],CO=Cy.toLowerCase(),DO=Cy[0].toUpperCase()+Cy.slice(1);Ri(CO,"on"+DO)}Ri(Fb,"onAnimationEnd"),Ri($b,"onAnimationIteration"),Ri(zb,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(GM,"onTransitionRun"),Ri(KM,"onTransitionStart"),Ri(QM,"onTransitionCancel"),Ri(Hb,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kc));function e1(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],p=c.event;c=c.listeners;t:{var y=void 0;if(a)for(var E=c.length-1;0<=E;E--){var C=c[E],k=C.instance,q=C.currentTarget;if(C=C.listener,k!==y&&p.isPropagationStopped())break t;y=C,p.currentTarget=q;try{y(p)}catch(nt){Ed(nt)}p.currentTarget=null,y=k}else for(E=0;E<c.length;E++){if(C=c[E],k=C.instance,q=C.currentTarget,C=C.listener,k!==y&&p.isPropagationStopped())break t;y=C,p.currentTarget=q;try{y(p)}catch(nt){Ed(nt)}p.currentTarget=null,y=k}}}}function Ft(s,a){var l=a[ja];l===void 0&&(l=a[ja]=new Set);var c=s+"__bubble";l.has(c)||(n1(a,s,2,!1),l.add(c))}function Dy(s,a,l){var c=0;a&&(c|=4),n1(l,s,c,a)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function Iy(s){if(!s[Ld]){s[Ld]=!0,rc.forEach(function(l){l!=="selectionchange"&&(IO.has(l)||Dy(l,!1,s),Dy(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ld]||(a[Ld]=!0,Dy("selectionchange",!1,a))}}function n1(s,a,l,c){switch(w1(a)){case 2:var p=nN;break;case 8:p=iN;break;default:p=zy}l=p.bind(null,a,l,s),p=void 0,!ri||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function Py(s,a,l,c,p){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var C=c.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(E===4)for(E=c.return;E!==null;){var k=E.tag;if((k===3||k===4)&&(k=E.stateNode.containerInfo,k===p||k.nodeType===8&&k.parentNode===p))return;E=E.return}for(;C!==null;){if(E=xi(C),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){c=y=E;continue t}C=C.parentNode}}c=c.return}$f(function(){var q=y,nt=ol(l),at=[];t:{var X=qb.get(s);if(X!==void 0){var et=ll,yt=s;switch(s){case"keypress":if(Qi(l)===0)break t;case"keydown":case"keyup":et=ml;break;case"focusin":yt="focus",et=hl;break;case"focusout":yt="blur",et=hl;break;case"beforeblur":case"afterblur":et=hl;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Wf;break;case Fb:case $b:case zb:et=fl;break;case Hb:et=Zf;break;case"scroll":case"scrollend":et=zf;break;case"wheel":et=pl;break;case"copy":case"cut":case"paste":et=dl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=yc;break;case"toggle":case"beforetoggle":et=td}var Ct=(a&4)!==0,Ee=!Ct&&(s==="scroll"||s==="scrollend"),K=Ct?X!==null?X+"Capture":null:X;Ct=[];for(var H=q,Y;H!==null;){var it=H;if(Y=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Y===null||K===null||(it=Ha(H,K),it!=null&&Ct.push(Qc(H,it,Y))),Ee)break;H=H.return}0<Ct.length&&(X=new et(X,yt,null,l,nt),at.push({event:X,listeners:Ct}))}}if((a&7)===0){t:{if(X=s==="mouseover"||s==="pointerover",et=s==="mouseout"||s==="pointerout",X&&l!==si&&(yt=l.relatedTarget||l.fromElement)&&(xi(yt)||yt[Es]))break t;if((et||X)&&(X=nt.window===nt?nt:(X=nt.ownerDocument)?X.defaultView||X.parentWindow:window,et?(yt=l.relatedTarget||l.toElement,et=q,yt=yt?xi(yt):null,yt!==null&&(Ee=ct(yt),Ct=yt.tag,yt!==Ee||Ct!==5&&Ct!==27&&Ct!==6)&&(yt=null)):(et=null,yt=q),et!==yt)){if(Ct=ai,it="onMouseLeave",K="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Ct=yc,it="onPointerLeave",K="onPointerEnter",H="pointer"),Ee=et==null?X:Ar(et),Y=yt==null?X:Ar(yt),X=new Ct(it,H+"leave",et,l,nt),X.target=Ee,X.relatedTarget=Y,it=null,xi(nt)===q&&(Ct=new Ct(K,H+"enter",yt,l,nt),Ct.target=Y,Ct.relatedTarget=Ee,it=Ct),Ee=it,et&&yt)e:{for(Ct=et,K=yt,H=0,Y=Ct;Y;Y=Ul(Y))H++;for(Y=0,it=K;it;it=Ul(it))Y++;for(;0<H-Y;)Ct=Ul(Ct),H--;for(;0<Y-H;)K=Ul(K),Y--;for(;H--;){if(Ct===K||K!==null&&Ct===K.alternate)break e;Ct=Ul(Ct),K=Ul(K)}Ct=null}else Ct=null;et!==null&&i1(at,X,et,Ct,!1),yt!==null&&Ee!==null&&i1(at,Ee,yt,Ct,!0)}}t:{if(X=q?Ar(q):window,et=X.nodeName&&X.nodeName.toLowerCase(),et==="select"||et==="input"&&X.type==="file")var gt=Ib;else if(Be(X))if(Pb)gt=$M;else{gt=BM;var Lt=jM}else et=X.nodeName,!et||et.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?q&&cc(q.elementType)&&(gt=Ib):gt=FM;if(gt&&(gt=gt(s,q))){Is(at,gt,l,nt);break t}Lt&&Lt(s,X,q),s==="focusout"&&q&&X.type==="number"&&q.memoizedProps.value!=null&&al(X,"number",X.value)}switch(Lt=q?Ar(q):window,s){case"focusin":(Be(Lt)||Lt.contentEditable==="true")&&(gl=Lt,lg=q,Tc=null);break;case"focusout":Tc=lg=gl=null;break;case"mousedown":ug=!0;break;case"contextmenu":case"mouseup":case"dragend":ug=!1,jb(at,l,nt);break;case"selectionchange":if(qM)break;case"keydown":case"keyup":jb(at,l,nt)}var _t;if(Xi)t:{switch(s){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else zt?Z(s,l)&&(Et="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Et="onCompositionStart");Et&&(b&&l.locale!=="ko"&&(zt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&zt&&(_t=fc()):(Ki=nt,Ir="value"in Ki?Ki.value:Ki.textContent,zt=!0)),Lt=Ud(q,Et),0<Lt.length&&(Et=new pc(Et,s,null,l,nt),at.push({event:Et,listeners:Lt}),_t?Et.data=_t:(_t=ut(l),_t!==null&&(Et.data=_t)))),(_t=T?je(s,l):Ht(s,l))&&(Et=Ud(q,"onBeforeInput"),0<Et.length&&(Lt=new pc("onBeforeInput","beforeinput",null,l,nt),at.push({event:Lt,listeners:Et}),Lt.data=_t)),RO(at,s,q,l,nt)}e1(at,a)})}function Qc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Ud(s,a){for(var l=a+"Capture",c=[];s!==null;){var p=s,y=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ha(s,l),p!=null&&c.unshift(Qc(s,p,y)),p=Ha(s,a),p!=null&&c.push(Qc(s,p,y))),s=s.return}return c}function Ul(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function i1(s,a,l,c,p){for(var y=a._reactName,E=[];l!==null&&l!==c;){var C=l,k=C.alternate,q=C.stateNode;if(C=C.tag,k!==null&&k===c)break;C!==5&&C!==26&&C!==27||q===null||(k=q,p?(q=Ha(l,y),q!=null&&E.unshift(Qc(l,q,k))):p||(q=Ha(l,y),q!=null&&E.push(Qc(l,q,k)))),l=l.return}E.length!==0&&s.push({event:a,listeners:E})}var PO=/\r\n?/g,VO=/\u0000|\uFFFD/g;function s1(s){return(typeof s=="string"?s:""+s).replace(PO,`
`).replace(VO,"")}function r1(s,a){return a=s1(a),s1(s)===a}function jd(){}function ne(s,a,l,c,p,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||ii(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&ii(s,""+c);break;case"className":Rr(s,"class",c);break;case"tabIndex":Rr(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(s,l,c);break;case"style":Ff(s,c,y);break;case"data":if(a!=="object"){Rr(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Gi(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ne(s,a,"name",p.name,p,null),ne(s,a,"formEncType",p.formEncType,p,null),ne(s,a,"formMethod",p.formMethod,p,null),ne(s,a,"formTarget",p.formTarget,p,null)):(ne(s,a,"encType",p.encType,p,null),ne(s,a,"method",p.method,p,null),ne(s,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Gi(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=jd);break;case"onScroll":c!=null&&Ft("scroll",s);break;case"onScrollEnd":c!=null&&Ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Gi(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ft("beforetoggle",s),Ft("toggle",s),xr(s,"popover",c);break;case"xlinkActuate":ni(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ni(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ni(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ni(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ni(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ni(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ni(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ni(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ni(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":xr(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=eg.get(l)||l,xr(s,l,c))}}function Vy(s,a,l,c,p,y){switch(l){case"style":Ff(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?ii(s,c):(typeof c=="number"||typeof c=="bigint")&&ii(s,""+c);break;case"onScroll":c!=null&&Ft("scroll",s);break;case"onScrollEnd":c!=null&&Ft("scrollend",s);break;case"onClick":c!=null&&(s.onclick=jd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=s[Ue]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,p);break t}l in s?s[l]=c:c===!0?s.setAttribute(l,""):xr(s,l,c)}}}function an(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",s),Ft("load",s);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(s,a,y,E,l,null)}}p&&ne(s,a,"srcSet",l.srcSet,l,null),c&&ne(s,a,"src",l.src,l,null);return;case"input":Ft("invalid",s);var C=y=E=p=null,k=null,q=null;for(c in l)if(l.hasOwnProperty(c)){var nt=l[c];if(nt!=null)switch(c){case"name":p=nt;break;case"type":E=nt;break;case"checked":k=nt;break;case"defaultChecked":q=nt;break;case"value":y=nt;break;case"defaultValue":C=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:ne(s,a,c,nt,l,null)}}$a(s,y,C,k,q,E,p,!1),Fa(s);return;case"select":Ft("invalid",s),c=E=y=null;for(p in l)if(l.hasOwnProperty(p)&&(C=l[p],C!=null))switch(p){case"value":y=C;break;case"defaultValue":E=C;break;case"multiple":c=C;default:ne(s,a,p,C,l,null)}a=y,l=E,s.multiple=!!c,a!=null?Qt(s,!!c,a,!1):l!=null&&Qt(s,!!c,l,!0);return;case"textarea":Ft("invalid",s),y=p=c=null;for(E in l)if(l.hasOwnProperty(E)&&(C=l[E],C!=null))switch(E){case"value":c=C;break;case"defaultValue":p=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:ne(s,a,E,C,l,null)}Dr(s,c,p,y),Fa(s);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(c=l[k],c!=null))switch(k){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ne(s,a,k,c,l,null)}return;case"dialog":Ft("cancel",s),Ft("close",s);break;case"iframe":case"object":Ft("load",s);break;case"video":case"audio":for(c=0;c<Kc.length;c++)Ft(Kc[c],s);break;case"image":Ft("error",s),Ft("load",s);break;case"details":Ft("toggle",s);break;case"embed":case"source":case"link":Ft("error",s),Ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(s,a,q,c,l,null)}return;default:if(cc(a)){for(nt in l)l.hasOwnProperty(nt)&&(c=l[nt],c!==void 0&&Vy(s,a,nt,c,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(c=l[C],c!=null&&ne(s,a,C,c,l,null))}function MO(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,C=null,k=null,q=null,nt=null;for(et in l){var at=l[et];if(l.hasOwnProperty(et)&&at!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":k=at;default:c.hasOwnProperty(et)||ne(s,a,et,null,c,at)}}for(var X in c){var et=c[X];if(at=l[X],c.hasOwnProperty(X)&&(et!=null||at!=null))switch(X){case"type":y=et;break;case"name":p=et;break;case"checked":q=et;break;case"defaultChecked":nt=et;break;case"value":E=et;break;case"defaultValue":C=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,a));break;default:et!==at&&ne(s,a,X,et,c,at)}}Cr(s,E,C,k,q,nt,y,p);return;case"select":et=E=C=X=null;for(y in l)if(k=l[y],l.hasOwnProperty(y)&&k!=null)switch(y){case"value":break;case"multiple":et=k;default:c.hasOwnProperty(y)||ne(s,a,y,null,c,k)}for(p in c)if(y=c[p],k=l[p],c.hasOwnProperty(p)&&(y!=null||k!=null))switch(p){case"value":X=y;break;case"defaultValue":C=y;break;case"multiple":E=y;default:y!==k&&ne(s,a,p,y,c,k)}a=C,l=E,c=et,X!=null?Qt(s,!!l,X,!1):!!c!=!!l&&(a!=null?Qt(s,!!l,a,!0):Qt(s,!!l,l?[]:"",!1));return;case"textarea":et=X=null;for(C in l)if(p=l[C],l.hasOwnProperty(C)&&p!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ne(s,a,C,null,c,p)}for(E in c)if(p=c[E],y=l[E],c.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":X=p;break;case"defaultValue":et=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ne(s,a,E,p,c,y)}za(s,X,et);return;case"option":for(var yt in l)if(X=l[yt],l.hasOwnProperty(yt)&&X!=null&&!c.hasOwnProperty(yt))switch(yt){case"selected":s.selected=!1;break;default:ne(s,a,yt,null,c,X)}for(k in c)if(X=c[k],et=l[k],c.hasOwnProperty(k)&&X!==et&&(X!=null||et!=null))switch(k){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ne(s,a,k,X,c,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in l)X=l[Ct],l.hasOwnProperty(Ct)&&X!=null&&!c.hasOwnProperty(Ct)&&ne(s,a,Ct,null,c,X);for(q in c)if(X=c[q],et=l[q],c.hasOwnProperty(q)&&X!==et&&(X!=null||et!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:ne(s,a,q,X,c,et)}return;default:if(cc(a)){for(var Ee in l)X=l[Ee],l.hasOwnProperty(Ee)&&X!==void 0&&!c.hasOwnProperty(Ee)&&Vy(s,a,Ee,void 0,c,X);for(nt in c)X=c[nt],et=l[nt],!c.hasOwnProperty(nt)||X===et||X===void 0&&et===void 0||Vy(s,a,nt,X,c,et);return}}for(var K in l)X=l[K],l.hasOwnProperty(K)&&X!=null&&!c.hasOwnProperty(K)&&ne(s,a,K,null,c,X);for(at in c)X=c[at],et=l[at],!c.hasOwnProperty(at)||X===et||X==null&&et==null||ne(s,a,at,X,c,et)}var My=null,Oy=null;function Bd(s){return s.nodeType===9?s:s.ownerDocument}function a1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o1(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Ny(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ky=null;function OO(){var s=window.event;return s&&s.type==="popstate"?s===ky?!1:(ky=s,!0):(ky=null,!1)}var l1=typeof setTimeout=="function"?setTimeout:void 0,NO=typeof clearTimeout=="function"?clearTimeout:void 0,u1=typeof Promise=="function"?Promise:void 0,kO=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(s){return u1.resolve(null).then(s).catch(LO)}:l1;function LO(s){setTimeout(function(){throw s})}function Ly(s,a){var l=a,c=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(c===0){s.removeChild(p),nh(a);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=p}while(l);nh(a)}function Uy(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Uy(l),Ba(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function UO(s,a,l,c){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Sr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Ii(s.nextSibling),s===null)break}return null}function jO(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Ii(s.nextSibling),s===null))return null;return s}function Ii(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}function c1(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function h1(s,a,l){switch(a=Bd(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}var gi=new Map,f1=new Set;function Fd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var qs=dt.d;dt.d={f:BO,r:FO,D:$O,C:zO,L:HO,m:qO,X:KO,S:GO,M:QO};function BO(){var s=qs.f(),a=Md();return s||a}function FO(s){var a=Ss(s);a!==null&&a.tag===5&&a.type==="form"?jE(a):qs.r(s)}var jl=typeof document>"u"?null:document;function d1(s,a,l){var c=jl;if(c&&typeof a=="string"&&a){var p=_e(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),f1.has(p)||(f1.add(p),s={rel:s,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),an(a,"link",s),he(a),c.head.appendChild(a)))}}function $O(s){qs.D(s),d1("dns-prefetch",s,null)}function zO(s,a){qs.C(s,a),d1("preconnect",s,a)}function HO(s,a,l){qs.L(s,a,l);var c=jl;if(c&&s&&a){var p='link[rel="preload"][as="'+_e(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+_e(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+_e(l.imageSizes)+'"]')):p+='[href="'+_e(s)+'"]';var y=p;switch(a){case"style":y=Bl(s);break;case"script":y=Fl(s)}gi.has(y)||(s=V({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),gi.set(y,s),c.querySelector(p)!==null||a==="style"&&c.querySelector(Yc(y))||a==="script"&&c.querySelector(Wc(y))||(a=c.createElement("link"),an(a,"link",s),he(a),c.head.appendChild(a)))}}function qO(s,a){qs.m(s,a);var l=jl;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+_e(c)+'"][href="'+_e(s)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Fl(s)}if(!gi.has(y)&&(s=V({rel:"modulepreload",href:s},a),gi.set(y,s),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wc(y)))return}c=l.createElement("link"),an(c,"link",s),he(c),l.head.appendChild(c)}}}function GO(s,a,l){qs.S(s,a,l);var c=jl;if(c&&s){var p=wr(c).hoistableStyles,y=Bl(s);a=a||"default";var E=p.get(y);if(!E){var C={loading:0,preload:null};if(E=c.querySelector(Yc(y)))C.loading=5;else{s=V({rel:"stylesheet",href:s,"data-precedence":a},l),(l=gi.get(y))&&jy(s,l);var k=E=c.createElement("link");he(k),an(k,"link",s),k._p=new Promise(function(q,nt){k.onload=q,k.onerror=nt}),k.addEventListener("load",function(){C.loading|=1}),k.addEventListener("error",function(){C.loading|=2}),C.loading|=4,$d(E,a,c)}E={type:"stylesheet",instance:E,count:1,state:C},p.set(y,E)}}}function KO(s,a){qs.X(s,a);var l=jl;if(l&&s){var c=wr(l).hoistableScripts,p=Fl(s),y=c.get(p);y||(y=l.querySelector(Wc(p)),y||(s=V({src:s,async:!0},a),(a=gi.get(p))&&By(s,a),y=l.createElement("script"),he(y),an(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function QO(s,a){qs.M(s,a);var l=jl;if(l&&s){var c=wr(l).hoistableScripts,p=Fl(s),y=c.get(p);y||(y=l.querySelector(Wc(p)),y||(s=V({src:s,async:!0,type:"module"},a),(a=gi.get(p))&&By(s,a),y=l.createElement("script"),he(y),an(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function m1(s,a,l,c){var p=(p=ti.current)?Fd(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Bl(l.href),l=wr(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Bl(l.href);var y=wr(p).hoistableStyles,E=y.get(s);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,E),(y=p.querySelector(Yc(s)))&&!y._p&&(E.instance=y,E.state.loading=5),gi.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},gi.set(s,l),y||YO(p,s,l,E.state))),a&&c===null)throw Error(i(528,""));return E}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Fl(l),l=wr(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Bl(s){return'href="'+_e(s)+'"'}function Yc(s){return'link[rel="stylesheet"]['+s+"]"}function p1(s){return V({},s,{"data-precedence":s.precedence,precedence:null})}function YO(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),an(a,"link",l),he(a),s.head.appendChild(a))}function Fl(s){return'[src="'+_e(s)+'"]'}function Wc(s){return"script[async]"+s}function g1(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+_e(l.href)+'"]');if(c)return a.instance=c,he(c),c;var p=V({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),he(c),an(c,"style",p),$d(c,l.precedence,s),a.instance=c;case"stylesheet":p=Bl(l.href);var y=s.querySelector(Yc(p));if(y)return a.state.loading|=4,a.instance=y,he(y),y;c=p1(l),(p=gi.get(p))&&jy(c,p),y=(s.ownerDocument||s).createElement("link"),he(y);var E=y;return E._p=new Promise(function(C,k){E.onload=C,E.onerror=k}),an(y,"link",c),a.state.loading|=4,$d(y,l.precedence,s),a.instance=y;case"script":return y=Fl(l.src),(p=s.querySelector(Wc(y)))?(a.instance=p,he(p),p):(c=l,(p=gi.get(y))&&(c=V({},l),By(c,p)),s=s.ownerDocument||s,p=s.createElement("script"),he(p),an(p,"link",c),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,$d(c,l.precedence,s));return a.instance}function $d(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,E=0;E<c.length;E++){var C=c[E];if(C.dataset.precedence===a)y=C;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function jy(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function By(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var zd=null;function y1(s,a,l){if(zd===null){var c=new Map,p=zd=new Map;p.set(l,c)}else p=zd,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[Sr]||y[Qe]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(a)||"";E=s+E;var C=c.get(E);C?C.push(y):c.set(E,[y])}}return c}function v1(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function WO(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function _1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Xc=null;function XO(){}function ZO(s,a,l){if(Xc===null)throw Error(i(475));var c=Xc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Bl(l.href),y=s.querySelector(Yc(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Hd.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,he(y);return}y=s.ownerDocument||s,l=p1(l),(p=gi.get(p))&&jy(l,p),y=y.createElement("link"),he(y);var E=y;E._p=new Promise(function(C,k){E.onload=C,E.onerror=k}),an(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Hd.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function JO(){if(Xc===null)throw Error(i(475));var s=Xc;return s.stylesheets&&s.count===0&&Fy(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Fy(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Hd(){if(this.count--,this.count===0){if(this.stylesheets)Fy(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var qd=null;function Fy(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,qd=new Map,a.forEach(tN,s),qd=null,Hd.call(s))}function tN(s,a){if(!(a.state.loading&4)){var l=qd.get(s);if(l)var c=l.get(null);else{l=new Map,qd.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}p=a.instance,E=p.getAttribute("data-precedence"),y=l.get(E)||c,y===c&&l.set(null,p),l.set(E,p),this.count++,c=Hd.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var Zc={$$typeof:S,Provider:null,Consumer:null,_currentValue:Mt,_currentValue2:Mt,_threadCount:0};function eN(s,a,l,c,p,y,E,C){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.hiddenUpdates=nl(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function T1(s,a,l,c,p,y,E,C,k,q,nt,at){return s=new eN(s,a,l,E,C,k,q,at),a=1,y===!0&&(a|=24),y=mi(3,null,null,a),s.current=y,y.stateNode=s,a=_g(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},Jg(y),s}function b1(s){return s?(s=_l,s):_l}function E1(s,a,l,c,p,y){p=b1(p),c.context===null?c.context=p:c.pendingContext=p,c=Ur(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=jr(s,c,a),l!==null&&(In(l,s,a),Nc(l,s,a))}function S1(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function $y(s,a){S1(s,a),(s=s.alternate)&&S1(s,a)}function A1(s){if(s.tag===13){var a=Pr(s,67108864);a!==null&&In(a,s,67108864),$y(s,67108864)}}var Gd=!0;function nN(s,a,l,c){var p=x.T;x.T=null;var y=dt.p;try{dt.p=2,zy(s,a,l,c)}finally{dt.p=y,x.T=p}}function iN(s,a,l,c){var p=x.T;x.T=null;var y=dt.p;try{dt.p=8,zy(s,a,l,c)}finally{dt.p=y,x.T=p}}function zy(s,a,l,c){if(Gd){var p=Hy(c);if(p===null)Py(s,a,c,Kd,l),x1(s,c);else if(rN(p,s,a,l,c))c.stopPropagation();else if(x1(s,c),a&4&&-1<sN.indexOf(s)){for(;p!==null;){var y=Ss(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=wi(y.pendingLanes);if(E!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var k=1<<31-xn(E);C.entanglements[1]|=k,E&=~k}is(y),(de&6)===0&&(Id=kn()+500,Gc(0))}}break;case 13:C=Pr(y,2),C!==null&&In(C,y,2),Md(),$y(y,2)}if(y=Hy(c),y===null&&Py(s,a,c,Kd,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else Py(s,a,c,null,l)}}function Hy(s){return s=ol(s),qy(s)}var Kd=null;function qy(s){if(Kd=null,s=xi(s),s!==null){var a=ct(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=It(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Kd=s,null}function w1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vf()){case Le:return 2;case Ke:return 8;case bs:case Mf:return 32;case tc:return 268435456;default:return 32}default:return 32}}var Gy=!1,Gr=null,Kr=null,Qr=null,Jc=new Map,th=new Map,Yr=[],sN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x1(s,a){switch(s){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Jc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(a.pointerId)}}function eh(s,a,l,c,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Ss(a),a!==null&&A1(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function rN(s,a,l,c,p){switch(a){case"focusin":return Gr=eh(Gr,s,a,l,c,p),!0;case"dragenter":return Kr=eh(Kr,s,a,l,c,p),!0;case"mouseover":return Qr=eh(Qr,s,a,l,c,p),!0;case"pointerover":var y=p.pointerId;return Jc.set(y,eh(Jc.get(y)||null,s,a,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,th.set(y,eh(th.get(y)||null,s,a,l,c,p)),!0}return!1}function R1(s){var a=xi(s.target);if(a!==null){var l=ct(a);if(l!==null){if(a=l.tag,a===13){if(a=It(l),a!==null){s.blockedOn=a,Er(s.priority,function(){if(l.tag===13){var c=Yn(),p=Pr(l,c);p!==null&&In(p,l,c),$y(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Hy(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);si=c,l.target.dispatchEvent(c),si=null}else return a=Ss(l),a!==null&&A1(a),s.blockedOn=l,!1;a.shift()}return!0}function C1(s,a,l){Qd(s)&&l.delete(a)}function aN(){Gy=!1,Gr!==null&&Qd(Gr)&&(Gr=null),Kr!==null&&Qd(Kr)&&(Kr=null),Qr!==null&&Qd(Qr)&&(Qr=null),Jc.forEach(C1),th.forEach(C1)}function Yd(s,a){s.blockedOn===a&&(s.blockedOn=null,Gy||(Gy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aN)))}var Wd=null;function D1(s){Wd!==s&&(Wd=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Wd===s&&(Wd=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],p=s[a+2];if(typeof c!="function"){if(qy(c||l)===null)continue;break}var y=Ss(l);y!==null&&(s.splice(a,3),a-=3,Ng(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function nh(s){function a(k){return Yd(k,s)}Gr!==null&&Yd(Gr,s),Kr!==null&&Yd(Kr,s),Qr!==null&&Yd(Qr,s),Jc.forEach(a),th.forEach(a);for(var l=0;l<Yr.length;l++){var c=Yr[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Yr.length&&(l=Yr[0],l.blockedOn===null);)R1(l),l.blockedOn===null&&Yr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],E=p[Ue]||null;if(typeof y=="function")E||D1(l);else if(E){var C=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[Ue]||null)C=E.formAction;else if(qy(p)!==null)continue}else C=E.action;typeof C=="function"?l[c+1]=C:(l.splice(c,3),c-=3),D1(l)}}}function Ky(s){this._internalRoot=s}Xd.prototype.render=Ky.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=Yn();E1(l,c,s,a,null,null)},Xd.prototype.unmount=Ky.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;s.tag===0&&kl(),E1(s.current,2,null,s,null,null),Md(),a[Es]=null}};function Xd(s){this._internalRoot=s}Xd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Uf();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Yr.length&&a!==0&&a<Yr[l].priority;l++);Yr.splice(l,0,s),l===0&&R1(s)}};var I1=t.version;if(I1!=="19.0.0")throw Error(i(527,I1,"19.0.0"));dt.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=lt(a),s=s!==null?vt(s):null,s=s===null?null:s.stateNode,s};var oN={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:x,findFiberByHostInstance:xi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zd.isDisabled&&Zd.supportsFiber)try{gr=Zd.inject(oN),dn=Zd}catch{}}return sh.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,c="",p=KE,y=QE,E=YE,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks)),a=T1(s,1,!1,null,null,l,c,p,y,E,C,null),s[Es]=a.current,Iy(s.nodeType===8?s.parentNode:s),new Ky(a)},sh.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var c=!1,p="",y=KE,E=QE,C=YE,k=null,q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(q=l.formState)),a=T1(s,1,!0,a,l??null,c,p,y,E,C,k,q),a.context=b1(null),l=a.current,c=Yn(),p=Ur(c),p.callback=null,jr(l,p,c),a.current.lanes=c,xe(a,c),is(a),s[Es]=a.current,Iy(s),new Xd(a)},sh.version="19.0.0",sh}var F1;function vN(){if(F1)return Xy.exports;F1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xy.exports=yN(),Xy.exports}var _N=vN(),rh={},$1;function TN(){if($1)return rh;$1=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.parse=u,rh.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,S){const A=new o,R=_.length;if(R<2)return A;const I=(S==null?void 0:S.decode)||g;let P=0;do{const j=_.indexOf("=",P);if(j===-1)break;const U=_.indexOf(";",P),W=U===-1?R:U;if(j>W){P=_.lastIndexOf(";",j-1)+1;continue}const z=h(_,P,j),tt=f(_,j,z),M=_.slice(z,tt);if(A[M]===void 0){let w=h(_,j+1,W),x=f(_,W,w);const V=I(_.slice(w,x));A[M]=V}P=W+1}while(P<R);return A}function h(_,S,A){do{const R=_.charCodeAt(S);if(R!==32&&R!==9)return S}while(++S<A);return A}function f(_,S,A){for(;S>A;){const R=_.charCodeAt(--S);if(R!==32&&R!==9)return S+1}return A}function d(_,S,A){const R=(A==null?void 0:A.encode)||encodeURIComponent;if(!e.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=R(S);if(!t.test(I))throw new TypeError(`argument val is invalid: ${S}`);let P=_+"="+I;if(!A)return P;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);P+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);P+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);P+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);P+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(P+="; HttpOnly"),A.secure&&(P+="; Secure"),A.partitioned&&(P+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return P}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return r.call(_)==="[object Date]"}return rh}TN();var z1="popstate";function bN(e={}){function t(i,r){let{pathname:o,search:u,hash:h}=i.location;return Mm("",{pathname:o,search:u,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Su(r)}return SC(t,n,null,e)}function EN(e={}){function t(r,o){let{pathname:u="/",search:h="",hash:f=""}=Ho(r.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Mm("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let u=r.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=r.location.href,d=f.indexOf("#");h=d===-1?f:f.slice(0,d)}return h+"#"+(typeof o=="string"?o:Su(o))}function i(r,o){Ui(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return SC(t,n,i,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ui(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SN(){return Math.random().toString(36).substring(2,10)}function H1(e,t){return{usr:e.state,key:e.key,idx:t}}function Mm(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ho(t):t,state:n,key:t&&t.key||i||SN()}}function Su({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ho(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function SC(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,u=r.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let I=g(),P=I==null?null:I-d;d=I,f&&f({action:h,location:R.location,delta:P})}function _(I,P){h="PUSH";let j=Mm(R.location,I,P);n&&n(j,I),d=g()+1;let U=H1(j,d),W=R.createHref(j);try{u.pushState(U,"",W)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(W)}o&&f&&f({action:h,location:R.location,delta:1})}function S(I,P){h="REPLACE";let j=Mm(R.location,I,P);n&&n(j,I),d=g();let U=H1(j,d),W=R.createHref(j);u.replaceState(U,"",W),o&&f&&f({action:h,location:R.location,delta:0})}function A(I){let P=r.location.origin!=="null"?r.location.origin:r.location.href,j=typeof I=="string"?I:Su(I);return j=j.replace(/ $/,"%20"),ge(P,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,P)}let R={get action(){return h},get location(){return e(r,u)},listen(I){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(z1,v),f=I,()=>{r.removeEventListener(z1,v),f=null}},createHref(I){return t(r,I)},createURL:A,encodeLocation(I){let P=A(I);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:_,replace:S,go(I){return u.go(I)}};return R}function AC(e,t,n="/"){return AN(e,t,n,!1)}function AN(e,t,n,i){let r=typeof t=="string"?Ho(t):t,o=sr(r.pathname||"/",n);if(o==null)return null;let u=wC(e);wN(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=kN(o);h=ON(u[f],d,i)}return h}function wC(e,t=[],n=[],i=""){let r=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(ge(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=Xs([i,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(ge(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),wC(o.children,t,g,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:VN(d,o.index),routesMeta:g})};return e.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,u);else for(let f of xC(o.path))r(o,u,f)}),t}function xC(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let u=xC(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...u),h.map(f=>e.startsWith("/")&&f===""?"/":f)}function wN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:MN(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var xN=/^:[\w-]+$/,RN=3,CN=2,DN=1,IN=10,PN=-2,q1=e=>e==="*";function VN(e,t){let n=e.split("/"),i=n.length;return n.some(q1)&&(i+=PN),t&&(i+=CN),n.filter(r=>!q1(r)).reduce((r,o)=>r+(xN.test(o)?RN:o===""?DN:IN),i)}function MN(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function ON(e,t,n=!1){let{routesMeta:i}=e,r={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,g=o==="/"?t:t.slice(o.length)||"/",v=Om({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),_=f.route;if(!v&&d&&n&&!i[i.length-1].route.index&&(v=Om({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:Xs([o,v.pathname]),pathnameBase:BN(Xs([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=Xs([o,v.pathnameBase]))}return u}function Om(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=NN(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],u=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:v},_)=>{if(g==="*"){let A=h[_]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const S=h[_];return v&&!S?d[g]=void 0:d[g]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:e}}function NN(e,t=!1,n=!0){Ui(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function kN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ui(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function sr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function LN(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?Ho(e):e;return{pathname:n?n.startsWith("/")?n:UN(n,t):t,search:FN(i),hash:$N(r)}}function UN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ev(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function RC(e){let t=jN(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function CC(e,t,n,i=!1){let r;typeof e=="string"?r=Ho(e):(r={...e},ge(!r.pathname||!r.pathname.includes("?"),ev("?","pathname","search",r)),ge(!r.pathname||!r.pathname.includes("#"),ev("#","pathname","hash",r)),ge(!r.search||!r.search.includes("#"),ev("#","search","hash",r)));let o=e===""||r.pathname==="",u=o?"/":r.pathname,h;if(u==null)h=n;else{let v=t.length-1;if(!i&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;r.pathname=_.join("/")}h=v>=0?t[v]:"/"}let f=LN(r,h),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Xs=e=>e.join("/").replace(/\/\/+/g,"/"),BN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$N=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var DC=["POST","PUT","PATCH","DELETE"];new Set(DC);var HN=["GET",...DC];new Set(HN);var ju=O.createContext(null);ju.displayName="DataRouter";var gp=O.createContext(null);gp.displayName="DataRouterState";var IC=O.createContext({isTransitioning:!1});IC.displayName="ViewTransition";var qN=O.createContext(new Map);qN.displayName="Fetchers";var GN=O.createContext(null);GN.displayName="Await";var ys=O.createContext(null);ys.displayName="Navigation";var cf=O.createContext(null);cf.displayName="Location";var hr=O.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var h_=O.createContext(null);h_.displayName="RouteError";function KN(e,{relative:t}={}){ge(hf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(ys),{hash:r,pathname:o,search:u}=ff(e,{relative:t}),h=o;return n!=="/"&&(h=o==="/"?n:Xs([n,o])),i.createHref({pathname:h,search:u,hash:r})}function hf(){return O.useContext(cf)!=null}function qo(){return ge(hf(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(cf).location}var PC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VC(e){O.useContext(ys).static||O.useLayoutEffect(e)}function QN(){let{isDataRoute:e}=O.useContext(hr);return e?ok():YN()}function YN(){ge(hf(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(ju),{basename:t,navigator:n}=O.useContext(ys),{matches:i}=O.useContext(hr),{pathname:r}=qo(),o=JSON.stringify(RC(i)),u=O.useRef(!1);return VC(()=>{u.current=!0}),O.useCallback((f,d={})=>{if(Ui(u.current,PC),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=CC(f,JSON.parse(o),r,d.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Xs([t,g.pathname])),(d.replace?n.replace:n.push)(g,d.state,d)},[t,n,o,r,e])}O.createContext(null);function ff(e,{relative:t}={}){let{matches:n}=O.useContext(hr),{pathname:i}=qo(),r=JSON.stringify(RC(n));return O.useMemo(()=>CC(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function WN(e,t){return MC(e,t)}function MC(e,t,n,i){var j;ge(hf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:o}=O.useContext(ys),{matches:u}=O.useContext(hr),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let U=v&&v.path||"";OC(d,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let _=qo(),S;if(t){let U=typeof t=="string"?Ho(t):t;ge(g==="/"||((j=U.pathname)==null?void 0:j.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),S=U}else S=_;let A=S.pathname||"/",R=A;if(g!=="/"){let U=g.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(U.length).join("/")}let I=!o&&n&&n.matches&&n.matches.length>0?n.matches:AC(e,{pathname:R});Ui(v||I!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ui(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=ek(I&&I.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:Xs([g,r.encodeLocation?r.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:Xs([g,r.encodeLocation?r.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,n,i);return t&&P?O.createElement(cf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},P):P}function XN(){let e=ak(),t=zN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:r},n):null,u)}var ZN=O.createElement(XN,null),JN=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(hr.Provider,{value:this.props.routeContext},O.createElement(h_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tk({routeContext:e,match:t,children:n}){let i=O.useContext(ju);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(hr.Provider,{value:e},n)}function ek(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,o=n==null?void 0:n.errors;if(o!=null){let f=r.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);ge(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,h=-1;if(n)for(let f=0;f<r.length;f++){let d=r[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:v}=n,_=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||_){u=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,d,g)=>{let v,_=!1,S=null,A=null;n&&(v=o&&d.route.id?o[d.route.id]:void 0,S=d.route.errorElement||ZN,u&&(h<0&&g===0?(OC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):h===g&&(_=!0,A=d.route.hydrateFallbackElement||null)));let R=t.concat(r.slice(0,g+1)),I=()=>{let P;return v?P=S:_?P=A:d.route.Component?P=O.createElement(d.route.Component,null):d.route.element?P=d.route.element:P=f,O.createElement(tk,{match:d,routeContext:{outlet:f,matches:R,isDataRoute:n!=null},children:P})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?O.createElement(JN,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:I(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):I()},null)}function f_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nk(e){let t=O.useContext(ju);return ge(t,f_(e)),t}function ik(e){let t=O.useContext(gp);return ge(t,f_(e)),t}function sk(e){let t=O.useContext(hr);return ge(t,f_(e)),t}function d_(e){let t=sk(e),n=t.matches[t.matches.length-1];return ge(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function rk(){return d_("useRouteId")}function ak(){var i;let e=O.useContext(h_),t=ik("useRouteError"),n=d_("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function ok(){let{router:e}=nk("useNavigate"),t=d_("useNavigate"),n=O.useRef(!1);return VC(()=>{n.current=!0}),O.useCallback(async(r,o={})=>{Ui(n.current,PC),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...o}))},[e,t])}var G1={};function OC(e,t,n){!t&&!G1[e]&&(G1[e]=!0,Ui(!1,n))}O.memo(lk);function lk({routes:e,future:t,state:n}){return MC(e,void 0,n,t)}function zv(e){ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NC({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:o=!1}){ge(!hf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:u,navigator:r,static:o,future:{}}),[u,r,o]);typeof n=="string"&&(n=Ho(n));let{pathname:f="/",search:d="",hash:g="",state:v=null,key:_="default"}=n,S=O.useMemo(()=>{let A=sr(f,u);return A==null?null:{location:{pathname:A,search:d,hash:g,state:v,key:_},navigationType:i}},[u,f,d,g,v,_,i]);return Ui(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:O.createElement(ys.Provider,{value:h},O.createElement(cf.Provider,{children:t,value:S}))}function uk({children:e,location:t}){return WN(Hv(e),t)}function Hv(e,t=[]){let n=[];return O.Children.forEach(e,(i,r)=>{if(!O.isValidElement(i))return;let o=[...t,r];if(i.type===O.Fragment){n.push.apply(n,Hv(i.props.children,o));return}ge(i.type===zv,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ge(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Hv(i.props.children,o)),n.push(u)}),n}var mm="get",pm="application/x-www-form-urlencoded";function yp(e){return e!=null&&typeof e.tagName=="string"}function ck(e){return yp(e)&&e.tagName.toLowerCase()==="button"}function hk(e){return yp(e)&&e.tagName.toLowerCase()==="form"}function fk(e){return yp(e)&&e.tagName.toLowerCase()==="input"}function dk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mk(e,t){return e.button===0&&(!t||t==="_self")&&!dk(e)}var tm=null;function pk(){if(tm===null)try{new FormData(document.createElement("form"),0),tm=!1}catch{tm=!0}return tm}var gk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nv(e){return e!=null&&!gk.has(e)?(Ui(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pm}"`),null):e}function yk(e,t){let n,i,r,o,u;if(hk(e)){let h=e.getAttribute("action");i=h?sr(h,t):null,n=e.getAttribute("method")||mm,r=nv(e.getAttribute("enctype"))||pm,o=new FormData(e)}else if(ck(e)||fk(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||h.getAttribute("action");if(i=f?sr(f,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||mm,r=nv(e.getAttribute("formenctype"))||nv(h.getAttribute("enctype"))||pm,o=new FormData(h,e),!pk()){let{name:d,type:g,value:v}=e;if(g==="image"){let _=d?`${d}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else d&&o.append(d,v)}}else{if(yp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mm,i=null,r=pm,u=e}return o&&r==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:o,body:u}}function m_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function vk(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _k(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Tk(e,t,n){let i=await Promise.all(e.map(async r=>{let o=t.routes[r.route.id];if(o){let u=await vk(o,n);return u.links?u.links():[]}return[]}));return Ak(i.flat(1).filter(_k).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function K1(e,t,n,i,r,o){let u=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,h=(f,d)=>{var g;return n[d].pathname!==f.pathname||((g=n[d].route.path)==null?void 0:g.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?t.filter((f,d)=>{var v;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function bk(e,t,{includeHydrateFallback:n}={}){return Ek(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function Ek(e){return[...new Set(e)]}function Sk(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function Ak(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let o=JSON.stringify(Sk(r));return n.has(o)||(n.add(o),i.push({key:o,link:r})),i},[])}var wk=new Set([100,101,204,205]);function xk(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&sr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function kC(){let e=O.useContext(ju);return m_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Rk(){let e=O.useContext(gp);return m_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var p_=O.createContext(void 0);p_.displayName="FrameworkContext";function LC(){let e=O.useContext(p_);return m_(e,"You must render this element inside a <HydratedRouter> element"),e}function Ck(e,t){let n=O.useContext(p_),[i,r]=O.useState(!1),[o,u]=O.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:v}=t,_=O.useRef(null);O.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let R=P=>{P.forEach(j=>{u(j.isIntersecting)})},I=new IntersectionObserver(R,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[e]),O.useEffect(()=>{if(i){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[i]);let S=()=>{r(!0)},A=()=>{r(!1),u(!1)};return n?e!=="intent"?[o,_,{}]:[o,_,{onFocus:ah(h,S),onBlur:ah(f,A),onMouseEnter:ah(d,S),onMouseLeave:ah(g,A),onTouchStart:ah(v,S)}]:[!1,_,{}]}function ah(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Dk({page:e,...t}){let{router:n}=kC(),i=O.useMemo(()=>AC(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?O.createElement(Pk,{page:e,matches:i,...t}):null}function Ik(e){let{manifest:t,routeModules:n}=LC(),[i,r]=O.useState([]);return O.useEffect(()=>{let o=!1;return Tk(e,t,n).then(u=>{o||r(u)}),()=>{o=!0}},[e,t,n]),i}function Pk({page:e,matches:t,...n}){let i=qo(),{manifest:r,routeModules:o}=LC(),{basename:u}=kC(),{loaderData:h,matches:f}=Rk(),d=O.useMemo(()=>K1(e,t,f,r,i,"data"),[e,t,f,r,i]),g=O.useMemo(()=>K1(e,t,f,r,i,"assets"),[e,t,f,r,i]),v=O.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let A=new Set,R=!1;if(t.forEach(P=>{var U;let j=r.routes[P.route.id];!j||!j.hasLoader||(!d.some(W=>W.route.id===P.route.id)&&P.route.id in h&&((U=o[P.route.id])!=null&&U.shouldRevalidate)||j.hasClientLoader?R=!0:A.add(P.route.id))}),A.size===0)return[];let I=xk(e,u);return R&&A.size>0&&I.searchParams.set("_routes",t.filter(P=>A.has(P.route.id)).map(P=>P.route.id).join(",")),[I.pathname+I.search]},[u,h,i,r,d,t,e,o]),_=O.useMemo(()=>bk(g,r),[g,r]),S=Ik(g);return O.createElement(O.Fragment,null,v.map(A=>O.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),_.map(A=>O.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),S.map(({key:A,link:R})=>O.createElement("link",{key:A,...R})))}function Vk(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var UC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UC&&(window.__reactRouterVersion="7.5.2")}catch{}function Mk({basename:e,children:t,window:n}){let i=O.useRef();i.current==null&&(i.current=bN({window:n,v5Compat:!0}));let r=i.current,[o,u]=O.useState({action:r.action,location:r.location}),h=O.useCallback(f=>{O.startTransition(()=>u(f))},[u]);return O.useLayoutEffect(()=>r.listen(h),[r,h]),O.createElement(NC,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}function Ok({basename:e,children:t,window:n}){let i=O.useRef();i.current==null&&(i.current=EN({window:n,v5Compat:!0}));let r=i.current,[o,u]=O.useState({action:r.action,location:r.location}),h=O.useCallback(f=>{O.startTransition(()=>u(f))},[u]);return O.useLayoutEffect(()=>r.listen(h),[r,h]),O.createElement(NC,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}var jC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BC=O.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:v,..._},S){let{basename:A}=O.useContext(ys),R=typeof d=="string"&&jC.test(d),I,P=!1;if(typeof d=="string"&&R&&(I=d,UC))try{let x=new URL(window.location.href),V=d.startsWith("//")?new URL(x.protocol+d):new URL(d),B=sr(V.pathname,A);V.origin===x.origin&&B!=null?d=B+V.search+V.hash:P=!0}catch{Ui(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=KN(d,{relative:r}),[U,W,z]=Ck(i,_),tt=Uk(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:r,viewTransition:v});function M(x){t&&t(x),x.defaultPrevented||tt(x)}let w=O.createElement("a",{..._,...z,href:I||j,onClick:P||o?t:M,ref:Vk(S,W),target:f,"data-discover":!R&&n==="render"?"true":void 0});return U&&!R?O.createElement(O.Fragment,null,w,O.createElement(Dk,{page:j})):w});BC.displayName="Link";var Nk=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:o,to:u,viewTransition:h,children:f,...d},g){let v=ff(u,{relative:d.relative}),_=qo(),S=O.useContext(gp),{navigator:A,basename:R}=O.useContext(ys),I=S!=null&&zk(v)&&h===!0,P=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,j=_.pathname,U=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(j=j.toLowerCase(),U=U?U.toLowerCase():null,P=P.toLowerCase()),U&&R&&(U=sr(U,R)||U);const W=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let z=j===P||!r&&j.startsWith(P)&&j.charAt(W)==="/",tt=U!=null&&(U===P||!r&&U.startsWith(P)&&U.charAt(P.length)==="/"),M={isActive:z,isPending:tt,isTransitioning:I},w=z?t:void 0,x;typeof i=="function"?x=i(M):x=[i,z?"active":null,tt?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(M):o;return O.createElement(BC,{...d,"aria-current":w,className:x,ref:g,style:V,to:u,viewTransition:h},typeof f=="function"?f(M):f)});Nk.displayName="NavLink";var kk=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:o,method:u=mm,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:v,..._},S)=>{let A=Fk(),R=$k(h,{relative:d}),I=u.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&jC.test(h),j=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let W=U.nativeEvent.submitter,z=(W==null?void 0:W.getAttribute("formmethod"))||u;A(W||U.currentTarget,{fetcherKey:t,method:z,navigate:n,replace:r,state:o,relative:d,preventScrollReset:g,viewTransition:v})};return O.createElement("form",{ref:S,method:I,action:R,onSubmit:i?f:j,..._,"data-discover":!P&&e==="render"?"true":void 0})});kk.displayName="Form";function Lk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FC(e){let t=O.useContext(ju);return ge(t,Lk(e)),t}function Uk(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:o,viewTransition:u}={}){let h=QN(),f=qo(),d=ff(e,{relative:o});return O.useCallback(g=>{if(mk(g,t)){g.preventDefault();let v=n!==void 0?n:Su(f)===Su(d);h(e,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:u})}},[f,h,d,n,i,t,e,r,o,u])}var jk=0,Bk=()=>`__${String(++jk)}__`;function Fk(){let{router:e}=FC("useSubmit"),{basename:t}=O.useContext(ys),n=rk();return O.useCallback(async(i,r={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=yk(i,t);if(r.navigate===!1){let g=r.fetcherKey||Bk();await e.fetch(g,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||u,formEncType:r.encType||h,flushSync:r.flushSync})}else await e.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||u,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function $k(e,{relative:t}={}){let{basename:n}=O.useContext(ys),i=O.useContext(hr);ge(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...ff(e||".",{relative:t})},u=qo();if(e==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Xs([n,o.pathname])),Su(o)}function zk(e,t={}){let n=O.useContext(IC);ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=FC("useViewTransitionState"),r=ff(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=sr(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=sr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Om(r.pathname,u)!=null||Om(r.pathname,o)!=null}new TextEncoder;[...wk];const $C=O.createContext({});function Hk(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const g_=O.createContext(null),zC=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function qk(e=!0){const t=O.useContext(g_);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,o=O.useId();O.useEffect(()=>{e&&r(o)},[e]);const u=O.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,u]:[!0]}const y_=typeof window<"u",Gk=y_?O.useLayoutEffect:O.useEffect,Zn=e=>e;let HC=Zn;const Kk={useManualTiming:!1},em=["read","resolveKeyframes","update","preRender","render","postRender"],Q1={value:null};function Qk(e,t){let n=new Set,i=new Set,r=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function d(v){u.has(v)&&(g.schedule(v),e()),f++,v(h)}const g={schedule:(v,_=!1,S=!1)=>{const R=S&&r?n:i;return _&&u.add(v),R.has(v)||R.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(h=v,r){o=!0;return}r=!0,[n,i]=[i,n],n.forEach(d),t&&Q1.value&&Q1.value.frameloop[t].push(f),f=0,n.clear(),r=!1,o&&(o=!1,g.process(v))}};return g}const Yk=40;function qC(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=em.reduce((P,j)=>(P[j]=Qk(o,t?j:void 0),P),{}),{read:h,resolveKeyframes:f,update:d,preRender:g,render:v,postRender:_}=u,S=()=>{const P=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(P-r.timestamp,Yk),1),r.timestamp=P,r.isProcessing=!0,h.process(r),f.process(r),d.process(r),g.process(r),v.process(r),_.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(S))},A=()=>{n=!0,i=!0,r.isProcessing||e(S)};return{schedule:em.reduce((P,j)=>{const U=u[j];return P[j]=(W,z=!1,tt=!1)=>(n||A(),U.schedule(W,z,tt)),P},{}),cancel:P=>{for(let j=0;j<em.length;j++)u[em[j]].cancel(P)},state:r,steps:u}}const{schedule:oe,cancel:Ea,state:ln,steps:iv}=qC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0),GC=O.createContext({strict:!1}),Y1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Au={};for(const e in Y1)Au[e]={isEnabled:t=>Y1[e].some(n=>!!t[n])};function Wk(e){for(const t in e)Au[t]={...Au[t],...e[t]}}const Xk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Xk.has(e)}let KC=e=>!Nm(e);function Zk(e){e&&(KC=t=>t.startsWith("on")?!Nm(t):e(t))}try{Zk(require("@emotion/is-prop-valid").default)}catch{}function Jk(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(KC(r)||n===!0&&Nm(r)||!t&&!Nm(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}function tL(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const vp=O.createContext({});function _p(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Mh(e){return typeof e=="string"||Array.isArray(e)}const v_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],__=["initial",...v_];function Tp(e){return _p(e.animate)||__.some(t=>Mh(e[t]))}function QC(e){return!!(Tp(e)||e.variants)}function eL(e,t){if(Tp(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Mh(n)?n:void 0,animate:Mh(i)?i:void 0}}return e.inherit!==!1?t:{}}function nL(e){const{initial:t,animate:n}=eL(e,O.useContext(vp));return O.useMemo(()=>({initial:t,animate:n}),[W1(t),W1(n)])}function W1(e){return Array.isArray(e)?e.join(" "):e}const iL=Symbol.for("motionComponentSymbol");function Gl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function sL(e,t,n){return O.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Gl(n)&&(n.current=i))},[t])}const T_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rL="framerAppearId",YC="data-"+T_(rL),{schedule:b_}=qC(queueMicrotask,!1),WC=O.createContext({});function aL(e,t,n,i,r){var o,u;const{visualElement:h}=O.useContext(vp),f=O.useContext(GC),d=O.useContext(g_),g=O.useContext(zC).reducedMotion,v=O.useRef(null);i=i||f.renderer,!v.current&&i&&(v.current=i(e,{visualState:t,parent:h,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:g}));const _=v.current,S=O.useContext(WC);_&&!_.projection&&r&&(_.type==="html"||_.type==="svg")&&oL(v.current,n,r,S);const A=O.useRef(!1);O.useInsertionEffect(()=>{_&&A.current&&_.update(n,d)});const R=n[YC],I=O.useRef(!!R&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,R))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,R)));return Gk(()=>{_&&(A.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),b_.render(_.render),I.current&&_.animationState&&_.animationState.animateChanges())}),O.useEffect(()=>{_&&(!I.current&&_.animationState&&_.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,R)}),I.current=!1))}),_}function oL(e,t,n,i){const{layoutId:r,layout:o,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:XC(e.parent)),e.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!u||h&&Gl(h),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:d})}function XC(e){if(e)return e.options.allowProjection!==!1?e.projection:XC(e.parent)}function lL({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:r}){var o,u;e&&Wk(e);function h(d,g){let v;const _={...O.useContext(zC),...d,layoutId:uL(d)},{isStatic:S}=_,A=nL(d),R=i(d,S);if(!S&&y_){cL();const I=hL(_);v=I.MeasureLayout,A.visualElement=aL(r,R,_,t,I.ProjectionNode)}return N.jsxs(vp.Provider,{value:A,children:[v&&A.visualElement?N.jsx(v,{visualElement:A.visualElement,..._}):null,n(r,d,sL(R,A.visualElement,g),R,S,A.visualElement)]})}h.displayName=`motion.${typeof r=="string"?r:`create(${(u=(o=r.displayName)!==null&&o!==void 0?o:r.name)!==null&&u!==void 0?u:""})`}`;const f=O.forwardRef(h);return f[iL]=r,f}function uL({layoutId:e}){const t=O.useContext($C).id;return t&&e!==void 0?t+"-"+e:e}function cL(e,t){O.useContext(GC).strict}function hL(e){const{drag:t,layout:n}=Au;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const ZC=e=>t=>typeof t=="string"&&t.startsWith(e),E_=ZC("--"),fL=ZC("var(--"),S_=e=>fL(e)?dL.test(e.split("/*")[0].trim()):!1,dL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Oh={};function mL(e){for(const t in e)Oh[t]=e[t],E_(t)&&(Oh[t].isCSSVariable=!0)}const Bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Go=new Set(Bu);function JC(e,{layout:t,layoutId:n}){return Go.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Oh[e]||e==="opacity")}const En=e=>!!(e&&e.getVelocity),tD=(e,t)=>t&&typeof e=="number"?t.transform(e):e,rr=(e,t,n)=>n>t?t:n<e?e:n,Fu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Nh={...Fu,transform:e=>rr(0,1,e)},nm={...Fu,default:1},df=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zr=df("deg"),ls=df("%"),St=df("px"),pL=df("vh"),gL=df("vw"),X1={...ls,parse:e=>ls.parse(e)/100,transform:e=>ls.transform(e*100)},yL={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St},vL={rotate:Zr,rotateX:Zr,rotateY:Zr,rotateZ:Zr,scale:nm,scaleX:nm,scaleY:nm,scaleZ:nm,skew:Zr,skewX:Zr,skewY:Zr,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:Nh,originX:X1,originY:X1,originZ:St},Z1={...Fu,transform:Math.round},A_={...yL,...vL,zIndex:Z1,size:St,fillOpacity:Nh,strokeOpacity:Nh,numOctaves:Z1},_L={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TL=Bu.length;function bL(e,t,n){let i="",r=!0;for(let o=0;o<TL;o++){const u=Bu[o],h=e[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const d=tD(h,A_[u]);if(!f){r=!1;const g=_L[u]||u;i+=`${g}(${d}) `}n&&(t[u]=d)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}function w_(e,t,n){const{style:i,vars:r,transformOrigin:o}=e;let u=!1,h=!1;for(const f in t){const d=t[f];if(Go.has(f)){u=!0;continue}else if(E_(f)){r[f]=d;continue}else{const g=tD(d,A_[f]);f.startsWith("origin")?(h=!0,o[f]=g):i[f]=g}}if(t.transform||(u||n?i.transform=bL(t,e.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:d="50%",originZ:g=0}=o;i.transformOrigin=`${f} ${d} ${g}`}}const x_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eD(e,t,n){for(const i in t)!En(t[i])&&!JC(i,n)&&(e[i]=t[i])}function EL({transformTemplate:e},t){return O.useMemo(()=>{const n=x_();return w_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function SL(e,t){const n=e.style||{},i={};return eD(i,n,e),Object.assign(i,EL(e,t)),i}function AL(e,t){const n={},i=SL(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const wL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function R_(e){return typeof e!="string"||e.includes("-")?!1:!!(wL.indexOf(e)>-1||/[A-Z]/u.test(e))}const xL={offset:"stroke-dashoffset",array:"stroke-dasharray"},RL={offset:"strokeDashoffset",array:"strokeDasharray"};function CL(e,t,n=1,i=0,r=!0){e.pathLength=1;const o=r?xL:RL;e[o.offset]=St.transform(-i);const u=St.transform(t),h=St.transform(n);e[o.array]=`${u} ${h}`}function J1(e,t,n){return typeof e=="string"?e:St.transform(t+n*e)}function DL(e,t,n){const i=J1(t,e.x,e.width),r=J1(n,e.y,e.height);return`${i} ${r}`}function C_(e,{attrX:t,attrY:n,attrScale:i,originX:r,originY:o,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...d},g,v){if(w_(e,d,v),g){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:S,dimensions:A}=e;_.transform&&(A&&(S.transform=_.transform),delete _.transform),A&&(r!==void 0||o!==void 0||S.transform)&&(S.transformOrigin=DL(A,r!==void 0?r:.5,o!==void 0?o:.5)),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),u!==void 0&&CL(_,u,h,f,!1)}const nD=()=>({...x_(),attrs:{}}),D_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function IL(e,t,n,i){const r=O.useMemo(()=>{const o=nD();return C_(o,t,D_(i),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};eD(o,e.style,e),r.style={...o,...r.style}}return r}function PL(e=!1){return(n,i,r,{latestValues:o},u)=>{const f=(R_(n)?IL:AL)(i,o,u,n),d=Jk(i,typeof n=="string",e),g=n!==O.Fragment?{...d,...f,ref:r}:{},{children:v}=i,_=O.useMemo(()=>En(v)?v.get():v,[v]);return O.createElement(n,{...g,children:_})}}function tA(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function I_(e,t,n,i){if(typeof t=="function"){const[r,o]=tA(i);t=t(n!==void 0?n:e.custom,r,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,o]=tA(i);t=t(n!==void 0?n:e.custom,r,o)}return t}const qv=e=>Array.isArray(e),VL=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),ML=e=>qv(e)?e[e.length-1]||0:e;function gm(e){const t=En(e)?e.get():e;return VL(t)?t.toValue():t}function OL({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,r,o){const u={latestValues:NL(i,r,o,e),renderState:t()};return n&&(u.onMount=h=>n({props:i,current:h,...u}),u.onUpdate=h=>n(h)),u}const iD=e=>(t,n)=>{const i=O.useContext(vp),r=O.useContext(g_),o=()=>OL(e,t,i,r);return n?o():Hk(o)};function NL(e,t,n,i){const r={},o=i(e,{});for(const _ in o)r[_]=gm(o[_]);let{initial:u,animate:h}=e;const f=Tp(e),d=QC(e);t&&d&&!f&&e.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!_p(v)){const _=Array.isArray(v)?v:[v];for(let S=0;S<_.length;S++){const A=I_(e,_[S]);if(A){const{transitionEnd:R,transition:I,...P}=A;for(const j in P){let U=P[j];if(Array.isArray(U)){const W=g?U.length-1:0;U=U[W]}U!==null&&(r[j]=U)}for(const j in R)r[j]=R[j]}}}return r}function P_(e,t,n){var i;const{style:r}=e,o={};for(const u in r)(En(r[u])||t.style&&En(t.style[u])||JC(u,e)||((i=n==null?void 0:n.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[u]=r[u]);return o}const kL={useVisualState:iD({scrapeMotionValuesFromProps:P_,createRenderState:x_})};function sD(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function rD(e,{style:t,vars:n},i,r){Object.assign(e.style,t,r&&r.getProjectionStyles(i));for(const o in n)e.style.setProperty(o,n[o])}const aD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oD(e,t,n,i){rD(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(aD.has(r)?r:T_(r),t.attrs[r])}function lD(e,t,n){const i=P_(e,t,n);for(const r in e)if(En(e[r])||En(t[r])){const o=Bu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=e[r]}return i}const eA=["x","y","width","height","cx","cy","r"],LL={useVisualState:iD({scrapeMotionValuesFromProps:lD,createRenderState:nD,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:r})=>{if(!n)return;let o=!!e.drag;if(!o){for(const h in r)if(Go.has(h)){o=!0;break}}if(!o)return;let u=!t;if(t)for(let h=0;h<eA.length;h++){const f=eA[h];e[f]!==t[f]&&(u=!0)}u&&oe.read(()=>{sD(n,i),oe.render(()=>{C_(i,r,D_(n.tagName),e.transformTemplate),oD(n,i)})})}})};function UL(e,t){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const u={...R_(i)?LL:kL,preloadedFeatures:e,useRender:PL(r),createVisualElement:t,Component:i};return lL(u)}}function kh(e,t,n){const i=e.getProps();return I_(i,t,n!==void 0?n:i.custom,e)}function V_(e,t){return e?e[t]||e.default||e:void 0}const uD=new Set(["width","height","top","left","right","bottom",...Bu]);let ym;function jL(){ym=void 0}const us={now:()=>(ym===void 0&&us.set(ln.isProcessing||Kk.useManualTiming?ln.timestamp:performance.now()),ym),set:e=>{ym=e,queueMicrotask(jL)}};function M_(e,t){e.indexOf(t)===-1&&e.push(t)}function O_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let N_=class{constructor(){this.subscriptions=[]}add(t){return M_(this.subscriptions,t),()=>O_(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let o=0;o<r;o++){const u=this.subscriptions[o];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function cD(e,t){return t?e*(1e3/t):0}const nA=30,BL=e=>!isNaN(parseFloat(e));let FL=class{constructor(t,n={}){this.version="12.4.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const o=us.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=us.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=BL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new N_);const i=this.events[t].add(n);return t==="change"?()=>{i(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>nA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nA);return cD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Lh(e,t){return new FL(e,t)}function $L(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Lh(n))}function zL(e,t){const n=kh(e,t);let{transitionEnd:i={},transition:r={},...o}=n||{};o={...o,...i};for(const u in o){const h=ML(o[u]);$L(e,u,h)}}function HL(e){return!!(En(e)&&e.add)}function Gv(e,t){const n=e.getValue("willChange");if(HL(n))return n.add(t)}function hD(e){return e.props[YC]}function k_(e){let t;return()=>(t===void 0&&(t=e()),t)}const qL=k_(()=>window.ScrollTimeline!==void 0);let GL=class{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(r=>{if(qL()&&r.attachTimeline)return r.attachTimeline(t);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}},KL=class extends GL{then(t,n){return Promise.all(this.animations).then(t).catch(n)}};const Zs=e=>e*1e3,Js=e=>e/1e3;function L_(e){return typeof e=="function"}function iA(e,t){e.timeline=t,e.onfinish=null}const U_=e=>Array.isArray(e)&&typeof e[0]=="number",QL={linearEasing:void 0};function YL(e,t){const n=k_(e);return()=>{var i;return(i=QL[t])!==null&&i!==void 0?i:n()}}const km=YL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wu=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i},fD=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let o=0;o<r;o++)i+=e(wu(0,r-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function dD(e){return!!(typeof e=="function"&&km()||!e||typeof e=="string"&&(e in Kv||km())||U_(e)||Array.isArray(e)&&e.every(dD))}const ch=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Kv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ch([0,.65,.55,1]),circOut:ch([.55,0,1,.45]),backIn:ch([.31,.01,.66,-.59]),backOut:ch([.33,1.53,.69,.99])};function mD(e,t){if(e)return typeof e=="function"&&km()?fD(e,t):U_(e)?ch(e):Array.isArray(e)?e.map(n=>mD(n,t)||Kv.easeOut):Kv[e]}const pD=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,WL=1e-7,XL=12;function ZL(e,t,n,i,r){let o,u,h=0;do u=t+(n-t)/2,o=pD(u,i,r)-e,o>0?n=u:t=u;while(Math.abs(o)>WL&&++h<XL);return u}function mf(e,t,n,i){if(e===t&&n===i)return Zn;const r=o=>ZL(o,0,1,e,n);return o=>o===0||o===1?o:pD(r(o),t,i)}const gD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yD=e=>t=>1-e(1-t),vD=mf(.33,1.53,.69,.99),j_=yD(vD),_D=gD(j_),TD=e=>(e*=2)<1?.5*j_(e):.5*(2-Math.pow(2,-10*(e-1))),B_=e=>1-Math.sin(Math.acos(e)),bD=yD(B_),ED=gD(B_),SD=e=>/^0[^.\s]+$/u.test(e);function JL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||SD(e):!0}const bh=e=>Math.round(e*1e5)/1e5,F_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function t4(e){return e==null}const e4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$_=(e,t)=>n=>!!(typeof n=="string"&&e4.test(n)&&n.startsWith(e)||t&&!t4(n)&&Object.prototype.hasOwnProperty.call(n,t)),AD=(e,t,n)=>i=>{if(typeof i!="string")return i;const[r,o,u,h]=i.match(F_);return{[e]:parseFloat(r),[t]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},n4=e=>rr(0,255,e),sv={...Fu,transform:e=>Math.round(n4(e))},So={test:$_("rgb","red"),parse:AD("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+sv.transform(e)+", "+sv.transform(t)+", "+sv.transform(n)+", "+bh(Nh.transform(i))+")"};function i4(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Qv={test:$_("#"),parse:i4,transform:So.transform},Kl={test:$_("hsl","hue"),parse:AD("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ls.transform(bh(t))+", "+ls.transform(bh(n))+", "+bh(Nh.transform(i))+")"},vn={test:e=>So.test(e)||Qv.test(e)||Kl.test(e),parse:e=>So.test(e)?So.parse(e):Kl.test(e)?Kl.parse(e):Qv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?So.transform(e):Kl.transform(e)},s4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function r4(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(F_))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(s4))===null||n===void 0?void 0:n.length)||0)>0}const wD="number",xD="color",a4="var",o4="var(",sA="${}",l4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uh(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const h=t.replace(l4,f=>(vn.test(f)?(i.color.push(o),r.push(xD),n.push(vn.parse(f))):f.startsWith(o4)?(i.var.push(o),r.push(a4),n.push(f)):(i.number.push(o),r.push(wD),n.push(parseFloat(f))),++o,sA)).split(sA);return{values:n,split:h,indexes:i,types:r}}function RD(e){return Uh(e).values}function CD(e){const{split:t,types:n}=Uh(e),i=t.length;return r=>{let o="";for(let u=0;u<i;u++)if(o+=t[u],r[u]!==void 0){const h=n[u];h===wD?o+=bh(r[u]):h===xD?o+=vn.transform(r[u]):o+=r[u]}return o}}const u4=e=>typeof e=="number"?0:e;function c4(e){const t=RD(e);return CD(e)(t.map(u4))}const Sa={test:r4,parse:RD,createTransformer:CD,getAnimatableNone:c4},h4=new Set(["brightness","contrast","saturate","opacity"]);function f4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(F_)||[];if(!i)return e;const r=n.replace(i,"");let o=h4.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+r+")"}const d4=/\b([a-z-]*)\(.*?\)/gu,Yv={...Sa,getAnimatableNone:e=>{const t=e.match(d4);return t?t.map(f4).join(" "):e}},m4={...A_,color:vn,backgroundColor:vn,outlineColor:vn,fill:vn,stroke:vn,borderColor:vn,borderTopColor:vn,borderRightColor:vn,borderBottomColor:vn,borderLeftColor:vn,filter:Yv,WebkitFilter:Yv},z_=e=>m4[e];function DD(e,t){let n=z_(e);return n!==Yv&&(n=Sa),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const p4=new Set(["auto","none","0"]);function g4(e,t,n){let i=0,r;for(;i<e.length&&!r;){const o=e[i];typeof o=="string"&&!p4.has(o)&&Uh(o).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=DD(n,r)}const rA=e=>e===Fu||e===St,aA=(e,t)=>parseFloat(e.split(", ")[t]),oA=(e,t)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return aA(r[1],t);{const o=i.match(/^matrix\((.+)\)$/u);return o?aA(o[1],e):0}},y4=new Set(["x","y","z"]),v4=Bu.filter(e=>!y4.has(e));function _4(e){const t=[];return v4.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const xu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:oA(4,13),y:oA(5,14)};xu.translateX=xu.x;xu.translateY=xu.y;const No=new Set;let Wv=!1,Xv=!1;function ID(){if(Xv){const e=Array.from(No).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const r=_4(i);r.length&&(n.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([o,u])=>{var h;(h=i.getValue(o))===null||h===void 0||h.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Xv=!1,Wv=!1,No.forEach(e=>e.complete()),No.clear()}function PD(){No.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xv=!0)})}function T4(){PD(),ID()}let H_=class{constructor(t,n,i,r,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=r,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(No.add(this),Wv||(Wv=!0,oe.read(PD),oe.resolveKeyframes(ID))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:r}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const u=r==null?void 0:r.get(),h=t[t.length-1];if(u!==void 0)t[0]=u;else if(i&&n){const f=i.readValue(n,h);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=h),r&&u===void 0&&r.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),No.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,No.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const VD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),b4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function E4(e){const t=b4.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}function MD(e,t,n=1){const[i,r]=E4(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const u=o.trim();return VD(u)?parseFloat(u):u}return S_(r)?MD(r,t,n+1):r}const OD=e=>t=>t.test(e),S4={test:e=>e==="auto",parse:e=>e},ND=[Fu,St,ls,Zr,gL,pL,S4],lA=e=>ND.find(OD(e));let kD=class extends H_{constructor(t,n,i,r,o){super(t,n,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let d=t[f];if(typeof d=="string"&&(d=d.trim(),S_(d))){const g=MD(d,n.current);g!==void 0&&(t[f]=g),f===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!uD.has(i)||t.length!==2)return;const[r,o]=t,u=lA(r),h=lA(o);if(u!==h)if(rA(u)&&rA(h))for(let f=0;f<t.length;f++){const d=t[f];typeof d=="string"&&(t[f]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let r=0;r<t.length;r++)JL(t[r])&&i.push(r);i.length&&g4(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xu[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){var t;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const o=n.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,h=r[u];r[u]=xu[i](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([f,d])=>{n.getValue(f).set(d)}),this.resolveNoneKeyframes()}};const uA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Sa.test(e)||e==="0")&&!e.startsWith("url("));function A4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function w4(e,t,n,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],u=uA(r,t),h=uA(o,t);return!u||!h?!1:A4(e)||(n==="spring"||L_(n))&&i}const x4=e=>e!==null;function bp(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(x4),o=t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const R4=40;let LD=class{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=us.now(),this.options={autoplay:t,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>R4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&T4(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=us.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:o,delay:u,onComplete:h,onUpdate:f,isGenerator:d}=this.options;if(!d&&!w4(t,i,r,o))if(u)this.options.duration=0;else{f&&f(bp(t,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(t,n);g!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}};const Zv=2e4;function UD(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Zv;)t+=n,i=e.next(t);return t>=Zv?1/0:t}const me=(e,t,n)=>e+(t-e)*n;function rv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function C4({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,o=0,u=0;if(!t)r=o=u=n;else{const h=n<.5?n*(1+t):n+t-n*t,f=2*n-h;r=rv(f,h,e+1/3),o=rv(f,h,e),u=rv(f,h,e-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function Lm(e,t){return n=>n>0?t:e}const av=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},D4=[Qv,So,Kl],I4=e=>D4.find(t=>t.test(e));function cA(e){const t=I4(e);if(!t)return!1;let n=t.parse(e);return t===Kl&&(n=C4(n)),n}const hA=(e,t)=>{const n=cA(e),i=cA(t);if(!n||!i)return Lm(e,t);const r={...n};return o=>(r.red=av(n.red,i.red,o),r.green=av(n.green,i.green,o),r.blue=av(n.blue,i.blue,o),r.alpha=me(n.alpha,i.alpha,o),So.transform(r))},P4=(e,t)=>n=>t(e(n)),pf=(...e)=>e.reduce(P4),Jv=new Set(["none","hidden"]);function V4(e,t){return Jv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function M4(e,t){return n=>me(e,t,n)}function q_(e){return typeof e=="number"?M4:typeof e=="string"?S_(e)?Lm:vn.test(e)?hA:k4:Array.isArray(e)?jD:typeof e=="object"?vn.test(e)?hA:O4:Lm}function jD(e,t){const n=[...e],i=n.length,r=e.map((o,u)=>q_(o)(o,t[u]));return o=>{for(let u=0;u<i;u++)n[u]=r[u](o);return n}}function O4(e,t){const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=q_(e[r])(e[r],t[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}}function N4(e,t){var n;const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],h=e.indexes[u][r[u]],f=(n=e.values[h])!==null&&n!==void 0?n:0;i[o]=f,r[u]++}return i}const k4=(e,t)=>{const n=Sa.createTransformer(t),i=Uh(e),r=Uh(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Jv.has(e)&&!r.values.length||Jv.has(t)&&!i.values.length?V4(e,t):pf(jD(N4(i,r),r.values),n):Lm(e,t)};function BD(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?me(e,t,n):q_(e)(e,t)}const L4=5;function FD(e,t,n){const i=Math.max(t-L4,0);return cD(n-e(i),t-i)}const Ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fA=.001;function U4({duration:e=Ae.duration,bounce:t=Ae.bounce,velocity:n=Ae.velocity,mass:i=Ae.mass}){let r,o,u=1-t;u=rr(Ae.minDamping,Ae.maxDamping,u),e=rr(Ae.minDuration,Ae.maxDuration,Js(e)),u<1?(r=d=>{const g=d*u,v=g*e,_=g-n,S=t0(d,u),A=Math.exp(-v);return fA-_/S*A},o=d=>{const v=d*u*e,_=v*n+n,S=Math.pow(u,2)*Math.pow(d,2)*e,A=Math.exp(-v),R=t0(Math.pow(d,2),u);return(-r(d)+fA>0?-1:1)*((_-S)*A)/R}):(r=d=>{const g=Math.exp(-d*e),v=(d-n)*e+1;return-.001+g*v},o=d=>{const g=Math.exp(-d*e),v=(n-d)*(e*e);return g*v});const h=5/e,f=B4(r,o,h);if(e=Zs(e),isNaN(f))return{stiffness:Ae.stiffness,damping:Ae.damping,duration:e};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:u*2*Math.sqrt(i*d),duration:e}}}const j4=12;function B4(e,t,n){let i=n;for(let r=1;r<j4;r++)i=i-e(i)/t(i);return i}function t0(e,t){return e*Math.sqrt(1-t*t)}const F4=["duration","bounce"],$4=["stiffness","damping","mass"];function dA(e,t){return t.some(n=>e[n]!==void 0)}function z4(e){let t={velocity:Ae.velocity,stiffness:Ae.stiffness,damping:Ae.damping,mass:Ae.mass,isResolvedFromDuration:!1,...e};if(!dA(e,$4)&&dA(e,F4))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,o=2*rr(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:Ae.mass,stiffness:r,damping:o}}else{const n=U4(e);t={...t,...n,mass:Ae.mass},t.isResolvedFromDuration=!0}return t}function $D(e=Ae.visualDuration,t=Ae.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:f,damping:d,mass:g,duration:v,velocity:_,isResolvedFromDuration:S}=z4({...n,velocity:-Js(n.velocity||0)}),A=_||0,R=d/(2*Math.sqrt(f*g)),I=u-o,P=Js(Math.sqrt(f/g)),j=Math.abs(I)<5;i||(i=j?Ae.restSpeed.granular:Ae.restSpeed.default),r||(r=j?Ae.restDelta.granular:Ae.restDelta.default);let U;if(R<1){const z=t0(P,R);U=tt=>{const M=Math.exp(-R*P*tt);return u-M*((A+R*P*I)/z*Math.sin(z*tt)+I*Math.cos(z*tt))}}else if(R===1)U=z=>u-Math.exp(-P*z)*(I+(A+P*I)*z);else{const z=P*Math.sqrt(R*R-1);U=tt=>{const M=Math.exp(-R*P*tt),w=Math.min(z*tt,300);return u-M*((A+R*P*I)*Math.sinh(w)+z*I*Math.cosh(w))/z}}const W={calculatedDuration:S&&v||null,next:z=>{const tt=U(z);if(S)h.done=z>=v;else{let M=0;R<1&&(M=z===0?Zs(A):FD(U,z,tt));const w=Math.abs(M)<=i,x=Math.abs(u-tt)<=r;h.done=w&&x}return h.value=h.done?u:tt,h},toString:()=>{const z=Math.min(UD(W),Zv),tt=fD(M=>W.next(z*M).value,z,30);return z+"ms "+tt}};return W}function mA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:f,restDelta:d=.5,restSpeed:g}){const v=e[0],_={done:!1,value:v},S=w=>h!==void 0&&w<h||f!==void 0&&w>f,A=w=>h===void 0?f:f===void 0||Math.abs(h-w)<Math.abs(f-w)?h:f;let R=n*t;const I=v+R,P=u===void 0?I:u(I);P!==I&&(R=P-v);const j=w=>-R*Math.exp(-w/i),U=w=>P+j(w),W=w=>{const x=j(w),V=U(w);_.done=Math.abs(x)<=d,_.value=_.done?P:V};let z,tt;const M=w=>{S(_.value)&&(z=w,tt=$D({keyframes:[_.value,A(_.value)],velocity:FD(U,w,_.value),damping:r,stiffness:o,restDelta:d,restSpeed:g}))};return M(0),{calculatedDuration:null,next:w=>{let x=!1;return!tt&&z===void 0&&(x=!0,W(w),M(w)),z!==void 0&&w>=z?tt.next(w-z):(!x&&W(w),_)}}}const H4=mf(.42,0,1,1),q4=mf(0,0,.58,1),zD=mf(.42,0,.58,1),G4=e=>Array.isArray(e)&&typeof e[0]!="number",K4={linear:Zn,easeIn:H4,easeInOut:zD,easeOut:q4,circIn:B_,circInOut:ED,circOut:bD,backIn:j_,backInOut:_D,backOut:vD,anticipate:TD},pA=e=>{if(U_(e)){HC(e.length===4);const[t,n,i,r]=e;return mf(t,n,i,r)}else if(typeof e=="string")return K4[e];return e};function Q4(e,t,n){const i=[],r=n||BD,o=e.length-1;for(let u=0;u<o;u++){let h=r(e[u],e[u+1]);if(t){const f=Array.isArray(t)?t[u]||Zn:t;h=pf(f,h)}i.push(h)}return i}function Y4(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const o=e.length;if(HC(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=Q4(t,i,r),f=h.length,d=g=>{if(u&&g<e[0])return t[0];let v=0;if(f>1)for(;v<e.length-2&&!(g<e[v+1]);v++);const _=wu(e[v],e[v+1],g);return h[v](_)};return n?g=>d(rr(e[0],e[o-1],g)):d}function W4(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=wu(0,t,i);e.push(me(n,1,r))}}function X4(e){const t=[0];return W4(t,e.length-1),t}function Z4(e,t){return e.map(n=>n*t)}function J4(e,t){return e.map(()=>t||zD).splice(0,e.length-1)}function Um({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=G4(i)?i.map(pA):pA(i),o={done:!1,value:t[0]},u=Z4(n&&n.length===t.length?n:X4(t),e),h=Y4(u,t,{ease:Array.isArray(r)?r:J4(t,r)});return{calculatedDuration:e,next:f=>(o.value=h(f),o.done=f>=e,o)}}const tU=e=>{const t=({timestamp:n})=>e(n);return{start:()=>oe.update(t,!0),stop:()=>Ea(t),now:()=>ln.isProcessing?ln.timestamp:us.now()}},eU={decay:mA,inertia:mA,tween:Um,keyframes:Um,spring:$D},nU=e=>e/100;let G_=class extends LD{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:r,keyframes:o}=this.options,u=(r==null?void 0:r.KeyframeResolver)||H_,h=(f,d)=>this.onKeyframesResolved(f,d);this.resolver=new u(o,h,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:u=0}=this.options,h=L_(n)?n:eU[n]||Um;let f,d;h!==Um&&typeof t[0]!="number"&&(f=pf(nU,BD(t[0],t[1])),t=[0,100]);const g=h({...this.options,keyframes:t});o==="mirror"&&(d=h({...this.options,keyframes:[...t].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=UD(g));const{calculatedDuration:v}=g,_=v+r,S=_*(i+1)-r;return{generator:g,mirroredGenerator:d,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:_,totalDuration:S}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:d,totalDuration:g,resolvedDuration:v}=i;if(this.startTime===null)return o.next(0);const{delay:_,repeat:S,repeatType:A,repeatDelay:R,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-g/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const P=this.currentTime-_*(this.speed>=0?1:-1),j=this.speed>=0?P<0:P>g;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let U=this.currentTime,W=o;if(S){const w=Math.min(this.currentTime,g)/v;let x=Math.floor(w),V=w%1;!V&&w>=1&&(V=1),V===1&&x--,x=Math.min(x,S+1),!!(x%2)&&(A==="reverse"?(V=1-V,R&&(V-=R/v)):A==="mirror"&&(W=u)),U=rr(0,1,V)*v}const z=j?{done:!1,value:f[0]}:W.next(U);h&&(z.value=h(z.value));let{done:tt}=z;!j&&d!==null&&(tt=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&tt);return M&&r!==void 0&&(z.value=bp(f,this.options,r)),I&&I(z.value),M&&this.finish(),z}get duration(){const{resolved:t}=this;return t?Js(t.calculatedDuration):0}get time(){return Js(this.currentTime)}set time(t){t=Zs(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Js(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=tU,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}};const iU=new Set(["opacity","clipPath","filter","transform"]);function sU(e,t,n,{delay:i=0,duration:r=300,repeat:o=0,repeatType:u="loop",ease:h="easeInOut",times:f}={}){const d={[t]:n};f&&(d.offset=f);const g=mD(h,r);return Array.isArray(g)&&(d.easing=g),e.animate(d,{delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"})}const rU=k_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jm=10,aU=2e4;function oU(e){return L_(e.type)||e.type==="spring"||!dD(e.ease)}function lU(e,t){const n=new G_({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const r=[];let o=0;for(;!i.done&&o<aU;)i=n.sample(o),r.push(i.value),o+=jm;return{times:void 0,keyframes:r,duration:o-jm,ease:"linear"}}const HD={anticipate:TD,backInOut:_D,circInOut:ED};function uU(e){return e in HD}let gA=class extends LD{constructor(t){super(t);const{name:n,motionValue:i,element:r,keyframes:o}=this.options;this.resolver=new kD(o,(u,h)=>this.onKeyframesResolved(u,h),n,i,r),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:r,ease:o,type:u,motionValue:h,name:f,startTime:d}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof o=="string"&&km()&&uU(o)&&(o=HD[o]),oU(this.options)){const{onComplete:v,onUpdate:_,motionValue:S,element:A,...R}=this.options,I=lU(t,R);t=I.keyframes,t.length===1&&(t[1]=t[0]),i=I.duration,r=I.times,o=I.ease,u="keyframes"}const g=sU(h.owner.current,f,t,{...this.options,duration:i,times:r,ease:o});return g.startTime=d??this.calcStartTime(),this.pendingTimeline?(iA(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;h.set(bp(t,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:r,type:u,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Js(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Js(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Zs(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Zn;const{animation:i}=n;iA(i,t)}return Zn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:r,type:o,ease:u,times:h}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:g,onComplete:v,element:_,...S}=this.options,A=new G_({...S,keyframes:i,duration:r,type:o,ease:u,times:h,isGenerator:!0}),R=Zs(this.time);d.setWithVelocity(A.sample(R-jm).value,A.sample(R).value,jm)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:r,repeatType:o,damping:u,type:h}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=n.owner.getProps();return rU()&&i&&iU.has(i)&&!f&&!d&&!r&&o!=="mirror"&&u!==0&&h!=="inertia"}};const cU={type:"spring",stiffness:500,damping:25,restSpeed:10},hU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fU={type:"keyframes",duration:.8},dU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mU=(e,{keyframes:t})=>t.length>2?fU:Go.has(e)?e.startsWith("scale")?hU(t[1]):cU:dU;function pU({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:u,repeatDelay:h,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const K_=(e,t,n,i={},r,o)=>u=>{const h=V_(i,e)||{},f=h.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Zs(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-d,onUpdate:_=>{t.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:o?void 0:r};pU(h)||(g={...g,...mU(e,g)}),g.duration&&(g.duration=Zs(g.duration)),g.repeatDelay&&(g.repeatDelay=Zs(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),v&&!o&&t.get()!==void 0){const _=bp(g.keyframes,h);if(_!==void 0)return oe.update(()=>{g.onUpdate(_),g.onComplete()}),new KL([])}return!o&&gA.supports(g)?new gA(g):new G_(g)};function gU({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function qD(e,t,{delay:n=0,transitionOverride:i,type:r}={}){var o;let{transition:u=e.getDefaultTransition(),transitionEnd:h,...f}=t;i&&(u=i);const d=[],g=r&&e.animationState&&e.animationState.getState()[r];for(const v in f){const _=e.getValue(v,(o=e.latestValues[v])!==null&&o!==void 0?o:null),S=f[v];if(S===void 0||g&&gU(g,v))continue;const A={delay:n,...V_(u||{},v)};let R=!1;if(window.MotionHandoffAnimation){const P=hD(e);if(P){const j=window.MotionHandoffAnimation(P,v,oe);j!==null&&(A.startTime=j,R=!0)}}Gv(e,v),_.start(K_(v,_,S,e.shouldReduceMotion&&uD.has(v)?{type:!1}:A,e,R));const I=_.animation;I&&d.push(I)}return h&&Promise.all(d).then(()=>{oe.update(()=>{h&&zL(e,h)})}),d}function e0(e,t,n={}){var i;const r=kh(e,t,n.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(qD(e,r,n)):()=>Promise.resolve(),h=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=o;return yU(e,t,g+d,v,_,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[d,g]=f==="beforeChildren"?[u,h]:[h,u];return d().then(()=>g())}else return Promise.all([u(),h(n.delay)])}function yU(e,t,n=0,i=0,r=1,o){const u=[],h=(e.variantChildren.size-1)*i,f=r===1?(d=0)=>d*i:(d=0)=>h-d*i;return Array.from(e.variantChildren).sort(vU).forEach((d,g)=>{d.notify("AnimationStart",t),u.push(e0(d,t,{...o,delay:n+f(g)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(u)}function vU(e,t){return e.sortNodePosition(t)}function _U(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(o=>e0(e,o,n));i=Promise.all(r)}else if(typeof t=="string")i=e0(e,t,n);else{const r=typeof t=="function"?kh(e,t,n.custom):t;i=Promise.all(qD(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function GD(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const TU=__.length;function KD(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?KD(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<TU;n++){const i=__[n],r=e.props[i];(Mh(r)||r===!1)&&(t[i]=r)}return t}const bU=[...v_].reverse(),EU=v_.length;function SU(e){return t=>Promise.all(t.map(({animation:n,options:i})=>_U(e,n,i)))}function AU(e){let t=SU(e),n=yA(),i=!0;const r=f=>(d,g)=>{var v;const _=kh(e,g,f==="exit"?(v=e.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(_){const{transition:S,transitionEnd:A,...R}=_;d={...d,...R,...A}}return d};function o(f){t=f(e)}function u(f){const{props:d}=e,g=KD(e.parent)||{},v=[],_=new Set;let S={},A=1/0;for(let I=0;I<EU;I++){const P=bU[I],j=n[P],U=d[P]!==void 0?d[P]:g[P],W=Mh(U),z=P===f?j.isActive:null;z===!1&&(A=I);let tt=U===g[P]&&U!==d[P]&&W;if(tt&&i&&e.manuallyAnimateOnMount&&(tt=!1),j.protectedKeys={...S},!j.isActive&&z===null||!U&&!j.prevProp||_p(U)||typeof U=="boolean")continue;const M=wU(j.prevProp,U);let w=M||P===f&&j.isActive&&!tt&&W||I>A&&W,x=!1;const V=Array.isArray(U)?U:[U];let B=V.reduce(r(P),{});z===!1&&(B={});const{prevResolvedValues:G={}}=j,L={...G,...B},se=ot=>{w=!0,_.has(ot)&&(x=!0,_.delete(ot)),j.needsAnimating[ot]=!0;const ct=e.getValue(ot);ct&&(ct.liveStyle=!1)};for(const ot in L){const ct=B[ot],It=G[ot];if(S.hasOwnProperty(ot))continue;let $=!1;qv(ct)&&qv(It)?$=!GD(ct,It):$=ct!==It,$?ct!=null?se(ot):_.add(ot):ct!==void 0&&_.has(ot)?se(ot):j.protectedKeys[ot]=!0}j.prevProp=U,j.prevResolvedValues=B,j.isActive&&(S={...S,...B}),i&&e.blockInitialAnimation&&(w=!1),w&&(!(tt&&M)||x)&&v.push(...V.map(ot=>({animation:ot,options:{type:P}})))}if(_.size){const I={};if(typeof d.initial!="boolean"){const P=kh(e,Array.isArray(d.initial)?d.initial[0]:d.initial);P&&P.transition&&(I.transition=P.transition)}_.forEach(P=>{const j=e.getBaseTarget(P),U=e.getValue(P);U&&(U.liveStyle=!0),I[P]=j??null}),v.push({animation:I})}let R=!!v.length;return i&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(R=!1),i=!1,R?t(v):Promise.resolve()}function h(f,d){var g;if(n[f].isActive===d)return Promise.resolve();(g=e.variantChildren)===null||g===void 0||g.forEach(_=>{var S;return(S=_.animationState)===null||S===void 0?void 0:S.setActive(f,d)}),n[f].isActive=d;const v=u(f);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=yA(),i=!0}}}function wU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!GD(t,e):!1}function go(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yA(){return{animate:go(!0),whileInView:go(),whileHover:go(),whileTap:go(),whileDrag:go(),whileFocus:go(),exit:go()}}let Va=class{constructor(t){this.isMounted=!1,this.node=t}update(){}},xU=class extends Va{constructor(t){super(t),t.animationState||(t.animationState=AU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_p(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}},RU=0,CU=class extends Va{constructor(){super(...arguments),this.id=RU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}};const DU={animation:{Feature:xU},exit:{Feature:CU}},Pi={x:!1,y:!1};function QD(){return Pi.x||Pi.y}function IU(e){return e==="x"||e==="y"?Pi[e]?null:(Pi[e]=!0,()=>{Pi[e]=!1}):Pi.x||Pi.y?null:(Pi.x=Pi.y=!0,()=>{Pi.x=Pi.y=!1})}function jh(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const Q_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function gf(e){return{point:{x:e.pageX,y:e.pageY}}}const PU=e=>t=>Q_(t)&&e(t,gf(t));function Ql(e,t,n,i){return jh(e,t,PU(n),i)}function YD({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function VU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function MU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const WD=1e-4,OU=1-WD,NU=1+WD,XD=.01,kU=0-XD,LU=0+XD;function Mn(e){return e.max-e.min}function UU(e,t,n){return Math.abs(e-t)<=n}function vA(e,t,n,i=.5){e.origin=i,e.originPoint=me(t.min,t.max,e.origin),e.scale=Mn(n)/Mn(t),e.translate=me(n.min,n.max,e.origin)-e.originPoint,(e.scale>=OU&&e.scale<=NU||isNaN(e.scale))&&(e.scale=1),(e.translate>=kU&&e.translate<=LU||isNaN(e.translate))&&(e.translate=0)}function Eh(e,t,n,i){vA(e.x,t.x,n.x,i?i.originX:void 0),vA(e.y,t.y,n.y,i?i.originY:void 0)}function _A(e,t,n){e.min=n.min+t.min,e.max=e.min+Mn(t)}function jU(e,t,n){_A(e.x,t.x,n.x),_A(e.y,t.y,n.y)}function TA(e,t,n){e.min=t.min-n.min,e.max=e.min+Mn(t)}function Sh(e,t,n){TA(e.x,t.x,n.x),TA(e.y,t.y,n.y)}const bA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yl=()=>({x:bA(),y:bA()}),EA=()=>({min:0,max:0}),Ce=()=>({x:EA(),y:EA()});function _i(e){return[e("x"),e("y")]}function ov(e){return e===void 0||e===1}function n0({scale:e,scaleX:t,scaleY:n}){return!ov(e)||!ov(t)||!ov(n)}function To(e){return n0(e)||ZD(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ZD(e){return SA(e.x)||SA(e.y)}function SA(e){return e&&e!=="0%"}function Bm(e,t,n){const i=e-n,r=t*i;return n+r}function AA(e,t,n,i,r){return r!==void 0&&(e=Bm(e,r,i)),Bm(e,n,i)+t}function i0(e,t=0,n=1,i,r){e.min=AA(e.min,t,n,i,r),e.max=AA(e.max,t,n,i,r)}function JD(e,{x:t,y:n}){i0(e.x,t.translate,t.scale,t.originPoint),i0(e.y,n.translate,n.scale,n.originPoint)}const wA=.999999999999,xA=1.0000000000001;function BU(e,t,n,i=!1){const r=n.length;if(!r)return;t.x=t.y=1;let o,u;for(let h=0;h<r;h++){o=n[h],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Xl(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,JD(e,u)),i&&To(o.latestValues)&&Xl(e,o.latestValues))}t.x<xA&&t.x>wA&&(t.x=1),t.y<xA&&t.y>wA&&(t.y=1)}function Wl(e,t){e.min=e.min+t,e.max=e.max+t}function RA(e,t,n,i,r=.5){const o=me(e.min,e.max,r);i0(e,t,n,o,i)}function Xl(e,t){RA(e.x,t.x,t.scaleX,t.scale,t.originX),RA(e.y,t.y,t.scaleY,t.scale,t.originY)}function tI(e,t){return YD(MU(e.getBoundingClientRect(),t))}function FU(e,t,n){const i=tI(e,n),{scroll:r}=t;return r&&(Wl(i.x,r.offset.x),Wl(i.y,r.offset.y)),i}const CA=(e,t)=>Math.abs(e-t);function $U(e,t){const n=CA(e.x,t.x),i=CA(e.y,t.y);return Math.sqrt(n**2+i**2)}let eI=class{constructor(t,n,{transformPagePoint:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=uv(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=$U(g.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:S}=g,{timestamp:A}=ln;this.history.push({...S,timestamp:A});const{onStart:R,onMove:I}=this.handlers;v||(R&&R(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{if(g.currentTarget instanceof Element&&g.currentTarget.hasPointerCapture&&g.pointerId!==void 0)try{if(!g.currentTarget.hasPointerCapture(g.pointerId))return}catch{}this.lastMoveEvent=g,this.lastMoveEventInfo=lv(v,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{IA(g,"release"),this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=uv(g.type==="pointercancel"||g.type==="lostpointercapture"?this.lastMoveEventInfo:lv(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,R),S&&S(g,R)},!Q_(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i;const o=gf(t),u=lv(o,this.transformPagePoint),{point:h}=u,{timestamp:f}=ln;this.history=[{...h,timestamp:f}];const{onSessionStart:d}=n;d&&d(t,uv(u,this.history)),IA(t,"set"),this.removeListeners=pf(Ql(t.currentTarget,"pointermove",this.handlePointerMove),Ql(t.currentTarget,"pointerup",this.handlePointerUp),Ql(t.currentTarget,"pointercancel",this.handlePointerUp),Ql(t.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ea(this.updatePoint)}};function lv(e,t){return t?{point:t(e.point)}:e}function DA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function uv({point:e},t){return{point:e,delta:DA(e,nI(t)),offset:DA(e,zU(t)),velocity:HU(t,.1)}}function zU(e){return e[0]}function nI(e){return e[e.length-1]}function HU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=nI(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>Zs(t)));)n--;if(!i)return{x:0,y:0};const o=Js(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function IA(e,t){const n=`${t}PointerCapture`;if(e.currentTarget instanceof Element&&n in e.currentTarget&&e.pointerId!==void 0)try{e.currentTarget[n](e.pointerId)}catch{}}function qU(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?me(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?me(n,e,i.max):Math.min(e,n)),e}function PA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function GU(e,{top:t,left:n,bottom:i,right:r}){return{x:PA(e.x,n,r),y:PA(e.y,t,i)}}function VA(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function KU(e,t){return{x:VA(e.x,t.x),y:VA(e.y,t.y)}}function QU(e,t){let n=.5;const i=Mn(e),r=Mn(t);return r>i?n=wu(t.min,t.max-i,e.min):i>r&&(n=wu(e.min,e.max-r,t.min)),rr(0,1,n)}function YU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const s0=.35;function WU(e=s0){return e===!1?e=0:e===!0&&(e=s0),{x:MA(e,"left","right"),y:MA(e,"top","bottom")}}function MA(e,t,n){return{min:OA(e,t),max:OA(e,n)}}function OA(e,t){return typeof e=="number"?e:e[t]||0}const XU=new WeakMap;let ZU=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ce(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gf(g).point)},o=(g,v)=>{const{drag:_,dragPropagation:S,onDragStart:A}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=IU(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(I=>{let P=this.getAxisMotionValue(I).get()||0;if(ls.test(P)){const{projection:j}=this.visualElement;if(j&&j.layout){const U=j.layout.layoutBox[I];U&&(P=Mn(U)*(parseFloat(P)/100))}}this.originPoint[I]=P}),A&&oe.postRender(()=>A(g,v)),Gv(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},u=(g,v)=>{const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:A,onDrag:R}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:I}=v;if(S&&this.currentDirection===null){this.currentDirection=JU(I),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",v.point,I),this.updateAxis("y",v.point,I),this.visualElement.render(),R&&R(g,v)},h=(g,v)=>this.stop(g,v),f=()=>_i(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new eI(t,{onSessionStart:r,onStart:o,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&oe.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!im(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=qU(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Gl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=GU(r.layoutBox,n):this.constraints=!1,this.elastic=WU(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_i(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=YU(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Gl(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=FU(i,r.root,this.visualElement.getTransformPagePoint());let u=KU(r.layout.layoutBox,o);if(n){const h=n(VU(u));this.hasMutatedConstraints=!!h,h&&(u=YD(h))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},d=_i(g=>{if(!im(g,n,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const _=r?200:1e6,S=r?40:1e7,A={type:"inertia",velocity:i?t[g]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,A)});return Promise.all(d).then(h)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Gv(this.visualElement,t),i.start(K_(t,i,0,n,this.visualElement,!1))}stopAnimation(){_i(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){_i(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){_i(n=>{const{drag:i}=this.getProps();if(!im(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:u,max:h}=r.layout.layoutBox[n];o.set(t[n]-me(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Gl(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};_i(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();r[u]=QU({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),_i(u=>{if(!im(u,t,null))return;const h=this.getAxisMotionValue(u),{min:f,max:d}=this.constraints[u];h.set(me(f,d,r[u]))})}addListeners(){if(!this.visualElement.current)return;XU.set(this.visualElement,this);const t=this.visualElement.current,n=Ql(t,"pointerdown",f=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Gl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),oe.read(i);const u=jh(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(_i(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),o(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:u=s0,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:u,dragMomentum:h}}};function im(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function JU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}let t3=class extends Va{constructor(t){super(t),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new ZU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}unmount(){this.removeGroupControls(),this.removeListeners()}};const NA=e=>(t,n)=>{e&&oe.postRender(()=>e(t,n))};let e3=class extends Va{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(t){this.session=new eI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:NA(t),onStart:NA(n),onMove:i,onEnd:(o,u)=>{delete this.session,r&&oe.postRender(()=>r(o,u))}}}mount(){this.removePointerDownListener=Ql(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const vm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const oh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(St.test(e))e=parseFloat(e);else return e;const n=kA(e,t.target.x),i=kA(e,t.target.y);return`${n}% ${i}%`}},n3={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=Sa.parse(e);if(r.length>5)return i;const o=Sa.createTransformer(e),u=typeof r[0]!="number"?1:0,h=n.x.scale*t.x,f=n.y.scale*t.y;r[0+u]/=h,r[1+u]/=f;const d=me(h,f,.5);return typeof r[2+u]=="number"&&(r[2+u]/=d),typeof r[3+u]=="number"&&(r[3+u]/=d),o(r)}};let i3=class extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=t;mL(s3),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),vm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,u=i.projection;return u&&(u.isPresent=o,r||t.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||oe.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),b_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function iI(e){const[t,n]=qk(),i=O.useContext($C);return N.jsx(i3,{...e,layoutGroup:i,switchLayoutGroup:O.useContext(WC),isPresent:t,safeToRemove:n})}const s3={borderRadius:{...oh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oh,borderTopRightRadius:oh,borderBottomLeftRadius:oh,borderBottomRightRadius:oh,boxShadow:n3};function r3(e,t,n){const i=En(e)?e:Lh(e);return i.start(K_("",i,t,n)),i.animation}function a3(e){return e instanceof SVGElement&&e.tagName!=="svg"}const o3=(e,t)=>e.depth-t.depth;let l3=class{constructor(){this.children=[],this.isDirty=!1}add(t){M_(this.children,t),this.isDirty=!0}remove(t){O_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(o3),this.isDirty=!1,this.children.forEach(t)}};function u3(e,t){const n=us.now(),i=({timestamp:r})=>{const o=r-n;o>=t&&(Ea(i),e(o-t))};return oe.read(i,!0),()=>Ea(i)}const sI=["TopLeft","TopRight","BottomLeft","BottomRight"],c3=sI.length,LA=e=>typeof e=="string"?parseFloat(e):e,UA=e=>typeof e=="number"||St.test(e);function h3(e,t,n,i,r,o){r?(e.opacity=me(0,n.opacity!==void 0?n.opacity:1,f3(i)),e.opacityExit=me(t.opacity!==void 0?t.opacity:1,0,d3(i))):o&&(e.opacity=me(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let u=0;u<c3;u++){const h=`border${sI[u]}Radius`;let f=jA(t,h),d=jA(n,h);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||UA(f)===UA(d)?(e[h]=Math.max(me(LA(f),LA(d),i),0),(ls.test(d)||ls.test(f))&&(e[h]+="%")):e[h]=d}(t.rotate||n.rotate)&&(e.rotate=me(t.rotate||0,n.rotate||0,i))}function jA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const f3=rI(0,.5,bD),d3=rI(.5,.95,Zn);function rI(e,t,n){return i=>i<e?0:i>t?1:n(wu(e,t,i))}function BA(e,t){e.min=t.min,e.max=t.max}function yi(e,t){BA(e.x,t.x),BA(e.y,t.y)}function FA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $A(e,t,n,i,r){return e-=t,e=Bm(e,1/n,i),r!==void 0&&(e=Bm(e,1/r,i)),e}function m3(e,t=0,n=1,i=.5,r,o=e,u=e){if(ls.test(t)&&(t=parseFloat(t),t=me(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=me(o.min,o.max,i);e===o&&(h-=t),e.min=$A(e.min,t,n,h,r),e.max=$A(e.max,t,n,h,r)}function zA(e,t,[n,i,r],o,u){m3(e,t[n],t[i],t[r],t.scale,o,u)}const p3=["x","scaleX","originX"],g3=["y","scaleY","originY"];function HA(e,t,n,i){zA(e.x,t,p3,n?n.x:void 0,i?i.x:void 0),zA(e.y,t,g3,n?n.y:void 0,i?i.y:void 0)}function qA(e){return e.translate===0&&e.scale===1}function aI(e){return qA(e.x)&&qA(e.y)}function GA(e,t){return e.min===t.min&&e.max===t.max}function y3(e,t){return GA(e.x,t.x)&&GA(e.y,t.y)}function KA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function oI(e,t){return KA(e.x,t.x)&&KA(e.y,t.y)}function QA(e){return Mn(e.x)/Mn(e.y)}function YA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}let v3=class{constructor(){this.members=[]}add(t){M_(this.members,t),t.scheduleRender()}remove(t){if(O_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function _3(e,t,n){let i="";const r=e.x.translate/t.x,o=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((r||o||u)&&(i=`translate3d(${r}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:g,rotateX:v,rotateY:_,skewX:S,skewY:A}=n;d&&(i=`perspective(${d}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),_&&(i+=`rotateY(${_}deg) `),S&&(i+=`skewX(${S}deg) `),A&&(i+=`skewY(${A}deg) `)}const h=e.x.scale*t.x,f=e.y.scale*t.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const cv=["","X","Y","Z"],T3={visibility:"hidden"},WA=1e3;let b3=0;function hv(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function lI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=hD(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",oe,!(r||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&lI(i)}function uI({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(u={},h=t==null?void 0:t()){this.id=b3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(A3),this.nodes.forEach(D3),this.nodes.forEach(I3),this.nodes.forEach(w3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new l3)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new N_),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=a3(u),this.instance=u;const{layoutId:f,layout:d,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(d||f)&&(this.isLayoutDirty=!0),e){let v;const _=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=u3(_,250),vm.hasAnimatedSinceResize&&(vm.hasAnimatedSinceResize=!1,this.nodes.forEach(ZA))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||d)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||g.getDefaultTransition()||N3,{onLayoutAnimationStart:I,onLayoutAnimationComplete:P}=g.getProps(),j=!this.targetLayout||!oI(this.targetLayout,A),U=!_&&S;if(this.options.layoutRoot||this.resumeFrom||U||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,U);const W={...V_(R,"layout"),onPlay:I,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else _||ZA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ea(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P3),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XA);return}this.isUpdating||this.nodes.forEach(R3),this.isUpdating=!1,this.nodes.forEach(C3),this.nodes.forEach(E3),this.nodes.forEach(S3),this.clearAllSnapshots();const h=us.now();ln.delta=rr(0,1e3/60,h-ln.timestamp),ln.timestamp=h,ln.isProcessing=!0,iv.update.process(ln),iv.preRender.process(ln),iv.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,b_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(x3),this.sharedNodes.forEach(V3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mn(this.snapshot.measuredBox.x)&&!Mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ce(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!aI(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&(h||To(this.latestValues)||g)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),k3(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return Ce();const f=h.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(L3))){const{scroll:g}=this.root;g&&(Wl(f.x,g.offset.x),Wl(f.y,g.offset.y))}return f}removeElementScroll(u){var h;const f=Ce();if(yi(f,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let d=0;d<this.path.length;d++){const g=this.path[d],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&yi(f,u),Wl(f.x,v.offset.x),Wl(f.y,v.offset.y))}return f}applyTransform(u,h=!1){const f=Ce();yi(f,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Xl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),To(g.latestValues)&&Xl(f,g.latestValues)}return To(this.latestValues)&&Xl(f,this.latestValues),f}removeTransform(u){const h=Ce();yi(h,u);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!To(d.latestValues))continue;n0(d.latestValues)&&d.updateSnapshot();const g=Ce(),v=d.measurePageBox();yi(g,v),HA(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return To(this.latestValues)&&HA(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=ln.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ce(),this.relativeTargetOrigin=Ce(),Sh(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ce(),this.targetWithTransforms=Ce()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),JD(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ce(),this.relativeTargetOrigin=Ce(),Sh(this.relativeTargetOrigin,this.target,S.target),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||n0(this.parent.latestValues)||ZD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let d=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(d=!1),d)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;yi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;BU(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Ce());const{target:A}=h;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(FA(this.prevProjectionDelta.x,this.projectionDelta.x),FA(this.prevProjectionDelta.y,this.projectionDelta.y)),Eh(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!YA(this.projectionDelta.x,this.prevProjectionDelta.x)||!YA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yl(),this.projectionDelta=Yl(),this.projectionDeltaWithTransform=Yl()}setAnimationOrigin(u,h=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},v=Yl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Ce(),S=f?f.source:void 0,A=this.layout?this.layout.source:void 0,R=S!==A,I=this.getStack(),P=!I||I.members.length<=1,j=!!(R&&!P&&this.options.crossfade===!0&&!this.path.some(O3));this.animationProgress=0;let U;this.mixTargetDelta=W=>{const z=W/1e3;JA(v.x,u.x,z),JA(v.y,u.y,z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sh(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M3(this.relativeTarget,this.relativeTargetOrigin,_,z),U&&y3(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Ce()),yi(U,this.relativeTarget)),R&&(this.animationValues=g,h3(g,d,this.latestValues,z,j,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ea(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{vm.hasAnimatedSinceResize=!0,this.currentAnimation=r3(0,WA,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:d,latestValues:g}=u;if(!(!h||!f||!d)){if(this!==u&&this.layout&&d&&cI(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||Ce();const v=Mn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const _=Mn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+_}yi(h,f),Xl(h,g),Eh(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new v3),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const d={};f.z&&hv("z",u,d,this.animationValues);for(let g=0;g<cv.length;g++)hv(`rotate${cv[g]}`,u,d,this.animationValues),hv(`skew${cv[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}getProjectionStyles(u){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return T3;const d={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=gm(u==null?void 0:u.pointerEvents)||"",d.transform=g?g(this.latestValues,""):"none",d;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=gm(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!To(this.latestValues)&&(R.transform=g?g({},""):"none",this.hasProjected=!1),R}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),d.transform=_3(this.projectionDeltaWithTransform,this.treeScale,_),g&&(d.transform=g(_,d.transform));const{x:S,y:A}=this.projectionDelta;d.transformOrigin=`${S.origin*100}% ${A.origin*100}% 0`,v.animationValues?d.opacity=v===this?(f=(h=_.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:d.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const R in Oh){if(_[R]===void 0)continue;const{correct:I,applyTo:P,isCSSVariable:j}=Oh[R],U=d.transform==="none"?_[R]:I(_[R],v);if(P){const W=P.length;for(let z=0;z<W;z++)d[P[z]]=U}else j?this.options.visualElement.renderState.vars[R]=U:d[R]=U}return this.options.layoutId&&(d.pointerEvents=v===this?gm(u==null?void 0:u.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(XA),this.root.sharedNodes.clear()}}}function E3(e){e.updateLayout()}function S3(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:o}=e.options,u=n.source!==e.layout.source;o==="size"?_i(v=>{const _=u?n.measuredBox[v]:n.layoutBox[v],S=Mn(_);_.min=i[v].min,_.max=_.min+S}):cI(o,n.layoutBox,i)&&_i(v=>{const _=u?n.measuredBox[v]:n.layoutBox[v],S=Mn(i[v]);_.max=_.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+S)});const h=Yl();Eh(h,i,n.layoutBox);const f=Yl();u?Eh(f,e.applyTransform(r,!0),n.measuredBox):Eh(f,i,n.layoutBox);const d=!aI(h);let g=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:S}=v;if(_&&S){const A=Ce();Sh(A,n.layoutBox,_.layoutBox);const R=Ce();Sh(R,i,S.layoutBox),oI(A,R)||(g=!0),v.options.layoutRoot&&(e.relativeTarget=R,e.relativeTargetOrigin=A,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:f,layoutDelta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function A3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function w3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function x3(e){e.clearSnapshot()}function XA(e){e.clearMeasurements()}function R3(e){e.isLayoutDirty=!1}function C3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ZA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function D3(e){e.resolveTargetDelta()}function I3(e){e.calcProjection()}function P3(e){e.resetSkewAndRotation()}function V3(e){e.removeLeadSnapshot()}function JA(e,t,n){e.translate=me(t.translate,0,n),e.scale=me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function tw(e,t,n,i){e.min=me(t.min,n.min,i),e.max=me(t.max,n.max,i)}function M3(e,t,n,i){tw(e.x,t.x,n.x,i),tw(e.y,t.y,n.y,i)}function O3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const N3={duration:.45,ease:[.4,0,.1,1]},ew=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nw=ew("applewebkit/")&&!ew("chrome/")?Math.round:Zn;function iw(e){e.min=nw(e.min),e.max=nw(e.max)}function k3(e){iw(e.x),iw(e.y)}function cI(e,t,n){return e==="position"||e==="preserve-aspect"&&!UU(QA(t),QA(n),.2)}function L3(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const U3=uI({attachResizeListener:(e,t)=>jh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fv={current:void 0},hI=uI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!fv.current){const e=new U3({});e.mount(window),e.setOptions({layoutScroll:!0}),fv.current=e}return fv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),j3={pan:{Feature:e3},drag:{Feature:t3,ProjectionNode:hI,MeasureLayout:iI}};function B3(e,t,n){var i;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function fI(e,t){const n=B3(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function sw(e){return!(e.pointerType==="touch"||QD())}function F3(e,t,n={}){const[i,r,o]=fI(e,n),u=h=>{if(!sw(h))return;const{target:f}=h,d=t(f,h);if(typeof d!="function"||!f)return;const g=v=>{sw(v)&&(d(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,r)};return i.forEach(h=>{h.addEventListener("pointerenter",u,r)}),o}function rw(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=i[r];o&&oe.postRender(()=>o(t,gf(t)))}let $3=class extends Va{mount(){const{current:t}=this.node;t&&(this.unmount=F3(t,(n,i)=>(rw(this.node,i,"Start"),r=>rw(this.node,r,"End"))))}unmount(){}},z3=class extends Va{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pf(jh(this.node.current,"focus",()=>this.onFocus()),jh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const dI=(e,t)=>t?e===t?!0:dI(e,t.parentElement):!1,H3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function q3(e){return H3.has(e.tagName)||e.tabIndex!==-1}const hh=new WeakSet;function aw(e){return t=>{t.key==="Enter"&&e(t)}}function dv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const G3=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=aw(()=>{if(hh.has(n))return;dv(n,"down");const r=aw(()=>{dv(n,"up")}),o=()=>dv(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function ow(e){return Q_(e)&&!QD()}function K3(e,t,n={}){const[i,r,o]=fI(e,n),u=h=>{const f=h.currentTarget;if(!f||!ow(h)||hh.has(f))return;if(hh.add(f),f.setPointerCapture&&h.pointerId!==void 0)try{f.setPointerCapture(h.pointerId)}catch{}const d=t(f,h),g=(S,A)=>{if(f.removeEventListener("pointerup",v),f.removeEventListener("pointercancel",_),f.releasePointerCapture&&S.pointerId!==void 0)try{f.releasePointerCapture(S.pointerId)}catch{}!ow(S)||!hh.has(f)||(hh.delete(f),typeof d=="function"&&d(S,{success:A}))},v=S=>{(S.isTrusted?Q3(S,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(S,!1):g(S,!(f instanceof Element)||dI(f,S.target))},_=S=>{g(S,!1)};f.addEventListener("pointerup",v,r),f.addEventListener("pointercancel",_,r),f.addEventListener("lostpointercapture",_,r)};return i.forEach(h=>{h=n.useGlobalTarget?window:h;let f=!1;h instanceof HTMLElement&&(f=!0,!q3(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",u,r),f&&h.addEventListener("focus",d=>G3(d,r),r)}),o}function Q3(e,t){return e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom}function lw(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=i[r];o&&oe.postRender(()=>o(t,gf(t)))}let Y3=class extends Va{mount(){const{current:t}=this.node;t&&(this.unmount=K3(t,(n,i)=>(lw(this.node,i,"Start"),(r,{success:o})=>lw(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const r0=new WeakMap,mv=new WeakMap,W3=e=>{const t=r0.get(e.target);t&&t(e)},X3=e=>{e.forEach(W3)};function Z3({root:e,...t}){const n=e||document;mv.has(n)||mv.set(n,{});const i=mv.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(X3,{root:e,...t})),i[r]}function J3(e,t,n){const i=Z3(t);return r0.set(e,n),i.observe(e),()=>{r0.delete(e),i.unobserve(e)}}const tj={some:0,all:1};let ej=class extends Va{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:tj[r]},h=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=d?g:v;_&&_(f)};return J3(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(nj(t,n))&&this.startObserver()}unmount(){}};function nj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ij={inView:{Feature:ej},tap:{Feature:Y3},focus:{Feature:z3},hover:{Feature:$3}},sj={layout:{ProjectionNode:hI,MeasureLayout:iI}},a0={current:null},mI={current:!1};function rj(){if(mI.current=!0,!!y_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>a0.current=e.matches;e.addListener(t),t()}else a0.current=!1}const aj=[...ND,vn,Sa],oj=e=>aj.find(OD(e)),lj=new WeakMap;function uj(e,t,n){for(const i in t){const r=t[i],o=n[i];if(En(r))e.addValue(i,r);else if(En(o))e.addValue(i,Lh(r,{owner:e}));else if(o!==r)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(r):u.hasAnimated||u.set(r)}else{const u=e.getStaticValue(i);e.addValue(i,Lh(u!==void 0?u:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const uw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let cj=class{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=H_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=us.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,oe.render(this.render,!1,!0))};const{latestValues:f,renderState:d,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Tp(n),this.isVariantNode=QC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in _){const A=_[S];f[S]!==void 0&&En(A)&&A.set(f[S],!1)}}mount(t){this.current=t,lj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),mI.current||rj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:a0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ea(this.notifyUpdate),Ea(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Go.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&oe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Au){const n=Au[t];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ce()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<uw.length;i++){const r=uw[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,u=t[o];u&&(this.propEventSubscriptions[r]=this.on(r,u))}this.prevMotionValues=uj(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Lh(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){var i;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(VD(r)||SD(r))?r=parseFloat(r):!oj(r)&&Sa.test(n)&&(r=DD(t,n)),this.setBaseTarget(t,En(r)?r.get():r)),En(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=I_(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!En(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new N_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}},pI=class extends cj{constructor(){super(...arguments),this.KeyframeResolver=kD}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function hj(e){return window.getComputedStyle(e)}let fj=class extends pI{constructor(){super(...arguments),this.type="html",this.renderInstance=rD}readValueFromInstance(t,n){if(Go.has(n)){const i=z_(n);return i&&i.default||0}else{const i=hj(t),r=(E_(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return tI(t,n)}build(t,n,i){w_(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return P_(t,n,i)}},dj=class extends pI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ce,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&sD(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Go.has(n)){const i=z_(n);return i&&i.default||0}return n=aD.has(n)?n:T_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return lD(t,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&oe.postRender(this.updateDimensions)}build(t,n,i){C_(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,r){oD(t,n,i,r)}mount(t){this.isSVGTag=D_(t.tagName),super.mount(t)}};const mj=(e,t)=>R_(e)?new dj(t):new fj(t,{allowProjection:e!==O.Fragment}),pj=UL({...DU,...ij,...j3,...sj},mj),pv=tL(pj),gI=O.createContext({});function gj(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const Y_=O.createContext(null),yI=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function yj(e=!0){const t=O.useContext(Y_);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,o=O.useId();O.useEffect(()=>{e&&r(o)},[e]);const u=O.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,u]:[!0]}const W_=typeof window<"u",vj=W_?O.useLayoutEffect:O.useEffect,Jn=e=>e;let vI=Jn;function X_(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ru=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i},tr=e=>e*1e3,er=e=>e/1e3,_j={useManualTiming:!1},sm=["read","resolveKeyframes","update","preRender","render","postRender"],cw={value:null};function Tj(e,t){let n=new Set,i=new Set,r=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function d(v){u.has(v)&&(g.schedule(v),e()),f++,v(h)}const g={schedule:(v,_=!1,S=!1)=>{const R=S&&r?n:i;return _&&u.add(v),R.has(v)||R.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(h=v,r){o=!0;return}r=!0,[n,i]=[i,n],n.forEach(d),t&&cw.value&&cw.value.frameloop[t].push(f),f=0,n.clear(),r=!1,o&&(o=!1,g.process(v))}};return g}const bj=40;function _I(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=sm.reduce((P,j)=>(P[j]=Tj(o,t?j:void 0),P),{}),{read:h,resolveKeyframes:f,update:d,preRender:g,render:v,postRender:_}=u,S=()=>{const P=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(P-r.timestamp,bj),1),r.timestamp=P,r.isProcessing=!0,h.process(r),f.process(r),d.process(r),g.process(r),v.process(r),_.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(S))},A=()=>{n=!0,i=!0,r.isProcessing||e(S)};return{schedule:sm.reduce((P,j)=>{const U=u[j];return P[j]=(W,z=!1,tt=!1)=>(n||A(),U.schedule(W,z,tt)),P},{}),cancel:P=>{for(let j=0;j<sm.length;j++)u[sm[j]].cancel(P)},state:r,steps:u}}const{schedule:le,cancel:Aa,state:un,steps:gv}=_I(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0),TI=O.createContext({strict:!1}),hw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cu={};for(const e in hw)Cu[e]={isEnabled:t=>hw[e].some(n=>!!t[n])};function Ej(e){for(const t in e)Cu[t]={...Cu[t],...e[t]}}const Sj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Sj.has(e)}let bI=e=>!Fm(e);function Aj(e){e&&(bI=t=>t.startsWith("on")?!Fm(t):e(t))}try{Aj(require("@emotion/is-prop-valid").default)}catch{}function wj(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(bI(r)||n===!0&&Fm(r)||!t&&!Fm(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}function xj(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Ep=O.createContext({});function Sp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bh(e){return typeof e=="string"||Array.isArray(e)}const Z_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],J_=["initial",...Z_];function Ap(e){return Sp(e.animate)||J_.some(t=>Bh(e[t]))}function EI(e){return!!(Ap(e)||e.variants)}function Rj(e,t){if(Ap(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Bh(n)?n:void 0,animate:Bh(i)?i:void 0}}return e.inherit!==!1?t:{}}function Cj(e){const{initial:t,animate:n}=Rj(e,O.useContext(Ep));return O.useMemo(()=>({initial:t,animate:n}),[fw(t),fw(n)])}function fw(e){return Array.isArray(e)?e.join(" "):e}const Dj=Symbol.for("motionComponentSymbol");function Zl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ij(e,t,n){return O.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Zl(n)&&(n.current=i))},[t])}const tT=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Pj="framerAppearId",SI="data-"+tT(Pj),{schedule:eT}=_I(queueMicrotask,!1),AI=O.createContext({});function Vj(e,t,n,i,r){var o,u;const{visualElement:h}=O.useContext(Ep),f=O.useContext(TI),d=O.useContext(Y_),g=O.useContext(yI).reducedMotion,v=O.useRef(null);i=i||f.renderer,!v.current&&i&&(v.current=i(e,{visualState:t,parent:h,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:g}));const _=v.current,S=O.useContext(AI);_&&!_.projection&&r&&(_.type==="html"||_.type==="svg")&&Mj(v.current,n,r,S);const A=O.useRef(!1);O.useInsertionEffect(()=>{_&&A.current&&_.update(n,d)});const R=n[SI],I=O.useRef(!!R&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,R))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,R)));return vj(()=>{_&&(A.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),eT.render(_.render),I.current&&_.animationState&&_.animationState.animateChanges())}),O.useEffect(()=>{_&&(!I.current&&_.animationState&&_.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,R)}),I.current=!1))}),_}function Mj(e,t,n,i){const{layoutId:r,layout:o,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:wI(e.parent)),e.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!u||h&&Zl(h),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:d})}function wI(e){if(e)return e.options.allowProjection!==!1?e.projection:wI(e.parent)}function Oj({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:r}){var o,u;e&&Ej(e);function h(d,g){let v;const _={...O.useContext(yI),...d,layoutId:Nj(d)},{isStatic:S}=_,A=Cj(d),R=i(d,S);if(!S&&W_){kj();const I=Lj(_);v=I.MeasureLayout,A.visualElement=Vj(r,R,_,t,I.ProjectionNode)}return N.jsxs(Ep.Provider,{value:A,children:[v&&A.visualElement?N.jsx(v,{visualElement:A.visualElement,..._}):null,n(r,d,Ij(R,A.visualElement,g),R,S,A.visualElement)]})}h.displayName=`motion.${typeof r=="string"?r:`create(${(u=(o=r.displayName)!==null&&o!==void 0?o:r.name)!==null&&u!==void 0?u:""})`}`;const f=O.forwardRef(h);return f[Dj]=r,f}function Nj({layoutId:e}){const t=O.useContext(gI).id;return t&&e!==void 0?t+"-"+e:e}function kj(e,t){O.useContext(TI).strict}function Lj(e){const{drag:t,layout:n}=Cu;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const xI=e=>t=>typeof t=="string"&&t.startsWith(e),nT=xI("--"),Uj=xI("var(--"),iT=e=>Uj(e)?jj.test(e.split("/*")[0].trim()):!1,jj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fh={};function Bj(e){for(const t in e)Fh[t]=e[t],nT(t)&&(Fh[t].isCSSVariable=!0)}const $u=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ko=new Set($u);function RI(e,{layout:t,layoutId:n}){return Ko.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Fh[e]||e==="opacity")}const Sn=e=>!!(e&&e.getVelocity),CI=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ar=(e,t,n)=>n>t?t:n<e?e:n,zu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$h={...zu,transform:e=>ar(0,1,e)},rm={...zu,default:1},yf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Jr=yf("deg"),cs=yf("%"),At=yf("px"),Fj=yf("vh"),$j=yf("vw"),dw={...cs,parse:e=>cs.parse(e)/100,transform:e=>cs.transform(e*100)},zj={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At},Hj={rotate:Jr,rotateX:Jr,rotateY:Jr,rotateZ:Jr,scale:rm,scaleX:rm,scaleY:rm,scaleZ:rm,skew:Jr,skewX:Jr,skewY:Jr,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:$h,originX:dw,originY:dw,originZ:At},mw={...zu,transform:Math.round},sT={...zj,...Hj,zIndex:mw,size:At,fillOpacity:$h,strokeOpacity:$h,numOctaves:mw},qj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gj=$u.length;function Kj(e,t,n){let i="",r=!0;for(let o=0;o<Gj;o++){const u=$u[o],h=e[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const d=CI(h,sT[u]);if(!f){r=!1;const g=qj[u]||u;i+=`${g}(${d}) `}n&&(t[u]=d)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}function rT(e,t,n){const{style:i,vars:r,transformOrigin:o}=e;let u=!1,h=!1;for(const f in t){const d=t[f];if(Ko.has(f)){u=!0;continue}else if(nT(f)){r[f]=d;continue}else{const g=CI(d,sT[f]);f.startsWith("origin")?(h=!0,o[f]=g):i[f]=g}}if(t.transform||(u||n?i.transform=Kj(t,e.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:d="50%",originZ:g=0}=o;i.transformOrigin=`${f} ${d} ${g}`}}const aT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DI(e,t,n){for(const i in t)!Sn(t[i])&&!RI(i,n)&&(e[i]=t[i])}function Qj({transformTemplate:e},t){return O.useMemo(()=>{const n=aT();return rT(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Yj(e,t){const n=e.style||{},i={};return DI(i,n,e),Object.assign(i,Qj(e,t)),i}function Wj(e,t){const n={},i=Yj(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const Xj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oT(e){return typeof e!="string"||e.includes("-")?!1:!!(Xj.indexOf(e)>-1||/[A-Z]/u.test(e))}const Zj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Jj={offset:"strokeDashoffset",array:"strokeDasharray"};function t6(e,t,n=1,i=0,r=!0){e.pathLength=1;const o=r?Zj:Jj;e[o.offset]=At.transform(-i);const u=At.transform(t),h=At.transform(n);e[o.array]=`${u} ${h}`}function pw(e,t,n){return typeof e=="string"?e:At.transform(t+n*e)}function e6(e,t,n){const i=pw(t,e.x,e.width),r=pw(n,e.y,e.height);return`${i} ${r}`}function lT(e,{attrX:t,attrY:n,attrScale:i,originX:r,originY:o,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...d},g,v){if(rT(e,d,v),g){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:S,dimensions:A}=e;_.transform&&(A&&(S.transform=_.transform),delete _.transform),A&&(r!==void 0||o!==void 0||S.transform)&&(S.transformOrigin=e6(A,r!==void 0?r:.5,o!==void 0?o:.5)),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),u!==void 0&&t6(_,u,h,f,!1)}const II=()=>({...aT(),attrs:{}}),uT=e=>typeof e=="string"&&e.toLowerCase()==="svg";function n6(e,t,n,i){const r=O.useMemo(()=>{const o=II();return lT(o,t,uT(i),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};DI(o,e.style,e),r.style={...o,...r.style}}return r}function i6(e=!1){return(n,i,r,{latestValues:o},u)=>{const f=(oT(n)?n6:Wj)(i,o,u,n),d=wj(i,typeof n=="string",e),g=n!==O.Fragment?{...d,...f,ref:r}:{},{children:v}=i,_=O.useMemo(()=>Sn(v)?v.get():v,[v]);return O.createElement(n,{...g,children:_})}}function gw(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function cT(e,t,n,i){if(typeof t=="function"){const[r,o]=gw(i);t=t(n!==void 0?n:e.custom,r,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,o]=gw(i);t=t(n!==void 0?n:e.custom,r,o)}return t}const o0=e=>Array.isArray(e),s6=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),r6=e=>o0(e)?e[e.length-1]||0:e;function _m(e){const t=Sn(e)?e.get():e;return s6(t)?t.toValue():t}function a6({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,r,o){const u={latestValues:o6(i,r,o,e),renderState:t()};return n&&(u.onMount=h=>n({props:i,current:h,...u}),u.onUpdate=h=>n(h)),u}const PI=e=>(t,n)=>{const i=O.useContext(Ep),r=O.useContext(Y_),o=()=>a6(e,t,i,r);return n?o():gj(o)};function o6(e,t,n,i){const r={},o=i(e,{});for(const _ in o)r[_]=_m(o[_]);let{initial:u,animate:h}=e;const f=Ap(e),d=EI(e);t&&d&&!f&&e.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!Sp(v)){const _=Array.isArray(v)?v:[v];for(let S=0;S<_.length;S++){const A=cT(e,_[S]);if(A){const{transitionEnd:R,transition:I,...P}=A;for(const j in P){let U=P[j];if(Array.isArray(U)){const W=g?U.length-1:0;U=U[W]}U!==null&&(r[j]=U)}for(const j in R)r[j]=R[j]}}}return r}function hT(e,t,n){var i;const{style:r}=e,o={};for(const u in r)(Sn(r[u])||t.style&&Sn(t.style[u])||RI(u,e)||((i=n==null?void 0:n.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[u]=r[u]);return o}const l6={useVisualState:PI({scrapeMotionValuesFromProps:hT,createRenderState:aT})};function VI(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function MI(e,{style:t,vars:n},i,r){Object.assign(e.style,t,r&&r.getProjectionStyles(i));for(const o in n)e.style.setProperty(o,n[o])}const OI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NI(e,t,n,i){MI(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(OI.has(r)?r:tT(r),t.attrs[r])}function kI(e,t,n){const i=hT(e,t,n);for(const r in e)if(Sn(e[r])||Sn(t[r])){const o=$u.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=e[r]}return i}const yw=["x","y","width","height","cx","cy","r"],u6={useVisualState:PI({scrapeMotionValuesFromProps:kI,createRenderState:II,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:r})=>{if(!n)return;let o=!!e.drag;if(!o){for(const h in r)if(Ko.has(h)){o=!0;break}}if(!o)return;let u=!t;if(t)for(let h=0;h<yw.length;h++){const f=yw[h];e[f]!==t[f]&&(u=!0)}u&&le.read(()=>{VI(n,i),le.render(()=>{lT(i,r,uT(n.tagName),e.transformTemplate),NI(n,i)})})}})};function c6(e,t){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const u={...oT(i)?u6:l6,preloadedFeatures:e,useRender:i6(r),createVisualElement:t,Component:i};return Oj(u)}}function zh(e,t,n){const i=e.getProps();return cT(i,t,n!==void 0?n:i.custom,e)}const h6=X_(()=>window.ScrollTimeline!==void 0);class f6{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(r=>{if(h6()&&r.attachTimeline)return r.attachTimeline(t);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class d6 extends f6{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function fT(e,t){return e?e[t]||e.default||e:void 0}const l0=2e4;function LI(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<l0;)t+=n,i=e.next(t);return t>=l0?1/0:t}function dT(e){return typeof e=="function"}function vw(e,t){e.timeline=t,e.onfinish=null}const mT=e=>Array.isArray(e)&&typeof e[0]=="number",m6={linearEasing:void 0};function p6(e,t){const n=X_(e);return()=>{var i;return(i=m6[t])!==null&&i!==void 0?i:n()}}const $m=p6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),UI=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let o=0;o<r;o++)i+=e(Ru(0,r-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function jI(e){return!!(typeof e=="function"&&$m()||!e||typeof e=="string"&&(e in u0||$m())||mT(e)||Array.isArray(e)&&e.every(jI))}const fh=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,u0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fh([0,.65,.55,1]),circOut:fh([.55,0,1,.45]),backIn:fh([.31,.01,.66,-.59]),backOut:fh([.33,1.53,.69,.99])};function BI(e,t){if(e)return typeof e=="function"&&$m()?UI(e,t):mT(e)?fh(e):Array.isArray(e)?e.map(n=>BI(n,t)||u0.easeOut):u0[e]}const Vi={x:!1,y:!1};function FI(){return Vi.x||Vi.y}function g6(e,t,n){var i;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function $I(e,t){const n=g6(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function _w(e){return!(e.pointerType==="touch"||FI())}function y6(e,t,n={}){const[i,r,o]=$I(e,n),u=h=>{if(!_w(h))return;const{target:f}=h,d=t(f,h);if(typeof d!="function"||!f)return;const g=v=>{_w(v)&&(d(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,r)};return i.forEach(h=>{h.addEventListener("pointerenter",u,r)}),o}const zI=(e,t)=>t?e===t?!0:zI(e,t.parentElement):!1,pT=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,v6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _6(e){return v6.has(e.tagName)||e.tabIndex!==-1}const dh=new WeakSet;function Tw(e){return t=>{t.key==="Enter"&&e(t)}}function yv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const T6=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Tw(()=>{if(dh.has(n))return;yv(n,"down");const r=Tw(()=>{yv(n,"up")}),o=()=>yv(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function bw(e){return pT(e)&&!FI()}function b6(e,t,n={}){const[i,r,o]=$I(e,n),u=h=>{const f=h.currentTarget;if(!f||!bw(h)||dh.has(f))return;if(dh.add(f),f.setPointerCapture&&h.pointerId!==void 0)try{f.setPointerCapture(h.pointerId)}catch{}const d=t(f,h),g=(S,A)=>{if(f.removeEventListener("pointerup",v),f.removeEventListener("pointercancel",_),f.releasePointerCapture&&S.pointerId!==void 0)try{f.releasePointerCapture(S.pointerId)}catch{}!bw(S)||!dh.has(f)||(dh.delete(f),typeof d=="function"&&d(S,{success:A}))},v=S=>{(S.isTrusted?E6(S,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(S,!1):g(S,!(f instanceof Element)||zI(f,S.target))},_=S=>{g(S,!1)};f.addEventListener("pointerup",v,r),f.addEventListener("pointercancel",_,r),f.addEventListener("lostpointercapture",_,r)};return i.forEach(h=>{h=n.useGlobalTarget?window:h;let f=!1;h instanceof HTMLElement&&(f=!0,!_6(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",u,r),f&&h.addEventListener("focus",d=>T6(d,r),r)}),o}function E6(e,t){return e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom}function S6(e){return e==="x"||e==="y"?Vi[e]?null:(Vi[e]=!0,()=>{Vi[e]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}const HI=new Set(["width","height","top","left","right","bottom",...$u]);let Tm;function A6(){Tm=void 0}const hs={now:()=>(Tm===void 0&&hs.set(un.isProcessing||_j.useManualTiming?un.timestamp:performance.now()),Tm),set:e=>{Tm=e,queueMicrotask(A6)}};function gT(e,t){e.indexOf(t)===-1&&e.push(t)}function yT(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class vT{constructor(){this.subscriptions=[]}add(t){return gT(this.subscriptions,t),()=>yT(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let o=0;o<r;o++){const u=this.subscriptions[o];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function qI(e,t){return t?e*(1e3/t):0}const Ew=30,w6=e=>!isNaN(parseFloat(e));class x6{constructor(t,n={}){this.version="12.4.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const o=hs.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=hs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=w6(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vT);const i=this.events[t].add(n);return t==="change"?()=>{i(),le.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ew)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ew);return qI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hh(e,t){return new x6(e,t)}function R6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Hh(n))}function C6(e,t){const n=zh(e,t);let{transitionEnd:i={},transition:r={},...o}=n||{};o={...o,...i};for(const u in o){const h=r6(o[u]);R6(e,u,h)}}function D6(e){return!!(Sn(e)&&e.add)}function c0(e,t){const n=e.getValue("willChange");if(D6(n))return n.add(t)}function GI(e){return e.props[SI]}const KI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,I6=1e-7,P6=12;function V6(e,t,n,i,r){let o,u,h=0;do u=t+(n-t)/2,o=KI(u,i,r)-e,o>0?n=u:t=u;while(Math.abs(o)>I6&&++h<P6);return u}function vf(e,t,n,i){if(e===t&&n===i)return Jn;const r=o=>V6(o,0,1,e,n);return o=>o===0||o===1?o:KI(r(o),t,i)}const QI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,YI=e=>t=>1-e(1-t),WI=vf(.33,1.53,.69,.99),_T=YI(WI),XI=QI(_T),ZI=e=>(e*=2)<1?.5*_T(e):.5*(2-Math.pow(2,-10*(e-1))),TT=e=>1-Math.sin(Math.acos(e)),JI=YI(TT),tP=QI(TT),eP=e=>/^0[^.\s]+$/u.test(e);function M6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||eP(e):!0}const Ah=e=>Math.round(e*1e5)/1e5,bT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O6(e){return e==null}const N6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ET=(e,t)=>n=>!!(typeof n=="string"&&N6.test(n)&&n.startsWith(e)||t&&!O6(n)&&Object.prototype.hasOwnProperty.call(n,t)),nP=(e,t,n)=>i=>{if(typeof i!="string")return i;const[r,o,u,h]=i.match(bT);return{[e]:parseFloat(r),[t]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},k6=e=>ar(0,255,e),vv={...zu,transform:e=>Math.round(k6(e))},Ao={test:ET("rgb","red"),parse:nP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+vv.transform(e)+", "+vv.transform(t)+", "+vv.transform(n)+", "+Ah($h.transform(i))+")"};function L6(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const h0={test:ET("#"),parse:L6,transform:Ao.transform},Jl={test:ET("hsl","hue"),parse:nP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+cs.transform(Ah(t))+", "+cs.transform(Ah(n))+", "+Ah($h.transform(i))+")"},_n={test:e=>Ao.test(e)||h0.test(e)||Jl.test(e),parse:e=>Ao.test(e)?Ao.parse(e):Jl.test(e)?Jl.parse(e):h0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ao.transform(e):Jl.transform(e)},U6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function j6(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(bT))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(U6))===null||n===void 0?void 0:n.length)||0)>0}const iP="number",sP="color",B6="var",F6="var(",Sw="${}",$6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qh(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const h=t.replace($6,f=>(_n.test(f)?(i.color.push(o),r.push(sP),n.push(_n.parse(f))):f.startsWith(F6)?(i.var.push(o),r.push(B6),n.push(f)):(i.number.push(o),r.push(iP),n.push(parseFloat(f))),++o,Sw)).split(Sw);return{values:n,split:h,indexes:i,types:r}}function rP(e){return qh(e).values}function aP(e){const{split:t,types:n}=qh(e),i=t.length;return r=>{let o="";for(let u=0;u<i;u++)if(o+=t[u],r[u]!==void 0){const h=n[u];h===iP?o+=Ah(r[u]):h===sP?o+=_n.transform(r[u]):o+=r[u]}return o}}const z6=e=>typeof e=="number"?0:e;function H6(e){const t=rP(e);return aP(e)(t.map(z6))}const wa={test:j6,parse:rP,createTransformer:aP,getAnimatableNone:H6},q6=new Set(["brightness","contrast","saturate","opacity"]);function G6(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(bT)||[];if(!i)return e;const r=n.replace(i,"");let o=q6.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+r+")"}const K6=/\b([a-z-]*)\(.*?\)/gu,f0={...wa,getAnimatableNone:e=>{const t=e.match(K6);return t?t.map(G6).join(" "):e}},Q6={...sT,color:_n,backgroundColor:_n,outlineColor:_n,fill:_n,stroke:_n,borderColor:_n,borderTopColor:_n,borderRightColor:_n,borderBottomColor:_n,borderLeftColor:_n,filter:f0,WebkitFilter:f0},ST=e=>Q6[e];function oP(e,t){let n=ST(e);return n!==f0&&(n=wa),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Y6=new Set(["auto","none","0"]);function W6(e,t,n){let i=0,r;for(;i<e.length&&!r;){const o=e[i];typeof o=="string"&&!Y6.has(o)&&qh(o).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=oP(n,r)}const Aw=e=>e===zu||e===At,ww=(e,t)=>parseFloat(e.split(", ")[t]),xw=(e,t)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return ww(r[1],t);{const o=i.match(/^matrix\((.+)\)$/u);return o?ww(o[1],e):0}},X6=new Set(["x","y","z"]),Z6=$u.filter(e=>!X6.has(e));function J6(e){const t=[];return Z6.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Du={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:xw(4,13),y:xw(5,14)};Du.translateX=Du.x;Du.translateY=Du.y;const ko=new Set;let d0=!1,m0=!1;function lP(){if(m0){const e=Array.from(ko).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const r=J6(i);r.length&&(n.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([o,u])=>{var h;(h=i.getValue(o))===null||h===void 0||h.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}m0=!1,d0=!1,ko.forEach(e=>e.complete()),ko.clear()}function uP(){ko.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(m0=!0)})}function t5(){uP(),lP()}class AT{constructor(t,n,i,r,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=r,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ko.add(this),d0||(d0=!0,le.read(uP),le.resolveKeyframes(lP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:r}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const u=r==null?void 0:r.get(),h=t[t.length-1];if(u!==void 0)t[0]=u;else if(i&&n){const f=i.readValue(n,h);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=h),r&&u===void 0&&r.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ko.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ko.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const cP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),e5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function n5(e){const t=e5.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}function hP(e,t,n=1){const[i,r]=n5(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const u=o.trim();return cP(u)?parseFloat(u):u}return iT(r)?hP(r,t,n+1):r}const fP=e=>t=>t.test(e),i5={test:e=>e==="auto",parse:e=>e},dP=[zu,At,cs,Jr,$j,Fj,i5],Rw=e=>dP.find(fP(e));class mP extends AT{constructor(t,n,i,r,o){super(t,n,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let d=t[f];if(typeof d=="string"&&(d=d.trim(),iT(d))){const g=hP(d,n.current);g!==void 0&&(t[f]=g),f===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!HI.has(i)||t.length!==2)return;const[r,o]=t,u=Rw(r),h=Rw(o);if(u!==h)if(Aw(u)&&Aw(h))for(let f=0;f<t.length;f++){const d=t[f];typeof d=="string"&&(t[f]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let r=0;r<t.length;r++)M6(t[r])&&i.push(r);i.length&&W6(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Du[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){var t;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const o=n.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,h=r[u];r[u]=Du[i](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([f,d])=>{n.getValue(f).set(d)}),this.resolveNoneKeyframes()}}const Cw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(wa.test(e)||e==="0")&&!e.startsWith("url("));function s5(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function r5(e,t,n,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],u=Cw(r,t),h=Cw(o,t);return!u||!h?!1:s5(e)||(n==="spring"||dT(n))&&i}const a5=e=>e!==null;function wp(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(a5),o=t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const o5=40;class pP{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hs.now(),this.options={autoplay:t,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>o5?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&t5(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=hs.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:o,delay:u,onComplete:h,onUpdate:f,isGenerator:d}=this.options;if(!d&&!r5(t,i,r,o))if(u)this.options.duration=0;else{f&&f(wp(t,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(t,n);g!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const pe=(e,t,n)=>e+(t-e)*n;function _v(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function l5({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,o=0,u=0;if(!t)r=o=u=n;else{const h=n<.5?n*(1+t):n+t-n*t,f=2*n-h;r=_v(f,h,e+1/3),o=_v(f,h,e),u=_v(f,h,e-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function zm(e,t){return n=>n>0?t:e}const Tv=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},u5=[h0,Ao,Jl],c5=e=>u5.find(t=>t.test(e));function Dw(e){const t=c5(e);if(!t)return!1;let n=t.parse(e);return t===Jl&&(n=l5(n)),n}const Iw=(e,t)=>{const n=Dw(e),i=Dw(t);if(!n||!i)return zm(e,t);const r={...n};return o=>(r.red=Tv(n.red,i.red,o),r.green=Tv(n.green,i.green,o),r.blue=Tv(n.blue,i.blue,o),r.alpha=pe(n.alpha,i.alpha,o),Ao.transform(r))},h5=(e,t)=>n=>t(e(n)),_f=(...e)=>e.reduce(h5),p0=new Set(["none","hidden"]);function f5(e,t){return p0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function d5(e,t){return n=>pe(e,t,n)}function wT(e){return typeof e=="number"?d5:typeof e=="string"?iT(e)?zm:_n.test(e)?Iw:g5:Array.isArray(e)?gP:typeof e=="object"?_n.test(e)?Iw:m5:zm}function gP(e,t){const n=[...e],i=n.length,r=e.map((o,u)=>wT(o)(o,t[u]));return o=>{for(let u=0;u<i;u++)n[u]=r[u](o);return n}}function m5(e,t){const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=wT(e[r])(e[r],t[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}}function p5(e,t){var n;const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],h=e.indexes[u][r[u]],f=(n=e.values[h])!==null&&n!==void 0?n:0;i[o]=f,r[u]++}return i}const g5=(e,t)=>{const n=wa.createTransformer(t),i=qh(e),r=qh(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?p0.has(e)&&!r.values.length||p0.has(t)&&!i.values.length?f5(e,t):_f(gP(p5(i,r),r.values),n):zm(e,t)};function yP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?pe(e,t,n):wT(e)(e,t)}const y5=5;function vP(e,t,n){const i=Math.max(t-y5,0);return qI(n-e(i),t-i)}const we={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pw=.001;function v5({duration:e=we.duration,bounce:t=we.bounce,velocity:n=we.velocity,mass:i=we.mass}){let r,o,u=1-t;u=ar(we.minDamping,we.maxDamping,u),e=ar(we.minDuration,we.maxDuration,er(e)),u<1?(r=d=>{const g=d*u,v=g*e,_=g-n,S=g0(d,u),A=Math.exp(-v);return Pw-_/S*A},o=d=>{const v=d*u*e,_=v*n+n,S=Math.pow(u,2)*Math.pow(d,2)*e,A=Math.exp(-v),R=g0(Math.pow(d,2),u);return(-r(d)+Pw>0?-1:1)*((_-S)*A)/R}):(r=d=>{const g=Math.exp(-d*e),v=(d-n)*e+1;return-.001+g*v},o=d=>{const g=Math.exp(-d*e),v=(n-d)*(e*e);return g*v});const h=5/e,f=T5(r,o,h);if(e=tr(e),isNaN(f))return{stiffness:we.stiffness,damping:we.damping,duration:e};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:u*2*Math.sqrt(i*d),duration:e}}}const _5=12;function T5(e,t,n){let i=n;for(let r=1;r<_5;r++)i=i-e(i)/t(i);return i}function g0(e,t){return e*Math.sqrt(1-t*t)}const b5=["duration","bounce"],E5=["stiffness","damping","mass"];function Vw(e,t){return t.some(n=>e[n]!==void 0)}function S5(e){let t={velocity:we.velocity,stiffness:we.stiffness,damping:we.damping,mass:we.mass,isResolvedFromDuration:!1,...e};if(!Vw(e,E5)&&Vw(e,b5))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,o=2*ar(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:we.mass,stiffness:r,damping:o}}else{const n=v5(e);t={...t,...n,mass:we.mass},t.isResolvedFromDuration=!0}return t}function _P(e=we.visualDuration,t=we.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:f,damping:d,mass:g,duration:v,velocity:_,isResolvedFromDuration:S}=S5({...n,velocity:-er(n.velocity||0)}),A=_||0,R=d/(2*Math.sqrt(f*g)),I=u-o,P=er(Math.sqrt(f/g)),j=Math.abs(I)<5;i||(i=j?we.restSpeed.granular:we.restSpeed.default),r||(r=j?we.restDelta.granular:we.restDelta.default);let U;if(R<1){const z=g0(P,R);U=tt=>{const M=Math.exp(-R*P*tt);return u-M*((A+R*P*I)/z*Math.sin(z*tt)+I*Math.cos(z*tt))}}else if(R===1)U=z=>u-Math.exp(-P*z)*(I+(A+P*I)*z);else{const z=P*Math.sqrt(R*R-1);U=tt=>{const M=Math.exp(-R*P*tt),w=Math.min(z*tt,300);return u-M*((A+R*P*I)*Math.sinh(w)+z*I*Math.cosh(w))/z}}const W={calculatedDuration:S&&v||null,next:z=>{const tt=U(z);if(S)h.done=z>=v;else{let M=0;R<1&&(M=z===0?tr(A):vP(U,z,tt));const w=Math.abs(M)<=i,x=Math.abs(u-tt)<=r;h.done=w&&x}return h.value=h.done?u:tt,h},toString:()=>{const z=Math.min(LI(W),l0),tt=UI(M=>W.next(z*M).value,z,30);return z+"ms "+tt}};return W}function Mw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:f,restDelta:d=.5,restSpeed:g}){const v=e[0],_={done:!1,value:v},S=w=>h!==void 0&&w<h||f!==void 0&&w>f,A=w=>h===void 0?f:f===void 0||Math.abs(h-w)<Math.abs(f-w)?h:f;let R=n*t;const I=v+R,P=u===void 0?I:u(I);P!==I&&(R=P-v);const j=w=>-R*Math.exp(-w/i),U=w=>P+j(w),W=w=>{const x=j(w),V=U(w);_.done=Math.abs(x)<=d,_.value=_.done?P:V};let z,tt;const M=w=>{S(_.value)&&(z=w,tt=_P({keyframes:[_.value,A(_.value)],velocity:vP(U,w,_.value),damping:r,stiffness:o,restDelta:d,restSpeed:g}))};return M(0),{calculatedDuration:null,next:w=>{let x=!1;return!tt&&z===void 0&&(x=!0,W(w),M(w)),z!==void 0&&w>=z?tt.next(w-z):(!x&&W(w),_)}}}const A5=vf(.42,0,1,1),w5=vf(0,0,.58,1),TP=vf(.42,0,.58,1),x5=e=>Array.isArray(e)&&typeof e[0]!="number",R5={linear:Jn,easeIn:A5,easeInOut:TP,easeOut:w5,circIn:TT,circInOut:tP,circOut:JI,backIn:_T,backInOut:XI,backOut:WI,anticipate:ZI},Ow=e=>{if(mT(e)){vI(e.length===4);const[t,n,i,r]=e;return vf(t,n,i,r)}else if(typeof e=="string")return R5[e];return e};function C5(e,t,n){const i=[],r=n||yP,o=e.length-1;for(let u=0;u<o;u++){let h=r(e[u],e[u+1]);if(t){const f=Array.isArray(t)?t[u]||Jn:t;h=_f(f,h)}i.push(h)}return i}function D5(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const o=e.length;if(vI(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=C5(t,i,r),f=h.length,d=g=>{if(u&&g<e[0])return t[0];let v=0;if(f>1)for(;v<e.length-2&&!(g<e[v+1]);v++);const _=Ru(e[v],e[v+1],g);return h[v](_)};return n?g=>d(ar(e[0],e[o-1],g)):d}function I5(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=Ru(0,t,i);e.push(pe(n,1,r))}}function P5(e){const t=[0];return I5(t,e.length-1),t}function V5(e,t){return e.map(n=>n*t)}function M5(e,t){return e.map(()=>t||TP).splice(0,e.length-1)}function Hm({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=x5(i)?i.map(Ow):Ow(i),o={done:!1,value:t[0]},u=V5(n&&n.length===t.length?n:P5(t),e),h=D5(u,t,{ease:Array.isArray(r)?r:M5(t,r)});return{calculatedDuration:e,next:f=>(o.value=h(f),o.done=f>=e,o)}}const O5=e=>{const t=({timestamp:n})=>e(n);return{start:()=>le.update(t,!0),stop:()=>Aa(t),now:()=>un.isProcessing?un.timestamp:hs.now()}},N5={decay:Mw,inertia:Mw,tween:Hm,keyframes:Hm,spring:_P},k5=e=>e/100;class xT extends pP{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:r,keyframes:o}=this.options,u=(r==null?void 0:r.KeyframeResolver)||AT,h=(f,d)=>this.onKeyframesResolved(f,d);this.resolver=new u(o,h,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:u=0}=this.options,h=dT(n)?n:N5[n]||Hm;let f,d;h!==Hm&&typeof t[0]!="number"&&(f=_f(k5,yP(t[0],t[1])),t=[0,100]);const g=h({...this.options,keyframes:t});o==="mirror"&&(d=h({...this.options,keyframes:[...t].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=LI(g));const{calculatedDuration:v}=g,_=v+r,S=_*(i+1)-r;return{generator:g,mirroredGenerator:d,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:_,totalDuration:S}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:d,totalDuration:g,resolvedDuration:v}=i;if(this.startTime===null)return o.next(0);const{delay:_,repeat:S,repeatType:A,repeatDelay:R,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-g/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const P=this.currentTime-_*(this.speed>=0?1:-1),j=this.speed>=0?P<0:P>g;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let U=this.currentTime,W=o;if(S){const w=Math.min(this.currentTime,g)/v;let x=Math.floor(w),V=w%1;!V&&w>=1&&(V=1),V===1&&x--,x=Math.min(x,S+1),!!(x%2)&&(A==="reverse"?(V=1-V,R&&(V-=R/v)):A==="mirror"&&(W=u)),U=ar(0,1,V)*v}const z=j?{done:!1,value:f[0]}:W.next(U);h&&(z.value=h(z.value));let{done:tt}=z;!j&&d!==null&&(tt=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&tt);return M&&r!==void 0&&(z.value=wp(f,this.options,r)),I&&I(z.value),M&&this.finish(),z}get duration(){const{resolved:t}=this;return t?er(t.calculatedDuration):0}get time(){return er(this.currentTime)}set time(t){t=tr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=er(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=O5,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const L5=new Set(["opacity","clipPath","filter","transform"]);function U5(e,t,n,{delay:i=0,duration:r=300,repeat:o=0,repeatType:u="loop",ease:h="easeInOut",times:f}={}){const d={[t]:n};f&&(d.offset=f);const g=BI(h,r);return Array.isArray(g)&&(d.easing=g),e.animate(d,{delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"})}const j5=X_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qm=10,B5=2e4;function F5(e){return dT(e.type)||e.type==="spring"||!jI(e.ease)}function $5(e,t){const n=new xT({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const r=[];let o=0;for(;!i.done&&o<B5;)i=n.sample(o),r.push(i.value),o+=qm;return{times:void 0,keyframes:r,duration:o-qm,ease:"linear"}}const bP={anticipate:ZI,backInOut:XI,circInOut:tP};function z5(e){return e in bP}class Nw extends pP{constructor(t){super(t);const{name:n,motionValue:i,element:r,keyframes:o}=this.options;this.resolver=new mP(o,(u,h)=>this.onKeyframesResolved(u,h),n,i,r),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:r,ease:o,type:u,motionValue:h,name:f,startTime:d}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof o=="string"&&$m()&&z5(o)&&(o=bP[o]),F5(this.options)){const{onComplete:v,onUpdate:_,motionValue:S,element:A,...R}=this.options,I=$5(t,R);t=I.keyframes,t.length===1&&(t[1]=t[0]),i=I.duration,r=I.times,o=I.ease,u="keyframes"}const g=U5(h.owner.current,f,t,{...this.options,duration:i,times:r,ease:o});return g.startTime=d??this.calcStartTime(),this.pendingTimeline?(vw(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;h.set(wp(t,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:r,type:u,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return er(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return er(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=tr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Jn;const{animation:i}=n;vw(i,t)}return Jn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:r,type:o,ease:u,times:h}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:g,onComplete:v,element:_,...S}=this.options,A=new xT({...S,keyframes:i,duration:r,type:o,ease:u,times:h,isGenerator:!0}),R=tr(this.time);d.setWithVelocity(A.sample(R-qm).value,A.sample(R).value,qm)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:r,repeatType:o,damping:u,type:h}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=n.owner.getProps();return j5()&&i&&L5.has(i)&&!f&&!d&&!r&&o!=="mirror"&&u!==0&&h!=="inertia"}}const H5={type:"spring",stiffness:500,damping:25,restSpeed:10},q5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),G5={type:"keyframes",duration:.8},K5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q5=(e,{keyframes:t})=>t.length>2?G5:Ko.has(e)?e.startsWith("scale")?q5(t[1]):H5:K5;function Y5({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:u,repeatDelay:h,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const RT=(e,t,n,i={},r,o)=>u=>{const h=fT(i,e)||{},f=h.delay||i.delay||0;let{elapsed:d=0}=i;d=d-tr(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-d,onUpdate:_=>{t.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:o?void 0:r};Y5(h)||(g={...g,...Q5(e,g)}),g.duration&&(g.duration=tr(g.duration)),g.repeatDelay&&(g.repeatDelay=tr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),v&&!o&&t.get()!==void 0){const _=wp(g.keyframes,h);if(_!==void 0)return le.update(()=>{g.onUpdate(_),g.onComplete()}),new d6([])}return!o&&Nw.supports(g)?new Nw(g):new xT(g)};function W5({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function EP(e,t,{delay:n=0,transitionOverride:i,type:r}={}){var o;let{transition:u=e.getDefaultTransition(),transitionEnd:h,...f}=t;i&&(u=i);const d=[],g=r&&e.animationState&&e.animationState.getState()[r];for(const v in f){const _=e.getValue(v,(o=e.latestValues[v])!==null&&o!==void 0?o:null),S=f[v];if(S===void 0||g&&W5(g,v))continue;const A={delay:n,...fT(u||{},v)};let R=!1;if(window.MotionHandoffAnimation){const P=GI(e);if(P){const j=window.MotionHandoffAnimation(P,v,le);j!==null&&(A.startTime=j,R=!0)}}c0(e,v),_.start(RT(v,_,S,e.shouldReduceMotion&&HI.has(v)?{type:!1}:A,e,R));const I=_.animation;I&&d.push(I)}return h&&Promise.all(d).then(()=>{le.update(()=>{h&&C6(e,h)})}),d}function y0(e,t,n={}){var i;const r=zh(e,t,n.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const u=r?()=>Promise.all(EP(e,r,n)):()=>Promise.resolve(),h=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=o;return X5(e,t,g+d,v,_,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[d,g]=f==="beforeChildren"?[u,h]:[h,u];return d().then(()=>g())}else return Promise.all([u(),h(n.delay)])}function X5(e,t,n=0,i=0,r=1,o){const u=[],h=(e.variantChildren.size-1)*i,f=r===1?(d=0)=>d*i:(d=0)=>h-d*i;return Array.from(e.variantChildren).sort(Z5).forEach((d,g)=>{d.notify("AnimationStart",t),u.push(y0(d,t,{...o,delay:n+f(g)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(u)}function Z5(e,t){return e.sortNodePosition(t)}function J5(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(o=>y0(e,o,n));i=Promise.all(r)}else if(typeof t=="string")i=y0(e,t,n);else{const r=typeof t=="function"?zh(e,t,n.custom):t;i=Promise.all(EP(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function SP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const t9=J_.length;function AP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?AP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<t9;n++){const i=J_[n],r=e.props[i];(Bh(r)||r===!1)&&(t[i]=r)}return t}const e9=[...Z_].reverse(),n9=Z_.length;function i9(e){return t=>Promise.all(t.map(({animation:n,options:i})=>J5(e,n,i)))}function s9(e){let t=i9(e),n=kw(),i=!0;const r=f=>(d,g)=>{var v;const _=zh(e,g,f==="exit"?(v=e.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(_){const{transition:S,transitionEnd:A,...R}=_;d={...d,...R,...A}}return d};function o(f){t=f(e)}function u(f){const{props:d}=e,g=AP(e.parent)||{},v=[],_=new Set;let S={},A=1/0;for(let I=0;I<n9;I++){const P=e9[I],j=n[P],U=d[P]!==void 0?d[P]:g[P],W=Bh(U),z=P===f?j.isActive:null;z===!1&&(A=I);let tt=U===g[P]&&U!==d[P]&&W;if(tt&&i&&e.manuallyAnimateOnMount&&(tt=!1),j.protectedKeys={...S},!j.isActive&&z===null||!U&&!j.prevProp||Sp(U)||typeof U=="boolean")continue;const M=r9(j.prevProp,U);let w=M||P===f&&j.isActive&&!tt&&W||I>A&&W,x=!1;const V=Array.isArray(U)?U:[U];let B=V.reduce(r(P),{});z===!1&&(B={});const{prevResolvedValues:G={}}=j,L={...G,...B},se=ot=>{w=!0,_.has(ot)&&(x=!0,_.delete(ot)),j.needsAnimating[ot]=!0;const ct=e.getValue(ot);ct&&(ct.liveStyle=!1)};for(const ot in L){const ct=B[ot],It=G[ot];if(S.hasOwnProperty(ot))continue;let $=!1;o0(ct)&&o0(It)?$=!SP(ct,It):$=ct!==It,$?ct!=null?se(ot):_.add(ot):ct!==void 0&&_.has(ot)?se(ot):j.protectedKeys[ot]=!0}j.prevProp=U,j.prevResolvedValues=B,j.isActive&&(S={...S,...B}),i&&e.blockInitialAnimation&&(w=!1),w&&(!(tt&&M)||x)&&v.push(...V.map(ot=>({animation:ot,options:{type:P}})))}if(_.size){const I={};if(typeof d.initial!="boolean"){const P=zh(e,Array.isArray(d.initial)?d.initial[0]:d.initial);P&&P.transition&&(I.transition=P.transition)}_.forEach(P=>{const j=e.getBaseTarget(P),U=e.getValue(P);U&&(U.liveStyle=!0),I[P]=j??null}),v.push({animation:I})}let R=!!v.length;return i&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(R=!1),i=!1,R?t(v):Promise.resolve()}function h(f,d){var g;if(n[f].isActive===d)return Promise.resolve();(g=e.variantChildren)===null||g===void 0||g.forEach(_=>{var S;return(S=_.animationState)===null||S===void 0?void 0:S.setActive(f,d)}),n[f].isActive=d;const v=u(f);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=kw(),i=!0}}}function r9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!SP(t,e):!1}function yo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kw(){return{animate:yo(!0),whileInView:yo(),whileHover:yo(),whileTap:yo(),whileDrag:yo(),whileFocus:yo(),exit:yo()}}class Ma{constructor(t){this.isMounted=!1,this.node=t}update(){}}class a9 extends Ma{constructor(t){super(t),t.animationState||(t.animationState=s9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Sp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let o9=0;class l9 extends Ma{constructor(){super(...arguments),this.id=o9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const u9={animation:{Feature:a9},exit:{Feature:l9}};function Gh(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Tf(e){return{point:{x:e.pageX,y:e.pageY}}}const c9=e=>t=>pT(t)&&e(t,Tf(t));function tu(e,t,n,i){return Gh(e,t,c9(n),i)}function wP({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function h9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function f9(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const xP=1e-4,d9=1-xP,m9=1+xP,RP=.01,p9=0-RP,g9=0+RP;function On(e){return e.max-e.min}function y9(e,t,n){return Math.abs(e-t)<=n}function Lw(e,t,n,i=.5){e.origin=i,e.originPoint=pe(t.min,t.max,e.origin),e.scale=On(n)/On(t),e.translate=pe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=d9&&e.scale<=m9||isNaN(e.scale))&&(e.scale=1),(e.translate>=p9&&e.translate<=g9||isNaN(e.translate))&&(e.translate=0)}function wh(e,t,n,i){Lw(e.x,t.x,n.x,i?i.originX:void 0),Lw(e.y,t.y,n.y,i?i.originY:void 0)}function Uw(e,t,n){e.min=n.min+t.min,e.max=e.min+On(t)}function v9(e,t,n){Uw(e.x,t.x,n.x),Uw(e.y,t.y,n.y)}function jw(e,t,n){e.min=t.min-n.min,e.max=e.min+On(t)}function xh(e,t,n){jw(e.x,t.x,n.x),jw(e.y,t.y,n.y)}const Bw=()=>({translate:0,scale:1,origin:0,originPoint:0}),eu=()=>({x:Bw(),y:Bw()}),Fw=()=>({min:0,max:0}),De=()=>({x:Fw(),y:Fw()});function Ti(e){return[e("x"),e("y")]}function bv(e){return e===void 0||e===1}function v0({scale:e,scaleX:t,scaleY:n}){return!bv(e)||!bv(t)||!bv(n)}function bo(e){return v0(e)||CP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function CP(e){return $w(e.x)||$w(e.y)}function $w(e){return e&&e!=="0%"}function Gm(e,t,n){const i=e-n,r=t*i;return n+r}function zw(e,t,n,i,r){return r!==void 0&&(e=Gm(e,r,i)),Gm(e,n,i)+t}function _0(e,t=0,n=1,i,r){e.min=zw(e.min,t,n,i,r),e.max=zw(e.max,t,n,i,r)}function DP(e,{x:t,y:n}){_0(e.x,t.translate,t.scale,t.originPoint),_0(e.y,n.translate,n.scale,n.originPoint)}const Hw=.999999999999,qw=1.0000000000001;function _9(e,t,n,i=!1){const r=n.length;if(!r)return;t.x=t.y=1;let o,u;for(let h=0;h<r;h++){o=n[h],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&iu(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,DP(e,u)),i&&bo(o.latestValues)&&iu(e,o.latestValues))}t.x<qw&&t.x>Hw&&(t.x=1),t.y<qw&&t.y>Hw&&(t.y=1)}function nu(e,t){e.min=e.min+t,e.max=e.max+t}function Gw(e,t,n,i,r=.5){const o=pe(e.min,e.max,r);_0(e,t,n,o,i)}function iu(e,t){Gw(e.x,t.x,t.scaleX,t.scale,t.originX),Gw(e.y,t.y,t.scaleY,t.scale,t.originY)}function IP(e,t){return wP(f9(e.getBoundingClientRect(),t))}function T9(e,t,n){const i=IP(e,n),{scroll:r}=t;return r&&(nu(i.x,r.offset.x),nu(i.y,r.offset.y)),i}const Kw=(e,t)=>Math.abs(e-t);function b9(e,t){const n=Kw(e.x,t.x),i=Kw(e.y,t.y);return Math.sqrt(n**2+i**2)}class PP{constructor(t,n,{transformPagePoint:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Sv(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=b9(g.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:S}=g,{timestamp:A}=un;this.history.push({...S,timestamp:A});const{onStart:R,onMove:I}=this.handlers;v||(R&&R(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{if(g.currentTarget instanceof Element&&g.currentTarget.hasPointerCapture&&g.pointerId!==void 0)try{if(!g.currentTarget.hasPointerCapture(g.pointerId))return}catch{}this.lastMoveEvent=g,this.lastMoveEventInfo=Ev(v,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{Yw(g,"release"),this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Sv(g.type==="pointercancel"||g.type==="lostpointercapture"?this.lastMoveEventInfo:Ev(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,R),S&&S(g,R)},!pT(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i;const o=Tf(t),u=Ev(o,this.transformPagePoint),{point:h}=u,{timestamp:f}=un;this.history=[{...h,timestamp:f}];const{onSessionStart:d}=n;d&&d(t,Sv(u,this.history)),Yw(t,"set"),this.removeListeners=_f(tu(t.currentTarget,"pointermove",this.handlePointerMove),tu(t.currentTarget,"pointerup",this.handlePointerUp),tu(t.currentTarget,"pointercancel",this.handlePointerUp),tu(t.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Aa(this.updatePoint)}}function Ev(e,t){return t?{point:t(e.point)}:e}function Qw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sv({point:e},t){return{point:e,delta:Qw(e,VP(t)),offset:Qw(e,E9(t)),velocity:S9(t,.1)}}function E9(e){return e[0]}function VP(e){return e[e.length-1]}function S9(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=VP(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>tr(t)));)n--;if(!i)return{x:0,y:0};const o=er(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Yw(e,t){const n=`${t}PointerCapture`;if(e.currentTarget instanceof Element&&n in e.currentTarget&&e.pointerId!==void 0)try{e.currentTarget[n](e.pointerId)}catch{}}function A9(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?pe(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?pe(n,e,i.max):Math.min(e,n)),e}function Ww(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function w9(e,{top:t,left:n,bottom:i,right:r}){return{x:Ww(e.x,n,r),y:Ww(e.y,t,i)}}function Xw(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function x9(e,t){return{x:Xw(e.x,t.x),y:Xw(e.y,t.y)}}function R9(e,t){let n=.5;const i=On(e),r=On(t);return r>i?n=Ru(t.min,t.max-i,e.min):i>r&&(n=Ru(e.min,e.max-r,t.min)),ar(0,1,n)}function C9(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const T0=.35;function D9(e=T0){return e===!1?e=0:e===!0&&(e=T0),{x:Zw(e,"left","right"),y:Zw(e,"top","bottom")}}function Zw(e,t,n){return{min:Jw(e,t),max:Jw(e,n)}}function Jw(e,t){return typeof e=="number"?e:e[t]||0}const I9=new WeakMap;class P9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tf(g).point)},o=(g,v)=>{const{drag:_,dragPropagation:S,onDragStart:A}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=S6(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ti(I=>{let P=this.getAxisMotionValue(I).get()||0;if(cs.test(P)){const{projection:j}=this.visualElement;if(j&&j.layout){const U=j.layout.layoutBox[I];U&&(P=On(U)*(parseFloat(P)/100))}}this.originPoint[I]=P}),A&&le.postRender(()=>A(g,v)),c0(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},u=(g,v)=>{const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:A,onDrag:R}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:I}=v;if(S&&this.currentDirection===null){this.currentDirection=V9(I),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",v.point,I),this.updateAxis("y",v.point,I),this.visualElement.render(),R&&R(g,v)},h=(g,v)=>this.stop(g,v),f=()=>Ti(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new PP(t,{onSessionStart:r,onStart:o,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&le.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!am(t,r,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=A9(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Zl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=w9(r.layoutBox,n):this.constraints=!1,this.elastic=D9(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ti(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=C9(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Zl(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=T9(i,r.root,this.visualElement.getTransformPagePoint());let u=x9(r.layout.layoutBox,o);if(n){const h=n(h9(u));this.hasMutatedConstraints=!!h,h&&(u=wP(h))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},d=Ti(g=>{if(!am(g,n,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const _=r?200:1e6,S=r?40:1e7,A={type:"inertia",velocity:i?t[g]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,A)});return Promise.all(d).then(h)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return c0(this.visualElement,t),i.start(RT(t,i,0,n,this.visualElement,!1))}stopAnimation(){Ti(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ti(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Ti(n=>{const{drag:i}=this.getProps();if(!am(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:u,max:h}=r.layout.layoutBox[n];o.set(t[n]-pe(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Zl(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ti(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();r[u]=R9({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ti(u=>{if(!am(u,t,null))return;const h=this.getAxisMotionValue(u),{min:f,max:d}=this.constraints[u];h.set(pe(f,d,r[u]))})}addListeners(){if(!this.visualElement.current)return;I9.set(this.visualElement,this);const t=this.visualElement.current,n=tu(t,"pointerdown",f=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Zl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),le.read(i);const u=Gh(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ti(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),o(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:u=T0,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function am(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function V9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class M9 extends Ma{constructor(t){super(t),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new P9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const tx=e=>(t,n)=>{e&&le.postRender(()=>e(t,n))};class O9 extends Ma{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(t){this.session=new PP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:tx(t),onStart:tx(n),onMove:i,onEnd:(o,u)=>{delete this.session,r&&le.postRender(()=>r(o,u))}}}mount(){this.removePointerDownListener=tu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ex(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(At.test(e))e=parseFloat(e);else return e;const n=ex(e,t.target.x),i=ex(e,t.target.y);return`${n}% ${i}%`}},N9={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=wa.parse(e);if(r.length>5)return i;const o=wa.createTransformer(e),u=typeof r[0]!="number"?1:0,h=n.x.scale*t.x,f=n.y.scale*t.y;r[0+u]/=h,r[1+u]/=f;const d=pe(h,f,.5);return typeof r[2+u]=="number"&&(r[2+u]/=d),typeof r[3+u]=="number"&&(r[3+u]/=d),o(r)}};class k9 extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=t;Bj(L9),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),bm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,u=i.projection;return u&&(u.isPresent=o,r||t.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||le.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),eT.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function MP(e){const[t,n]=yj(),i=O.useContext(gI);return N.jsx(k9,{...e,layoutGroup:i,switchLayoutGroup:O.useContext(AI),isPresent:t,safeToRemove:n})}const L9={borderRadius:{...lh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lh,borderTopRightRadius:lh,borderBottomLeftRadius:lh,borderBottomRightRadius:lh,boxShadow:N9};function U9(e,t,n){const i=Sn(e)?e:Hh(e);return i.start(RT("",i,t,n)),i.animation}function j9(e){return e instanceof SVGElement&&e.tagName!=="svg"}const B9=(e,t)=>e.depth-t.depth;class F9{constructor(){this.children=[],this.isDirty=!1}add(t){gT(this.children,t),this.isDirty=!0}remove(t){yT(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(B9),this.isDirty=!1,this.children.forEach(t)}}function $9(e,t){const n=hs.now(),i=({timestamp:r})=>{const o=r-n;o>=t&&(Aa(i),e(o-t))};return le.read(i,!0),()=>Aa(i)}const OP=["TopLeft","TopRight","BottomLeft","BottomRight"],z9=OP.length,nx=e=>typeof e=="string"?parseFloat(e):e,ix=e=>typeof e=="number"||At.test(e);function H9(e,t,n,i,r,o){r?(e.opacity=pe(0,n.opacity!==void 0?n.opacity:1,q9(i)),e.opacityExit=pe(t.opacity!==void 0?t.opacity:1,0,G9(i))):o&&(e.opacity=pe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let u=0;u<z9;u++){const h=`border${OP[u]}Radius`;let f=sx(t,h),d=sx(n,h);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||ix(f)===ix(d)?(e[h]=Math.max(pe(nx(f),nx(d),i),0),(cs.test(d)||cs.test(f))&&(e[h]+="%")):e[h]=d}(t.rotate||n.rotate)&&(e.rotate=pe(t.rotate||0,n.rotate||0,i))}function sx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const q9=NP(0,.5,JI),G9=NP(.5,.95,Jn);function NP(e,t,n){return i=>i<e?0:i>t?1:n(Ru(e,t,i))}function rx(e,t){e.min=t.min,e.max=t.max}function vi(e,t){rx(e.x,t.x),rx(e.y,t.y)}function ax(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ox(e,t,n,i,r){return e-=t,e=Gm(e,1/n,i),r!==void 0&&(e=Gm(e,1/r,i)),e}function K9(e,t=0,n=1,i=.5,r,o=e,u=e){if(cs.test(t)&&(t=parseFloat(t),t=pe(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=pe(o.min,o.max,i);e===o&&(h-=t),e.min=ox(e.min,t,n,h,r),e.max=ox(e.max,t,n,h,r)}function lx(e,t,[n,i,r],o,u){K9(e,t[n],t[i],t[r],t.scale,o,u)}const Q9=["x","scaleX","originX"],Y9=["y","scaleY","originY"];function ux(e,t,n,i){lx(e.x,t,Q9,n?n.x:void 0,i?i.x:void 0),lx(e.y,t,Y9,n?n.y:void 0,i?i.y:void 0)}function cx(e){return e.translate===0&&e.scale===1}function kP(e){return cx(e.x)&&cx(e.y)}function hx(e,t){return e.min===t.min&&e.max===t.max}function W9(e,t){return hx(e.x,t.x)&&hx(e.y,t.y)}function fx(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function LP(e,t){return fx(e.x,t.x)&&fx(e.y,t.y)}function dx(e){return On(e.x)/On(e.y)}function mx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class X9{constructor(){this.members=[]}add(t){gT(this.members,t),t.scheduleRender()}remove(t){if(yT(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z9(e,t,n){let i="";const r=e.x.translate/t.x,o=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((r||o||u)&&(i=`translate3d(${r}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:g,rotateX:v,rotateY:_,skewX:S,skewY:A}=n;d&&(i=`perspective(${d}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),_&&(i+=`rotateY(${_}deg) `),S&&(i+=`skewX(${S}deg) `),A&&(i+=`skewY(${A}deg) `)}const h=e.x.scale*t.x,f=e.y.scale*t.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const Av=["","X","Y","Z"],J9={visibility:"hidden"},px=1e3;let tB=0;function wv(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function UP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=GI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",le,!(r||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&UP(i)}function jP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(u={},h=t==null?void 0:t()){this.id=tB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iB),this.nodes.forEach(lB),this.nodes.forEach(uB),this.nodes.forEach(sB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new F9)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new vT),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=j9(u),this.instance=u;const{layoutId:f,layout:d,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(d||f)&&(this.isLayoutDirty=!0),e){let v;const _=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=$9(_,250),bm.hasAnimatedSinceResize&&(bm.hasAnimatedSinceResize=!1,this.nodes.forEach(yx))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||d)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||g.getDefaultTransition()||mB,{onLayoutAnimationStart:I,onLayoutAnimationComplete:P}=g.getProps(),j=!this.targetLayout||!LP(this.targetLayout,A),U=!_&&S;if(this.options.layoutRoot||this.resumeFrom||U||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,U);const W={...fT(R,"layout"),onPlay:I,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else _||yx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Aa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cB),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gx);return}this.isUpdating||this.nodes.forEach(aB),this.isUpdating=!1,this.nodes.forEach(oB),this.nodes.forEach(eB),this.nodes.forEach(nB),this.clearAllSnapshots();const h=hs.now();un.delta=ar(0,1e3/60,h-un.timestamp),un.timestamp=h,un.isProcessing=!0,gv.update.process(un),gv.preRender.process(un),gv.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rB),this.sharedNodes.forEach(hB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!On(this.snapshot.measuredBox.x)&&!On(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!kP(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&(h||bo(this.latestValues)||g)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),pB(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return De();const f=h.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(gB))){const{scroll:g}=this.root;g&&(nu(f.x,g.offset.x),nu(f.y,g.offset.y))}return f}removeElementScroll(u){var h;const f=De();if(vi(f,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let d=0;d<this.path.length;d++){const g=this.path[d],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&vi(f,u),nu(f.x,v.offset.x),nu(f.y,v.offset.y))}return f}applyTransform(u,h=!1){const f=De();vi(f,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&iu(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),bo(g.latestValues)&&iu(f,g.latestValues)}return bo(this.latestValues)&&iu(f,this.latestValues),f}removeTransform(u){const h=De();vi(h,u);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!bo(d.latestValues))continue;v0(d.latestValues)&&d.updateSnapshot();const g=De(),v=d.measurePageBox();vi(g,v),ux(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return bo(this.latestValues)&&ux(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=un.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),xh(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vi(this.target,this.layout.layoutBox),DP(this.target,this.targetDelta)):vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),xh(this.relativeTargetOrigin,this.target,S.target),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||v0(this.parent.latestValues)||CP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let d=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===un.timestamp&&(d=!1),d)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;vi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;_9(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=De());const{target:A}=h;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ax(this.prevProjectionDelta.x,this.projectionDelta.x),ax(this.prevProjectionDelta.y,this.projectionDelta.y)),wh(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!mx(this.projectionDelta.x,this.prevProjectionDelta.x)||!mx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=eu(),this.projectionDelta=eu(),this.projectionDeltaWithTransform=eu()}setAnimationOrigin(u,h=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},v=eu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=De(),S=f?f.source:void 0,A=this.layout?this.layout.source:void 0,R=S!==A,I=this.getStack(),P=!I||I.members.length<=1,j=!!(R&&!P&&this.options.crossfade===!0&&!this.path.some(dB));this.animationProgress=0;let U;this.mixTargetDelta=W=>{const z=W/1e3;vx(v.x,u.x,z),vx(v.y,u.y,z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xh(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fB(this.relativeTarget,this.relativeTargetOrigin,_,z),U&&W9(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=De()),vi(U,this.relativeTarget)),R&&(this.animationValues=g,H9(g,d,this.latestValues,z,j,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Aa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{bm.hasAnimatedSinceResize=!0,this.currentAnimation=U9(0,px,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(px),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:d,latestValues:g}=u;if(!(!h||!f||!d)){if(this!==u&&this.layout&&d&&BP(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||De();const v=On(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const _=On(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+_}vi(h,f),iu(h,g),wh(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new X9),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const d={};f.z&&wv("z",u,d,this.animationValues);for(let g=0;g<Av.length;g++)wv(`rotate${Av[g]}`,u,d,this.animationValues),wv(`skew${Av[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}getProjectionStyles(u){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return J9;const d={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=_m(u==null?void 0:u.pointerEvents)||"",d.transform=g?g(this.latestValues,""):"none",d;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=_m(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!bo(this.latestValues)&&(R.transform=g?g({},""):"none",this.hasProjected=!1),R}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),d.transform=Z9(this.projectionDeltaWithTransform,this.treeScale,_),g&&(d.transform=g(_,d.transform));const{x:S,y:A}=this.projectionDelta;d.transformOrigin=`${S.origin*100}% ${A.origin*100}% 0`,v.animationValues?d.opacity=v===this?(f=(h=_.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:d.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const R in Fh){if(_[R]===void 0)continue;const{correct:I,applyTo:P,isCSSVariable:j}=Fh[R],U=d.transform==="none"?_[R]:I(_[R],v);if(P){const W=P.length;for(let z=0;z<W;z++)d[P[z]]=U}else j?this.options.visualElement.renderState.vars[R]=U:d[R]=U}return this.options.layoutId&&(d.pointerEvents=v===this?_m(u==null?void 0:u.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(gx),this.root.sharedNodes.clear()}}}function eB(e){e.updateLayout()}function nB(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:o}=e.options,u=n.source!==e.layout.source;o==="size"?Ti(v=>{const _=u?n.measuredBox[v]:n.layoutBox[v],S=On(_);_.min=i[v].min,_.max=_.min+S}):BP(o,n.layoutBox,i)&&Ti(v=>{const _=u?n.measuredBox[v]:n.layoutBox[v],S=On(i[v]);_.max=_.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+S)});const h=eu();wh(h,i,n.layoutBox);const f=eu();u?wh(f,e.applyTransform(r,!0),n.measuredBox):wh(f,i,n.layoutBox);const d=!kP(h);let g=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:S}=v;if(_&&S){const A=De();xh(A,n.layoutBox,_.layoutBox);const R=De();xh(R,i,S.layoutBox),LP(A,R)||(g=!0),v.options.layoutRoot&&(e.relativeTarget=R,e.relativeTargetOrigin=A,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:f,layoutDelta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function iB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rB(e){e.clearSnapshot()}function gx(e){e.clearMeasurements()}function aB(e){e.isLayoutDirty=!1}function oB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function yx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function lB(e){e.resolveTargetDelta()}function uB(e){e.calcProjection()}function cB(e){e.resetSkewAndRotation()}function hB(e){e.removeLeadSnapshot()}function vx(e,t,n){e.translate=pe(t.translate,0,n),e.scale=pe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _x(e,t,n,i){e.min=pe(t.min,n.min,i),e.max=pe(t.max,n.max,i)}function fB(e,t,n,i){_x(e.x,t.x,n.x,i),_x(e.y,t.y,n.y,i)}function dB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mB={duration:.45,ease:[.4,0,.1,1]},Tx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),bx=Tx("applewebkit/")&&!Tx("chrome/")?Math.round:Jn;function Ex(e){e.min=bx(e.min),e.max=bx(e.max)}function pB(e){Ex(e.x),Ex(e.y)}function BP(e,t,n){return e==="position"||e==="preserve-aspect"&&!y9(dx(t),dx(n),.2)}function gB(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const yB=jP({attachResizeListener:(e,t)=>Gh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xv={current:void 0},FP=jP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xv.current){const e=new yB({});e.mount(window),e.setOptions({layoutScroll:!0}),xv.current=e}return xv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),vB={pan:{Feature:O9},drag:{Feature:M9,ProjectionNode:FP,MeasureLayout:MP}};function Sx(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=i[r];o&&le.postRender(()=>o(t,Tf(t)))}class _B extends Ma{mount(){const{current:t}=this.node;t&&(this.unmount=y6(t,(n,i)=>(Sx(this.node,i,"Start"),r=>Sx(this.node,r,"End"))))}unmount(){}}class TB extends Ma{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_f(Gh(this.node.current,"focus",()=>this.onFocus()),Gh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ax(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=i[r];o&&le.postRender(()=>o(t,Tf(t)))}class bB extends Ma{mount(){const{current:t}=this.node;t&&(this.unmount=b6(t,(n,i)=>(Ax(this.node,i,"Start"),(r,{success:o})=>Ax(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const b0=new WeakMap,Rv=new WeakMap,EB=e=>{const t=b0.get(e.target);t&&t(e)},SB=e=>{e.forEach(EB)};function AB({root:e,...t}){const n=e||document;Rv.has(n)||Rv.set(n,{});const i=Rv.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(SB,{root:e,...t})),i[r]}function wB(e,t,n){const i=AB(t);return b0.set(e,n),i.observe(e),()=>{b0.delete(e),i.unobserve(e)}}const xB={some:0,all:1};class RB extends Ma{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:xB[r]},h=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=d?g:v;_&&_(f)};return wB(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(CB(t,n))&&this.startObserver()}unmount(){}}function CB({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const DB={inView:{Feature:RB},tap:{Feature:bB},focus:{Feature:TB},hover:{Feature:_B}},IB={layout:{ProjectionNode:FP,MeasureLayout:MP}},E0={current:null},$P={current:!1};function PB(){if($P.current=!0,!!W_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>E0.current=e.matches;e.addListener(t),t()}else E0.current=!1}const VB=[...dP,_n,wa],MB=e=>VB.find(fP(e)),OB=new WeakMap;function NB(e,t,n){for(const i in t){const r=t[i],o=n[i];if(Sn(r))e.addValue(i,r);else if(Sn(o))e.addValue(i,Hh(r,{owner:e}));else if(o!==r)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(r):u.hasAnimated||u.set(r)}else{const u=e.getStaticValue(i);e.addValue(i,Hh(u!==void 0?u:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const wx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kB{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=AT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=hs.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,le.render(this.render,!1,!0))};const{latestValues:f,renderState:d,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Ap(n),this.isVariantNode=EI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in _){const A=_[S];f[S]!==void 0&&Sn(A)&&A.set(f[S],!1)}}mount(t){this.current=t,OB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),$P.current||PB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:E0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Aa(this.notifyUpdate),Aa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Ko.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&le.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Cu){const n=Cu[t];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<wx.length;i++){const r=wx[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,u=t[o];u&&(this.propEventSubscriptions[r]=this.on(r,u))}this.prevMotionValues=NB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Hh(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){var i;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(cP(r)||eP(r))?r=parseFloat(r):!MB(r)&&wa.test(n)&&(r=oP(t,n)),this.setBaseTarget(t,Sn(r)?r.get():r)),Sn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=cT(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Sn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vT),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class zP extends kB{constructor(){super(...arguments),this.KeyframeResolver=mP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Sn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function LB(e){return window.getComputedStyle(e)}class UB extends zP{constructor(){super(...arguments),this.type="html",this.renderInstance=MI}readValueFromInstance(t,n){if(Ko.has(n)){const i=ST(n);return i&&i.default||0}else{const i=LB(t),r=(nT(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return IP(t,n)}build(t,n,i){rT(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return hT(t,n,i)}}class jB extends zP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=De,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&VI(this.current,this.renderState)}}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ko.has(n)){const i=ST(n);return i&&i.default||0}return n=OI.has(n)?n:tT(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return kI(t,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&le.postRender(this.updateDimensions)}build(t,n,i){lT(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,r){NI(t,n,i,r)}mount(t){this.isSVGTag=uT(t.tagName),super.mount(t)}}const BB=(e,t)=>oT(e)?new jB(t):new UB(t,{allowProjection:e!==O.Fragment}),FB=c6({...u9,...DB,...vB,...IB},BB),$B=xj(FB);var HP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xx=Oo.createContext&&Oo.createContext(HP),zB=["attr","size","title"];function HB(e,t){if(e==null)return{};var n=qB(e,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function qB(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Km.apply(this,arguments)}function Rx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Qm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rx(Object(n),!0).forEach(function(i){GB(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rx(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function GB(e,t,n){return t=KB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KB(e){var t=QB(e,"string");return typeof t=="symbol"?t:t+""}function QB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qP(e){return e&&e.map((t,n)=>Oo.createElement(t.tag,Qm({key:n},t.attr),qP(t.child)))}function fr(e){return t=>Oo.createElement(YB,Km({attr:Qm({},e.attr)},t),qP(e.child))}function YB(e){var t=n=>{var{attr:i,size:r,title:o}=e,u=HB(e,zB),h=r||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),Oo.createElement("svg",Km({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:f,style:Qm(Qm({color:e.color||n.color},n.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Oo.createElement("title",null,o),e.children)};return xx!==void 0?Oo.createElement(xx.Consumer,null,n=>t(n)):t(HP)}function WB(e){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.15 269.75a133.197 133.197 0 0 1-55.862 179.975l-42.782 22.541-10.52 5.533a71.277 71.277 0 0 1-62.966 1.685l-167.077-71.38 15.733-46.676 99.363 19.194-51.458-97.78-82.843-157.411 40.357-21.232 82.844 157.457 19.934-10.485-36.521-69.445 40.335-21.22 36.52 69.445 19.935-10.485-28.2-53.598 40.358-21.232 28.2 53.598 19.945-10.576-19.354-36.886 40.346-21.174 19.354 36.885 54.348 103.301zM73.268 146.674a60.03 60.03 0 0 1 42.361-102.459 60.098 60.098 0 0 1 56.58 80.169l10.588 20.013A78.29 78.29 0 0 0 115.708 26a78.233 78.233 0 0 0-5.635 156.262L99.428 162.02a59.688 59.688 0 0 1-26.16-15.346z"},child:[]}]})(e)}function XB({content:e,...t}){return N.jsx($B.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:`
            text-black
            dark:text-white
            px-3
            py-2
            rounded-lg
            text-md
            whitespace-nowrap
            pointer-events-none
            z-50
            ${t.className}
        `,children:N.jsxs("div",{className:"flex gap-2 items-center",children:[N.jsx(WB,{size:30}),e]})},"tooltip")}function ZB({cardData:e,isFlipped:t,setIsFlipped:n,showTooltip:i,setShowTooltip:r,isInitialLoad:o,setIsInitialLoad:u}){const[h,f]=O.useState(!0);return O.useEffect(()=>{f(!0)},[e]),t?N.jsxs(pv.button,{className:`mx-6 h-[280px] md:w-[850px] md:h-[450px] flex p-6 cursor-pointer rounded-lg shadow-sm\r
                        bg-white dark:bg-[#31A959]  dark:border-gray-700 dark:text-black\r
                        hover:bg-gray-100 dark:hover:bg-[#00A86B] items-center justify-center`,onClick:()=>{n(!1),r(!1),u(!1)},initial:{rotateY:o?0:180},animate:{rotateY:0},transition:{duration:.5},style:{transformStyle:"preserve-3d"},children:[i&&N.jsx(XB,{className:"absolute bottom-5 sm:bottom-10 right-3 sm:right-10",content:"Click to see the answer"}),N.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full relative backface-hidden",children:[N.jsx("div",{className:"flex-1",children:typeof e.imgSrc=="string"&&e.imgSrc!==""&&h&&N.jsx("img",{src:e.imgSrc,alt:"Card visual",className:"flex-1 max-w-full max-h-30 object-contain",onError:()=>f(!1)})}),N.jsx("h3",{className:`flex-1 flex items-center text-3xl lg:text-6xl font-bold tracking-tight text-gray-900 dark:text-white \r
                        text-center break-words px-2 backface-hidden`,children:e.front}),N.jsx("div",{className:"flex-1"})]})]}):e.back.length>1?N.jsx(pv.button,{className:`mx-6 h-[280px] md:w-[850px] md:h-[450px] flex p-6 cursor-pointer bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-100\r
                            dark:bg-gray-800 dark:border-gray-700 neon-border dark:hover:bg-gray-700 items-center justify-center`,onClick:()=>n(!0),initial:{rotateY:0},animate:{rotateY:180},transition:{duration:.5},style:{transformStyle:"preserve-3d"},children:N.jsx("div",{className:"w-full h-full",style:{transform:"rotateY(180deg)"},children:N.jsxs("table",{className:"w-full h-8/10 table-fixed mt-9 text-gray-900 dark:text-white",children:[N.jsx("thead",{children:N.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700 text-xs sm:text-2xl",children:[N.jsx("th",{className:"border px-2 py-1 w-3/5",children:"Account Name"}),N.jsx("th",{className:"border px-2 py-1 w-1/5",children:"Debit"}),N.jsx("th",{className:"border px-2 py-1 w-1/5",children:"Credit"})]})}),N.jsxs("tbody",{children:[N.jsxs("tr",{children:[N.jsx("td",{className:"px-2 py-2 text-sm sm:text-4xl font-bold text-left h-5/10",children:e.back[0]}),N.jsx("td",{className:"border px-2 py-2 text-sm sm:text-2xl font-bold",children:"X"}),N.jsx("td",{className:"border px-2 py-2"})]}),N.jsxs("tr",{children:[N.jsx("td",{className:"border-t-2 border-dashed px-2 py-2 text-sm sm:text-4xl font-bold text-left md:pl-15 pl-10 h-5/10",children:e.back[1]}),N.jsx("td",{className:"border px-2 py-2"}),N.jsx("td",{className:"border px-2 py-2 text-sm sm:text-2xl font-bold",children:"X"})]})]})]})})}):N.jsx(pv.button,{className:`mx-6 h-[280px] md:w-[850px] md:h-[450px] flex p-6 cursor-pointer bg-[#eed9c4] border border-gray-200 rounded-lg shadow-sm hover:bg-[#f7e7ce] dark:bg-gray-800\r
                            dark:border-gray-700 neon-border dark:hover:bg-gray-700 items-center justify-center`,onClick:()=>n(!0),initial:{rotateY:0},animate:{rotateY:180,x:[0,10,-10,10,-10,0]},transition:{duration:.5,ease:"easeInOut"},style:{transformStyle:"preserve-3d"},children:N.jsx("h3",{className:"text-3xl lg:text-7xl font-bold tracking-tight text-gray-900 dark:text-white backface-hidden",style:{transform:"rotateY(180deg)"},children:e.back[0]})})}const ze=({className:e="",children:t,...n})=>N.jsx("button",{...n,className:`cursor-pointer rounded-lg border border-transparent px-4 py-2 text-base 
                font-medium transition duration-200  text-black bg-white dark:text-white dark:bg-gray-900
                hover:bg-gray-300 dark:hover:bg-gray-800 hover:border-gray-400 ${e}`,children:t});function JB(e){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 73.4-73.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-128 128z"},child:[]}]})(e)}function tF(e){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"},child:[]}]})(e)}function eF(e){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"},child:[]}]})(e)}function nF(e){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-32-32 0c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-32-32 0c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"},child:[]}]})(e)}const iF=({hintLetter:e,onClose:t})=>N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/10 backdrop-blur-sm",children:N.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-80 text-center",children:[N.jsx("h2",{className:"text-lg font-semibold mb-4 text-black dark:text-white",children:"Hint"}),N.jsx("p",{className:"text-2xl text-blue-600 dark:text-blue-300",children:e}),N.jsx("button",{onClick:t,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Close"})]})}),sF=({flashcards:e,category:t})=>{const[n,i]=O.useState(0),[r,o]=O.useState(!0),[u,h]=O.useState(!1),[f,d]=O.useState(!0),[g,v]=O.useState(e),[_,S]=O.useState(!1),[A,R]=O.useState("");O.useEffect(()=>{U(),W()},[e]),O.useEffect(()=>{const M=setTimeout(()=>{h(!0)},1e3);return()=>clearTimeout(M)},[]);const I=()=>{i(M=>(M+1)%e.length),d(!0),o(!1)},P=()=>{i(M=>(M-1+e.length)%e.length),d(!0),o(!1)},j=()=>{const M=[...e];for(let w=M.length-1;w>0;w--){const x=Math.floor(Math.random()*(w+1));[M[w],M[x]]=[M[x],M[w]]}return M},U=()=>{v(j())},W=()=>{i(0),d(!0)},z=g[n],tt=()=>{var w,x;const M=z.back;if(Array.isArray(M)&&M.length>1){const V=((w=M[0])==null?void 0:w.charAt(0))??"",B=((x=M[1])==null?void 0:x.charAt(0))??"";R(`${V} , ${B}`)}else{const V=g[n],G=String(V.back).substring(0,1);R(G),S(!0)}S(!0)};return N.jsxs("div",{role:"region","aria-label":`Flashcard ${n+1} of ${e.length}`,className:"flex flex-col items-center mt-2 sm:w-2xl sm:max-w-2xl",children:[N.jsx("h2",{className:`text-balance text-center my-4 mx-1 text-2xl sm:text-4xl font-bold\r
                 text-black dark:text-white px-4`,children:t.description}),z?N.jsxs(N.Fragment,{children:[N.jsx(ZB,{cardData:z,showTooltip:u,setShowTooltip:h,isFlipped:f,setIsFlipped:d,isInitialLoad:r,setIsInitialLoad:o}),N.jsxs("div",{className:"flex flex-col flex-wrap justify-center gap-4 md:flex-row mt-4",children:[N.jsx("div",{className:"flex justify-center",children:N.jsxs(ze,{"aria-label":"Shuffle Button",title:"Click to shuffle flashcards",className:"border border-gray-300 rounded-md px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base flex items-center gap-1",onClick:()=>{U(),W()},children:["Shuffle ",N.jsx(nF,{size:16,"aria-hidden":!0})]})}),N.jsxs("div",{className:"flex justify-center items-center gap-4",children:[N.jsxs(ze,{"aria-label":"Previous Flashcard Button",title:"Click to see previous flashcard",onClick:P,className:"px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base text-green-800 font-bold hover:text-green-900 flex items-center gap-1",children:["Back ",N.jsx(JB,{size:16,"aria-hidden":!0})]}),N.jsxs("p",{className:"flex-1 font-semibold text-lg text-black dark:text-white",children:[n+1,"/",e.length]}),N.jsxs(ze,{"aria-label":"Next Flashcard Button",title:"Click to see next flashcard",onClick:I,className:"px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base text-green-800 font-bold hover:text-green-900 flex items-center gap-1",children:["Next ",N.jsx(tF,{size:16,"aria-hidden":!0})]})]}),N.jsx("div",{className:"flex justify-center",children:N.jsxs(ze,{"aria-label":"Help Button",title:"Click to see a hint",onClick:tt,className:"px-2 sm:px-4 py-1 sm:py-2 text-sm sm:text-base border border-blue-400 text-blue-600 dark:text-blue-300 rounded-md flex items-center gap-1",children:["Hint ",N.jsx(eF,{size:16,"aria-hidden":!0})]})}),_&&N.jsx(iF,{hintLetter:A,onClose:()=>S(!1)})]})]}):N.jsx("h3",{className:`p-20 text-3xl lg:text-7xl font-bold tracking-tight text-gray-900 dark:text-white \r
                text-center break-words px-2 backface-hidden`,children:"No flashcards exist in this category"})]})},GP=({id:e,title:t,options:n,selectedIndex:i,setSelectedIndex:r,ariaLabel:o})=>{const[u,h]=O.useState(!1),f=(g,v)=>{(g.type==="click"||g.type==="keydown"&&g.key==="Enter")&&(r(v),h(!1))},d=O.useRef(null);return O.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&h(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[d]),N.jsxs("div",{id:e+"-component",className:"relative p-4 sm:p-5 max-w-sm mx-auto w-full",children:[N.jsx("h2",{className:"p-4 text-2xl font-semibold text-black dark:text-white",children:t}),N.jsxs("div",{id:e,ref:d,className:"relative inline-block w-64 cursor-pointer",children:[N.jsxs("button",{"aria-label":`Toggle ${o} dropdown`,"aria-haspopup":"true","aria-expanded":u,type:"button",onClick:()=>h(!u),className:`w-full flex justify-between items-center px-4 py-2 cursor-pointer\r
                            text-gray-900 dark:text-white bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600\r
                            rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[n[i],N.jsx("span",{className:"ml-2",children:"▼"})]}),u&&N.jsx("div",{"aria-label":`${o} dropdown menu`,children:N.jsx("ul",{role:"menu","aria-multiselectable":!1,className:`absolute left-0 mt-1 w-full bg-white text-gray-900 dark:text-white dark:bg-gray-800 border\r
                                    border-gray-300 dark:border-gray-600 rounded-md shadow-lg z-100`,children:n.map((g,v)=>N.jsx("li",{tabIndex:0,className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",onClick:_=>{f(_,v)},onKeyDown:_=>f(_,v),children:g},g))})})]})]})},KP=O.createContext(void 0),xp=()=>{const e=O.useContext(KP);if(!e)throw new Error("useFlashcards must be used within a FlashcardsProvider");return e},rF=()=>N.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-md p-6 w-full sm:max-w-2xl mt-8 \r
                    border border-gray-200 dark:border-green-700 text-left md:ml-3`,children:[N.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"How to use the Flashcards"}),N.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300 text-sm",children:[N.jsx("li",{children:"Select one of the 3 accounting topics for your flashcards"}),N.jsx("li",{children:"Click on the “Shuffle” button to shuffle your flashcards"}),N.jsx("li",{children:"Click on the flashcard to see the answer"}),N.jsx("li",{children:"Click the “Next Flashcard” button to move onto the next flashcard"}),N.jsx("li",{children:"Click the “Hint” button to see the first letter of the answer"})]})]}),CT=()=>N.jsx("div",{className:"flex items-center justify-center",children:N.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-t-transparent border-white"})}),aF=()=>{const[e,t]=O.useState(0),[n,i]=O.useState(null),[r,o]=O.useState(null),{categories:u,flashcards:h,isLoadingData:f,getFlashcardsByCategory:d}=xp();return O.useEffect(()=>{if(!f&&e!==null&&u.length>0&&h.length>0){const g=u[e];if(g){const v=d(g.id);i(v),o(g)}}},[e,u,h,f,d]),f||!n||!r?N.jsx("div",{className:"mt-20",children:N.jsx(CT,{})}):N.jsxs("main",{role:"main",className:"pb-10",children:[N.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between w-full px-4 sm:px-0",children:[N.jsx("div",{className:"flex-1",children:N.jsx(rF,{})}),N.jsx("div",{className:"flex-1",children:N.jsx(GP,{id:"select-topic-dropdown",title:"Select Accounting Topic:",options:u.map(g=>g.name),selectedIndex:e,setSelectedIndex:t,ariaLabel:"flashcard topic"})}),N.jsx("div",{className:"flex-1"})]}),N.jsx("div",{style:{display:"flex",justifyContent:"center",textAlign:"center"},role:"region","aria-label":"Flashcard content",children:N.jsx(sF,{flashcards:n,category:r})})]})},QP=O.createContext({currentUser:null,isAuthorizing:!0}),DT=()=>{const e=O.useContext(QP);if(!e)throw new Error("useAuthContext must be used within an AuthProvider");return e},oF=()=>{};var Cx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},lF=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[n++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=e[n++],u=e[n++],h=e[n++],f=((r&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=e[n++],u=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|u&63)}}return t.join("")},WP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const o=e[r],u=r+1<e.length,h=u?e[r+1]:0,f=r+2<e.length,d=f?e[r+2]:0,g=o>>2,v=(o&3)<<4|h>>4;let _=(h&15)<<2|d>>6,S=d&63;f||(S=64,u||(_=64)),i.push(n[g],n[v],n[_],n[S])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(YP(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):lF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const o=n[e.charAt(r++)],h=r<e.length?n[e.charAt(r)]:0;++r;const d=r<e.length?n[e.charAt(r)]:64;++r;const v=r<e.length?n[e.charAt(r)]:64;if(++r,o==null||h==null||d==null||v==null)throw new uF;const _=o<<2|h>>4;if(i.push(_),d!==64){const S=h<<4&240|d>>2;if(i.push(S),v!==64){const A=d<<6&192|v;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class uF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cF=function(e){const t=YP(e);return WP.encodeByteArray(t,!0)},Ym=function(e){return cF(e).replace(/\./g,"")},XP=function(e){try{return WP.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=()=>hF().__FIREBASE_DEFAULTS__,dF=()=>{if(typeof process>"u"||typeof Cx>"u")return;const e=Cx.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},mF=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&XP(e[1]);return t&&JSON.parse(t)},Rp=()=>{try{return oF()||fF()||dF()||mF()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ZP=e=>{var t,n;return(n=(t=Rp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},pF=e=>{const t=ZP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},JP=()=>{var e;return(e=Rp())===null||e===void 0?void 0:e.config},t2=e=>{var t;return(t=Rp())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ym(JSON.stringify(n)),Ym(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function _F(){var e;const t=(e=Rp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bF(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function EF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SF(){const e=An();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function AF(){return!_F()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wF(){try{return typeof indexedDB=="object"}catch{return!1}}function xF(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="FirebaseError";class vs extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=RF,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bf.prototype.create)}}class bf{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,o=this.errors[t],u=o?CF(o,i):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new vs(r,h,i)}}function CF(e,t){return e.replace(DF,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const DF=/\{\$([^}]+)}/g;function IF(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Lo(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const o=e[r],u=t[r];if(Dx(o)&&Dx(u)){if(!Lo(o,u))return!1}else if(o!==u)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Dx(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function mh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function ph(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function PF(e,t){const n=new VF(e,t);return n.subscribe.bind(n)}class VF{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");MF(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Cv),r.error===void 0&&(r.error=Cv),r.complete===void 0&&(r.complete=Cv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MF(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Cv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(e){return e&&e._delegate?e._delegate:e}class Uo{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new gF;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kF(t))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Eo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Eo){return this.instances.has(t)}getOptions(t=Eo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:NF(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Eo){return this.component?this.component.multipleInstances?t:Eo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NF(e){return e===Eo?void 0:e}function kF(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new OF(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(jt||(jt={}));const UF={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},jF=jt.INFO,BF={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},FF=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=BF[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class IT{constructor(t){this.name=t,this._logLevel=jF,this._logHandler=FF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UF[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const $F=(e,t)=>t.some(n=>e instanceof n);let Ix,Px;function zF(){return Ix||(Ix=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HF(){return Px||(Px=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e2=new WeakMap,S0=new WeakMap,n2=new WeakMap,Dv=new WeakMap,PT=new WeakMap;function qF(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",u)},o=()=>{n(ga(e.result)),r()},u=()=>{i(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",u)});return t.then(n=>{n instanceof IDBCursor&&e2.set(n,e)}).catch(()=>{}),PT.set(t,e),t}function GF(e){if(S0.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",u),e.removeEventListener("abort",u)},o=()=>{n(),r()},u=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",u),e.addEventListener("abort",u)});S0.set(e,t)}let A0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return S0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||n2.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ga(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function KF(e){A0=e(A0)}function QF(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Iv(this),t,...n);return n2.set(i,t.sort?t.sort():[t]),ga(i)}:HF().includes(e)?function(...t){return e.apply(Iv(this),t),ga(e2.get(this))}:function(...t){return ga(e.apply(Iv(this),t))}}function YF(e){return typeof e=="function"?QF(e):(e instanceof IDBTransaction&&GF(e),$F(e,zF())?new Proxy(e,A0):e)}function ga(e){if(e instanceof IDBRequest)return qF(e);if(Dv.has(e))return Dv.get(e);const t=YF(e);return t!==e&&(Dv.set(e,t),PT.set(t,e)),t}const Iv=e=>PT.get(e);function WF(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const u=indexedDB.open(e,t),h=ga(u);return i&&u.addEventListener("upgradeneeded",f=>{i(ga(u.result),f.oldVersion,f.newVersion,ga(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const XF=["get","getKey","getAll","getAllKeys","count"],ZF=["put","add","delete","clear"],Pv=new Map;function Vx(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Pv.get(t))return Pv.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=ZF.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||XF.includes(n)))return;const o=async function(u,...h){const f=this.transaction(u,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[n](...h),r&&f.done]))[0]};return Pv.set(t,o),o}KF(e=>({...e,get:(t,n,i)=>Vx(t,n)||e.get(t,n,i),has:(t,n)=>!!Vx(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t$(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function t$(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const w0="@firebase/app",Mx="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new IT("@firebase/app"),e$="@firebase/app-compat",n$="@firebase/analytics-compat",i$="@firebase/analytics",s$="@firebase/app-check-compat",r$="@firebase/app-check",a$="@firebase/auth",o$="@firebase/auth-compat",l$="@firebase/database",u$="@firebase/data-connect",c$="@firebase/database-compat",h$="@firebase/functions",f$="@firebase/functions-compat",d$="@firebase/installations",m$="@firebase/installations-compat",p$="@firebase/messaging",g$="@firebase/messaging-compat",y$="@firebase/performance",v$="@firebase/performance-compat",_$="@firebase/remote-config",T$="@firebase/remote-config-compat",b$="@firebase/storage",E$="@firebase/storage-compat",S$="@firebase/firestore",A$="@firebase/vertexai",w$="@firebase/firestore-compat",x$="firebase",R$="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="[DEFAULT]",C$={[w0]:"fire-core",[e$]:"fire-core-compat",[i$]:"fire-analytics",[n$]:"fire-analytics-compat",[r$]:"fire-app-check",[s$]:"fire-app-check-compat",[a$]:"fire-auth",[o$]:"fire-auth-compat",[l$]:"fire-rtdb",[u$]:"fire-data-connect",[c$]:"fire-rtdb-compat",[h$]:"fire-fn",[f$]:"fire-fn-compat",[d$]:"fire-iid",[m$]:"fire-iid-compat",[p$]:"fire-fcm",[g$]:"fire-fcm-compat",[y$]:"fire-perf",[v$]:"fire-perf-compat",[_$]:"fire-rc",[T$]:"fire-rc-compat",[b$]:"fire-gcs",[E$]:"fire-gcs-compat",[S$]:"fire-fst",[w$]:"fire-fst-compat",[A$]:"fire-vertex","fire-js":"fire-js",[x$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=new Map,D$=new Map,R0=new Map;function Ox(e,t){try{e.container.addComponent(t)}catch(n){or.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Iu(e){const t=e.name;if(R0.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;R0.set(t,e);for(const n of Wm.values())Ox(n,e);for(const n of D$.values())Ox(n,e);return!0}function VT(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ki(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new bf("app","Firebase",I$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=R$;function i2(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:x0,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw ya.create("bad-app-name",{appName:String(r)});if(n||(n=JP()),!n)throw ya.create("no-options");const o=Wm.get(r);if(o){if(Lo(n,o.options)&&Lo(i,o.config))return o;throw ya.create("duplicate-app",{appName:r})}const u=new LF(r);for(const f of R0.values())u.addComponent(f);const h=new P$(n,i,u);return Wm.set(r,h),h}function s2(e=x0){const t=Wm.get(e);if(!t&&e===x0&&JP())return i2();if(!t)throw ya.create("no-app",{appName:e});return t}function va(e,t,n){var i;let r=(i=C$[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(h.join(" "));return}Iu(new Uo(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$="firebase-heartbeat-database",M$=1,Kh="firebase-heartbeat-store";let Vv=null;function r2(){return Vv||(Vv=WF(V$,M$,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Kh)}catch(n){console.warn(n)}}}}).catch(e=>{throw ya.create("idb-open",{originalErrorMessage:e.message})})),Vv}async function O$(e){try{const n=(await r2()).transaction(Kh),i=await n.objectStore(Kh).get(a2(e));return await n.done,i}catch(t){if(t instanceof vs)or.warn(t.message);else{const n=ya.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});or.warn(n.message)}}}async function Nx(e,t){try{const i=(await r2()).transaction(Kh,"readwrite");await i.objectStore(Kh).put(t,a2(e)),await i.done}catch(n){if(n instanceof vs)or.warn(n.message);else{const i=ya.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(i.message)}}}function a2(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=1024,k$=30;class L${constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j$(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kx();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>k$){const u=B$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){or.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kx(),{heartbeatsToSend:i,unsentEntries:r}=U$(this._heartbeatsCache.heartbeats),o=Ym(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return or.warn(n),""}}}function kx(){return new Date().toISOString().substring(0,10)}function U$(e,t=N$){const n=[];let i=e.slice();for(const r of e){const o=n.find(u=>u.agent===r.agent);if(o){if(o.dates.push(r.date),Lx(n)>t){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Lx(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class j${constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wF()?xF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Nx(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Nx(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Lx(e){return Ym(JSON.stringify({version:2,heartbeats:e})).length}function B$(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(e){Iu(new Uo("platform-logger",t=>new JF(t),"PRIVATE")),Iu(new Uo("heartbeat",t=>new L$(t),"PRIVATE")),va(w0,Mx,e),va(w0,Mx,"esm2017"),va("fire-js","")}F$("");function MT(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function o2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $$=o2,l2=new bf("auth","Firebase",o2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new IT("@firebase/auth");function z$(e,...t){Xm.logLevel<=jt.WARN&&Xm.warn(`Auth (${Hu}): ${e}`,...t)}function Em(e,...t){Xm.logLevel<=jt.ERROR&&Xm.error(`Auth (${Hu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(e,...t){throw OT(e,...t)}function fs(e,...t){return OT(e,...t)}function u2(e,t,n){const i=Object.assign(Object.assign({},$$()),{[t]:n});return new bf("auth","Firebase",i).create(t,{appName:e.name})}function _a(e){return u2(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OT(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return l2.create(e,...t)}function wt(e,t,...n){if(!e)throw OT(t,...n)}function Ys(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Em(t),new Error(t)}function lr(e,t){e||Ys(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function H$(){return Ux()==="http:"||Ux()==="https:"}function Ux(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H$()||bF()||"connection"in navigator)?navigator.onLine:!0}function G$(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,n){this.shortDelay=t,this.longDelay=n,lr(n>t,"Short delay should be less than long delay!"),this.isMobile=vF()||EF()}get(){return q$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(e,t){lr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y$=new Sf(3e4,6e4);function Oa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function dr(e,t,n,i,r={}){return h2(e,r,async()=>{let o={},u={};i&&(t==="GET"?u=i:o={body:JSON.stringify(i)});const h=Ef(Object.assign({key:e.config.apiKey},u)).slice(1),f=await e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);const d=Object.assign({method:t,headers:f},o);return TF()||(d.referrerPolicy="no-referrer"),c2.fetch()(await f2(e,e.config.apiHost,n,h),d)})}async function h2(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},K$),t);try{const r=new X$(e),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw om(e,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw om(e,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw om(e,"email-already-in-use",u);if(f==="USER_DISABLED")throw om(e,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw u2(e,g,d);ji(e,g)}}catch(r){if(r instanceof vs)throw r;ji(e,"network-request-failed",{message:String(r)})}}async function Cp(e,t,n,i,r={}){const o=await dr(e,t,n,i,r);return"mfaPendingCredential"in o&&ji(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function f2(e,t,n,i){const r=`${t}${n}?${i}`,o=e,u=o.config.emulator?NT(e.config,r):`${e.config.apiScheme}://${r}`;return Q$.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function W$(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(fs(this.auth,"network-request-failed")),Y$.get())})}}function om(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=fs(e,t,i);return r.customData._tokenResponse=n,r}function jx(e){return e!==void 0&&e.enterprise!==void 0}class Z${constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return W$(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J$(e,t){return dr(e,"GET","/v2/recaptchaConfig",Oa(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(e,t){return dr(e,"POST","/v1/accounts:delete",t)}async function Zm(e,t){return dr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ez(e,t=!1){const n=en(e),i=await n.getIdToken(t),r=kT(i);wt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Rh(Mv(r.auth_time)),issuedAtTime:Rh(Mv(r.iat)),expirationTime:Rh(Mv(r.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Mv(e){return Number(e)*1e3}function kT(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Em("JWT malformed, contained fewer than 3 sections"),null;try{const r=XP(n);return r?JSON.parse(r):(Em("Failed to decode base64 JWT payload"),null)}catch(r){return Em("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Bx(e){const t=kT(e);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof vs&&nz(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function nz({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rh(this.lastLoginAt),this.creationTime=Rh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jm(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Qh(e,Zm(n,{idToken:i}));wt(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const u=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?d2(o.providerUserInfo):[],h=rz(e.providerData,u),f=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(h!=null&&h.length),g=f?d:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new D0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,v)}async function sz(e){const t=en(e);await Jm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rz(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function d2(e){return e.map(t=>{var{providerId:n}=t,i=MT(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(e,t){const n=await h2(e,{},async()=>{const i=Ef({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,u=await f2(e,r,"/v1/token",`key=${o}`),h=await e._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",c2.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oz(e,t){return dr(e,"POST","/v2/accounts:revokeToken",Oa(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Bx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const n=Bx(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await az(t,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,u=new ru;return i&&(wt(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),r&&(wt(typeof r=="string","internal-error",{appName:t}),u.accessToken=r),o&&(wt(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ru,this.toJSON())}_performRefresh(){return Ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e,t){wt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Li{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,o=MT(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new D0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Qh(this,this.stsTokenManager.getToken(this.auth,t));return wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return ez(this,t)}reload(){return sz(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Li(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Jm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ki(this.auth.app))return Promise.reject(_a(this.auth));const t=await this.getIdToken();return await Qh(this,tz(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,o,u,h,f,d,g;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(r=n.email)!==null&&r!==void 0?r:void 0,S=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=n.photoURL)!==null&&u!==void 0?u:void 0,R=(h=n.tenantId)!==null&&h!==void 0?h:void 0,I=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,P=(d=n.createdAt)!==null&&d!==void 0?d:void 0,j=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:W,isAnonymous:z,providerData:tt,stsTokenManager:M}=n;wt(U&&M,t,"internal-error");const w=ru.fromJSON(this.name,M);wt(typeof U=="string",t,"internal-error"),Xr(v,t.name),Xr(_,t.name),wt(typeof W=="boolean",t,"internal-error"),wt(typeof z=="boolean",t,"internal-error"),Xr(S,t.name),Xr(A,t.name),Xr(R,t.name),Xr(I,t.name),Xr(P,t.name),Xr(j,t.name);const x=new Li({uid:U,auth:t,email:_,emailVerified:W,displayName:v,isAnonymous:z,photoURL:A,phoneNumber:S,tenantId:R,stsTokenManager:w,createdAt:P,lastLoginAt:j});return tt&&Array.isArray(tt)&&(x.providerData=tt.map(V=>Object.assign({},V))),I&&(x._redirectEventId=I),x}static async _fromIdTokenResponse(t,n,i=!1){const r=new ru;r.updateFromServerResponse(n);const o=new Li({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Jm(o),o}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];wt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?d2(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new ru;h.updateFromIdToken(i);const f=new Li({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:u}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new D0(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Map;function Ws(e){lr(e instanceof Function,"Expected a class definition");let t=Fx.get(e);return t?(lr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Fx.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}m2.type="NONE";const $x=m2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(e,t,n){return`firebase:${e}:${t}:${n}`}class au{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Sm(this.userKey,r.apiKey,o),this.fullPersistenceKey=Sm("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Zm(this.auth,{idToken:t}).catch(()=>{});return n?Li._fromGetAccountInfoResponse(this.auth,n,t):null}return Li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new au(Ws($x),t,i);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||Ws($x);const u=Sm(i,t.config.apiKey,t.name);let h=null;for(const d of n)try{const g=await d._get(u);if(g){let v;if(typeof g=="string"){const _=await Zm(t,{idToken:g}).catch(()=>{});if(!_)break;v=await Li._fromGetAccountInfoResponse(t,_,g)}else v=Li._fromJSON(t,g);d!==o&&(h=v),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new au(o,t,i):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new au(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(v2(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(p2(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(T2(t))return"Blackberry";if(b2(t))return"Webos";if(g2(t))return"Safari";if((t.includes("chrome/")||y2(t))&&!t.includes("edge/"))return"Chrome";if(_2(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function p2(e=An()){return/firefox\//i.test(e)}function g2(e=An()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function y2(e=An()){return/crios\//i.test(e)}function v2(e=An()){return/iemobile/i.test(e)}function _2(e=An()){return/android/i.test(e)}function T2(e=An()){return/blackberry/i.test(e)}function b2(e=An()){return/webos/i.test(e)}function LT(e=An()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function lz(e=An()){var t;return LT(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function uz(){return SF()&&document.documentMode===10}function E2(e=An()){return LT(e)||_2(e)||b2(e)||T2(e)||/windows phone/i.test(e)||v2(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(e,t=[]){let n;switch(e){case"Browser":n=zx(An());break;case"Worker":n=`${zx(An())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=o=>new Promise((u,h)=>{try{const f=t(o);u(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(e,t={}){return dr(e,"GET","/v2/passwordPolicy",Oa(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=6;class dz{constructor(t){var n,i,r,o;const u=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:fz,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hx(this),this.idTokenSubscription=new Hx(this),this.beforeStateQueue=new cz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ws(n)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await au.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Zm(this,{idToken:t}),i=await Li._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ki(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(t);(!u||u===h)&&(f!=null&&f.user)&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Jm(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=G$()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ki(this.app))return Promise.reject(_a(this));const n=t?en(t):null;return n&&wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ki(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ki(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ws(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hz(this),n=new dz(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new bf("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await oz(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ws(t)||this._popupRedirectResolver;wt(n,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[Ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const f=t.addObserver(n,i,r);return()=>{u=!0,f()}}else{const f=t.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=S2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;if(ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&z$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qo(e){return en(e)}class Hx{constructor(t){this.auth=t,this.observer=null,this.addObserver=PF(n=>this.observer=n)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pz(e){Dp=e}function A2(e){return Dp.loadJS(e)}function gz(){return Dp.recaptchaEnterpriseScript}function yz(){return Dp.gapiScript}function vz(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class _z{constructor(){this.enterprise=new Tz}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Tz{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const bz="recaptcha-enterprise",w2="NO_RECAPTCHA";class Ez{constructor(t){this.type=bz,this.auth=Qo(t)}async verify(t="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{J$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new Z$(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function r(o,u,h){const f=window.grecaptcha;jx(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{u(d)}).catch(()=>{u(w2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _z().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!n&&jx(window.grecaptcha))r(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=gz();f.length!==0&&(f+=h),A2(f).then(()=>{r(h,o,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function qx(e,t,n,i=!1,r=!1){const o=new Ez(e);let u;if(r)u=w2;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const h=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function I0(e,t,n,i,r){var o;if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await qx(e,t,n,n==="getOobCode");return i(e,u)}else return i(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await qx(e,t,n,n==="getOobCode");return i(e,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(e,t){const n=VT(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Lo(o,t??{}))return r;ji(r,"already-initialized")}return n.initialize({options:t})}function Az(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ws);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function wz(e,t,n){const i=Qo(e);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=x2(t),{host:u,port:h}=xz(t),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Lo(d,i.config.emulator)&&Lo(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Rz()}function x2(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xz(e){const t=x2(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Gx(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:Gx(u)}}}function Gx(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Rz(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ys("not implemented")}_getIdTokenResponse(t){return Ys("not implemented")}_linkToIdToken(t,n){return Ys("not implemented")}_getReauthenticationResolver(t){return Ys("not implemented")}}async function Cz(e,t){return dr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(e,t){return Cp(e,"POST","/v1/accounts:signInWithPassword",Oa(e,t))}async function Iz(e,t){return dr(e,"POST","/v1/accounts:sendOobCode",Oa(e,t))}async function Pz(e,t){return Iz(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vz(e,t){return Cp(e,"POST","/v1/accounts:signInWithEmailLink",Oa(e,t))}async function Mz(e,t){return Cp(e,"POST","/v1/accounts:signInWithEmailLink",Oa(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends UT{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new Yh(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Yh(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I0(t,n,"signInWithPassword",Dz);case"emailLink":return Vz(t,{email:this._email,oobCode:this._password});default:ji(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I0(t,i,"signUpPassword",Cz);case"emailLink":return Mz(t,{idToken:n,email:this._email,oobCode:this._password});default:ji(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(e,t){return Cp(e,"POST","/v1/accounts:signInWithIdp",Oa(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz="http://localhost";class jo extends UT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new jo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,o=MT(n,["providerId","signInMethod"]);if(!i||!r)return null;const u=new jo(i,r);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const n=this.buildRequest();return ou(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ou(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ou(t,n)}buildRequest(){const t={requestUri:Oz,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ef(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kz(e){const t=mh(ph(e)).link,n=t?mh(ph(t)).deep_link_id:null,i=mh(ph(e)).deep_link_id;return(i?mh(ph(i)).link:null)||i||n||t||e}class jT{constructor(t){var n,i,r,o,u,h;const f=mh(ph(t)),d=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(i=f.oobCode)!==null&&i!==void 0?i:null,v=Nz((r=f.mode)!==null&&r!==void 0?r:null);wt(d&&g&&v,"argument-error"),this.apiKey=d,this.operation=v,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const n=kz(t);try{return new jT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.providerId=qu.PROVIDER_ID}static credential(t,n){return Yh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=jT.parseLink(n);return wt(i,"argument-error"),Yh._fromEmailAndCode(t,i.code,i.tenantId)}}qu.PROVIDER_ID="password";qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends R2{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Af{constructor(){super("facebook.com")}static credential(t){return jo._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ea.credential(t.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Af{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return jo._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return na.credentialFromTaggedObject(t)}static credentialFromError(t){return na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return na.credential(n,i)}catch{return null}}}na.GOOGLE_SIGN_IN_METHOD="google.com";na.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Af{constructor(){super("github.com")}static credential(t){return jo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ia.credentialFromTaggedObject(t)}static credentialFromError(t){return ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ia.credential(t.oauthAccessToken)}catch{return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Af{constructor(){super("twitter.com")}static credential(t,n){return jo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return sa.credentialFromTaggedObject(t)}static credentialFromError(t){return sa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return sa.credential(n,i)}catch{return null}}}sa.TWITTER_SIGN_IN_METHOD="twitter.com";sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const o=await Li._fromIdTokenResponse(t,i,r),u=Kx(i);return new Pu({user:o,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=Kx(i);return new Pu({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function Kx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends vs{constructor(t,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,tp.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new tp(t,n,i,r)}}function C2(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tp._fromErrorAndOperation(e,o,t,i):o})}async function Lz(e,t,n=!1){const i=await Qh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Pu._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(e,t,n=!1){const{auth:i}=e;if(ki(i.app))return Promise.reject(_a(i));const r="reauthenticate";try{const o=await Qh(e,C2(i,r,t,e),n);wt(o.idToken,i,"internal-error");const u=kT(o.idToken);wt(u,i,"internal-error");const{sub:h}=u;return wt(e.uid===h,i,"user-mismatch"),Pu._forOperation(e,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ji(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(e,t,n=!1){if(ki(e.app))return Promise.reject(_a(e));const i="signIn",r=await C2(e,i,t),o=await Pu._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(o.user),o}async function jz(e,t){return D2(Qo(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz(e){const t=Qo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Fz(e,t,n){const i=Qo(e);await I0(i,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Pz)}function $z(e,t,n){return ki(e.app)?Promise.reject(_a(e)):jz(en(e),qu.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Bz(e),i})}function zz(e,t,n,i){return en(e).onIdTokenChanged(t,n,i)}function Hz(e,t,n){return en(e).beforeAuthStateChanged(t,n)}function qz(e,t,n,i){return en(e).onAuthStateChanged(t,n,i)}function Gz(e){return en(e).signOut()}const ep="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ep,"1"),this.storage.removeItem(ep),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=1e3,Qz=10;class P2 extends I2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);uz()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,Qz):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},Kz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}P2.type="LOCAL";const Yz=P2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2 extends I2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}V2.type="SESSION";const M2=V2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wz(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Ip(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:o}=n.data,u=this.handlersMap[r];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(u).map(async d=>d(n.origin,o)),f=await Wz(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ip.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=BT("",20);r.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(v){const _=v;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(_.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(){return window}function Zz(e){ds().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){return typeof ds().WorkerGlobalScope<"u"&&typeof ds().importScripts=="function"}async function Jz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t7(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function e7(){return O2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="firebaseLocalStorageDb",n7=1,np="firebaseLocalStorage",k2="fbase_key";class wf{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pp(e,t){return e.transaction([np],t?"readwrite":"readonly").objectStore(np)}function i7(){const e=indexedDB.deleteDatabase(N2);return new wf(e).toPromise()}function P0(){const e=indexedDB.open(N2,n7);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(np,{keyPath:k2})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(np)?t(i):(i.close(),await i7(),t(await P0()))})})}async function Qx(e,t,n){const i=Pp(e,!0).put({[k2]:t,value:n});return new wf(i).toPromise()}async function s7(e,t){const n=Pp(e,!1).get(t),i=await new wf(n).toPromise();return i===void 0?null:i.value}function Yx(e,t){const n=Pp(e,!0).delete(t);return new wf(n).toPromise()}const r7=800,a7=3;class L2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P0(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>a7)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ip._getInstance(e7()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Jz(),!this.activeServiceWorker)return;this.sender=new Xz(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||t7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await P0();return await Qx(t,ep,"1"),await Yx(t,ep),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qx(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>s7(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yx(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Pp(r,!1).getAll();return new wf(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L2.type="LOCAL";const o7=L2;new Sf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(e,t){return t?Ws(t):(wt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends UT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ou(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ou(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ou(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function u7(e){return D2(e.auth,new FT(e),e.bypassAuthState)}function c7(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),Uz(n,new FT(e),e.bypassAuthState)}async function h7(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),Lz(n,new FT(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,n,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:u,type:h}=t;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return u7;case"linkViaPopup":case"linkViaRedirect":return h7;case"reauthViaPopup":case"reauthViaRedirect":return c7;default:ji(this.auth,"internal-error")}}resolve(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=new Sf(2e3,1e4);class su extends U2{constructor(t,n,i,r,o){super(t,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,su.currentPopupAction&&su.currentPopupAction.cancel(),su.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const t=BT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,su.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,f7.get())};t()}}su.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7="pendingRedirect",Am=new Map;class m7 extends U2{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Am.get(this.auth._key());if(!t){try{const i=await p7(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Am.set(this.auth._key(),t)}return this.bypassAuthState||Am.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p7(e,t){const n=v7(t),i=y7(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function g7(e,t){Am.set(e._key(),t)}function y7(e){return Ws(e._redirectPersistence)}function v7(e){return Sm(d7,e.config.apiKey,e.name)}async function _7(e,t,n=!1){if(ki(e.app))return Promise.reject(_a(e));const i=Qo(e),r=l7(i,t),u=await new m7(i,r,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=10*60*1e3;class b7{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!E7(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!j2(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(fs(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=T7&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wx(t))}saveEventToCache(t){this.cachedEventUids.add(Wx(t)),this.lastProcessedEventTime=Date.now()}}function Wx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function j2({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function E7(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j2(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(e,t={}){return dr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w7=/^https?/;async function x7(e){if(e.config.emulator)return;const{authorizedDomains:t}=await S7(e);for(const n of t)try{if(R7(n))return}catch{}ji(e,"unauthorized-domain")}function R7(e){const t=C0(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const u=new URL(e);return u.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!w7.test(n))return!1;if(A7.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=new Sf(3e4,6e4);function Xx(){const e=ds().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function D7(e){return new Promise((t,n)=>{var i,r,o;function u(){Xx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xx(),n(fs(e,"network-request-failed"))},timeout:C7.get()})}if(!((r=(i=ds().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=ds().gapi)===null||o===void 0)&&o.load)u();else{const h=vz("iframefcb");return ds()[h]=()=>{gapi.load?u():n(fs(e,"network-request-failed"))},A2(`${yz()}?onload=${h}`).catch(f=>n(f))}}).catch(t=>{throw wm=null,t})}let wm=null;function I7(e){return wm=wm||D7(e),wm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=new Sf(5e3,15e3),V7="__/auth/iframe",M7="emulator/auth/iframe",O7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k7(e){const t=e.config;wt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?NT(t,M7):`https://${e.config.authDomain}/${V7}`,i={apiKey:t.apiKey,appName:e.name,v:Hu},r=N7.get(e.config.apiHost);r&&(i.eid=r);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Ef(i).slice(1)}`}async function L7(e){const t=await I7(e),n=ds().gapi;return wt(n,e,"internal-error"),t.open({where:document.body,url:k7(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O7,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const u=fs(e,"network-request-failed"),h=ds().setTimeout(()=>{o(u)},P7.get());function f(){ds().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j7=500,B7=600,F7="_blank",$7="http://localhost";class Zx{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z7(e,t,n,i=j7,r=B7){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},U7),{width:i.toString(),height:r.toString(),top:o,left:u}),d=An().toLowerCase();n&&(h=y2(d)?F7:n),p2(d)&&(t=t||$7,f.scrollbars="yes");const g=Object.entries(f).reduce((_,[S,A])=>`${_}${S}=${A},`,"");if(lz(d)&&h!=="_self")return H7(t||"",h),new Zx(null);const v=window.open(t||"",h,g);wt(v,e,"popup-blocked");try{v.focus()}catch{}return new Zx(v)}function H7(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7="__/auth/handler",G7="emulator/auth/handler",K7=encodeURIComponent("fac");async function Jx(e,t,n,i,r,o){wt(e.config.authDomain,e,"auth-domain-config-required"),wt(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Hu,eventId:r};if(t instanceof R2){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",IF(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(t instanceof Af){const g=t.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}e.tenantId&&(u.tid=e.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await e._getAppCheckToken(),d=f?`#${K7}=${encodeURIComponent(f)}`:"";return`${Q7(e)}?${Ef(h).slice(1)}${d}`}function Q7({config:e}){return e.emulator?NT(e,G7):`https://${e.authDomain}/${q7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="webStorageSupport";class Y7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M2,this._completeRedirectFn=_7,this._overrideRedirectResult=g7}async _openPopup(t,n,i,r){var o;lr((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Jx(t,n,i,C0(),r);return z7(t,u,BT())}async _openRedirect(t,n,i,r){await this._originValidation(t);const o=await Jx(t,n,i,C0(),r);return Zz(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(lr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await L7(t),i=new b7(t);return n.register("authEvent",r=>(wt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ov,{type:Ov},r=>{var o;const u=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Ov];u!==void 0&&n(!!u),ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x7(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return E2()||g2()||LT()}}const W7=Y7;var tR="@firebase/auth",eR="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J7(e){Iu(new Uo("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;wt(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S2(e)},d=new mz(i,r,o,f);return Az(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Iu(new Uo("auth-internal",t=>{const n=Qo(t.getProvider("auth").getImmediate());return(i=>new X7(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),va(tR,eR,Z7(e)),va(tR,eR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH=5*60,eH=t2("authIdTokenMaxAge")||tH;let nR=null;const nH=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>eH)return;const r=n==null?void 0:n.token;nR!==r&&(nR=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function iH(e=s2()){const t=VT(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Sz(e,{popupRedirectResolver:W7,persistence:[o7,Yz,M2]}),i=t2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=nH(o.toString());Hz(n,u,()=>u(n.currentUser)),zz(n,h=>u(h))}}const r=ZP("auth");return r&&wz(n,`http://${r}`),n}function sH(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}pz({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const o=fs("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",sH().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J7("Browser");var rH="firebase",aH="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */va(rH,aH,"app");var iR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,B2;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function x(){}x.prototype=w.prototype,M.D=w.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(V,B,G){for(var L=Array(arguments.length-2),se=2;se<arguments.length;se++)L[se-2]=arguments[se];return w.prototype[B].apply(V,L)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,w,x){x||(x=0);var V=Array(16);if(typeof w=="string")for(var B=0;16>B;++B)V[B]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(B=0;16>B;++B)V[B]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=M.g[0],x=M.g[1],B=M.g[2];var G=M.g[3],L=w+(G^x&(B^G))+V[0]+3614090360&4294967295;w=x+(L<<7&4294967295|L>>>25),L=G+(B^w&(x^B))+V[1]+3905402710&4294967295,G=w+(L<<12&4294967295|L>>>20),L=B+(x^G&(w^x))+V[2]+606105819&4294967295,B=G+(L<<17&4294967295|L>>>15),L=x+(w^B&(G^w))+V[3]+3250441966&4294967295,x=B+(L<<22&4294967295|L>>>10),L=w+(G^x&(B^G))+V[4]+4118548399&4294967295,w=x+(L<<7&4294967295|L>>>25),L=G+(B^w&(x^B))+V[5]+1200080426&4294967295,G=w+(L<<12&4294967295|L>>>20),L=B+(x^G&(w^x))+V[6]+2821735955&4294967295,B=G+(L<<17&4294967295|L>>>15),L=x+(w^B&(G^w))+V[7]+4249261313&4294967295,x=B+(L<<22&4294967295|L>>>10),L=w+(G^x&(B^G))+V[8]+1770035416&4294967295,w=x+(L<<7&4294967295|L>>>25),L=G+(B^w&(x^B))+V[9]+2336552879&4294967295,G=w+(L<<12&4294967295|L>>>20),L=B+(x^G&(w^x))+V[10]+4294925233&4294967295,B=G+(L<<17&4294967295|L>>>15),L=x+(w^B&(G^w))+V[11]+2304563134&4294967295,x=B+(L<<22&4294967295|L>>>10),L=w+(G^x&(B^G))+V[12]+1804603682&4294967295,w=x+(L<<7&4294967295|L>>>25),L=G+(B^w&(x^B))+V[13]+4254626195&4294967295,G=w+(L<<12&4294967295|L>>>20),L=B+(x^G&(w^x))+V[14]+2792965006&4294967295,B=G+(L<<17&4294967295|L>>>15),L=x+(w^B&(G^w))+V[15]+1236535329&4294967295,x=B+(L<<22&4294967295|L>>>10),L=w+(B^G&(x^B))+V[1]+4129170786&4294967295,w=x+(L<<5&4294967295|L>>>27),L=G+(x^B&(w^x))+V[6]+3225465664&4294967295,G=w+(L<<9&4294967295|L>>>23),L=B+(w^x&(G^w))+V[11]+643717713&4294967295,B=G+(L<<14&4294967295|L>>>18),L=x+(G^w&(B^G))+V[0]+3921069994&4294967295,x=B+(L<<20&4294967295|L>>>12),L=w+(B^G&(x^B))+V[5]+3593408605&4294967295,w=x+(L<<5&4294967295|L>>>27),L=G+(x^B&(w^x))+V[10]+38016083&4294967295,G=w+(L<<9&4294967295|L>>>23),L=B+(w^x&(G^w))+V[15]+3634488961&4294967295,B=G+(L<<14&4294967295|L>>>18),L=x+(G^w&(B^G))+V[4]+3889429448&4294967295,x=B+(L<<20&4294967295|L>>>12),L=w+(B^G&(x^B))+V[9]+568446438&4294967295,w=x+(L<<5&4294967295|L>>>27),L=G+(x^B&(w^x))+V[14]+3275163606&4294967295,G=w+(L<<9&4294967295|L>>>23),L=B+(w^x&(G^w))+V[3]+4107603335&4294967295,B=G+(L<<14&4294967295|L>>>18),L=x+(G^w&(B^G))+V[8]+1163531501&4294967295,x=B+(L<<20&4294967295|L>>>12),L=w+(B^G&(x^B))+V[13]+2850285829&4294967295,w=x+(L<<5&4294967295|L>>>27),L=G+(x^B&(w^x))+V[2]+4243563512&4294967295,G=w+(L<<9&4294967295|L>>>23),L=B+(w^x&(G^w))+V[7]+1735328473&4294967295,B=G+(L<<14&4294967295|L>>>18),L=x+(G^w&(B^G))+V[12]+2368359562&4294967295,x=B+(L<<20&4294967295|L>>>12),L=w+(x^B^G)+V[5]+4294588738&4294967295,w=x+(L<<4&4294967295|L>>>28),L=G+(w^x^B)+V[8]+2272392833&4294967295,G=w+(L<<11&4294967295|L>>>21),L=B+(G^w^x)+V[11]+1839030562&4294967295,B=G+(L<<16&4294967295|L>>>16),L=x+(B^G^w)+V[14]+4259657740&4294967295,x=B+(L<<23&4294967295|L>>>9),L=w+(x^B^G)+V[1]+2763975236&4294967295,w=x+(L<<4&4294967295|L>>>28),L=G+(w^x^B)+V[4]+1272893353&4294967295,G=w+(L<<11&4294967295|L>>>21),L=B+(G^w^x)+V[7]+4139469664&4294967295,B=G+(L<<16&4294967295|L>>>16),L=x+(B^G^w)+V[10]+3200236656&4294967295,x=B+(L<<23&4294967295|L>>>9),L=w+(x^B^G)+V[13]+681279174&4294967295,w=x+(L<<4&4294967295|L>>>28),L=G+(w^x^B)+V[0]+3936430074&4294967295,G=w+(L<<11&4294967295|L>>>21),L=B+(G^w^x)+V[3]+3572445317&4294967295,B=G+(L<<16&4294967295|L>>>16),L=x+(B^G^w)+V[6]+76029189&4294967295,x=B+(L<<23&4294967295|L>>>9),L=w+(x^B^G)+V[9]+3654602809&4294967295,w=x+(L<<4&4294967295|L>>>28),L=G+(w^x^B)+V[12]+3873151461&4294967295,G=w+(L<<11&4294967295|L>>>21),L=B+(G^w^x)+V[15]+530742520&4294967295,B=G+(L<<16&4294967295|L>>>16),L=x+(B^G^w)+V[2]+3299628645&4294967295,x=B+(L<<23&4294967295|L>>>9),L=w+(B^(x|~G))+V[0]+4096336452&4294967295,w=x+(L<<6&4294967295|L>>>26),L=G+(x^(w|~B))+V[7]+1126891415&4294967295,G=w+(L<<10&4294967295|L>>>22),L=B+(w^(G|~x))+V[14]+2878612391&4294967295,B=G+(L<<15&4294967295|L>>>17),L=x+(G^(B|~w))+V[5]+4237533241&4294967295,x=B+(L<<21&4294967295|L>>>11),L=w+(B^(x|~G))+V[12]+1700485571&4294967295,w=x+(L<<6&4294967295|L>>>26),L=G+(x^(w|~B))+V[3]+2399980690&4294967295,G=w+(L<<10&4294967295|L>>>22),L=B+(w^(G|~x))+V[10]+4293915773&4294967295,B=G+(L<<15&4294967295|L>>>17),L=x+(G^(B|~w))+V[1]+2240044497&4294967295,x=B+(L<<21&4294967295|L>>>11),L=w+(B^(x|~G))+V[8]+1873313359&4294967295,w=x+(L<<6&4294967295|L>>>26),L=G+(x^(w|~B))+V[15]+4264355552&4294967295,G=w+(L<<10&4294967295|L>>>22),L=B+(w^(G|~x))+V[6]+2734768916&4294967295,B=G+(L<<15&4294967295|L>>>17),L=x+(G^(B|~w))+V[13]+1309151649&4294967295,x=B+(L<<21&4294967295|L>>>11),L=w+(B^(x|~G))+V[4]+4149444226&4294967295,w=x+(L<<6&4294967295|L>>>26),L=G+(x^(w|~B))+V[11]+3174756917&4294967295,G=w+(L<<10&4294967295|L>>>22),L=B+(w^(G|~x))+V[2]+718787259&4294967295,B=G+(L<<15&4294967295|L>>>17),L=x+(G^(B|~w))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(B+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+B&4294967295,M.g[3]=M.g[3]+G&4294967295}i.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var x=w-this.blockSize,V=this.B,B=this.h,G=0;G<w;){if(B==0)for(;G<=x;)r(this,M,G),G+=this.blockSize;if(typeof M=="string"){for(;G<w;)if(V[B++]=M.charCodeAt(G++),B==this.blockSize){r(this,V),B=0;break}}else for(;G<w;)if(V[B++]=M[G++],B==this.blockSize){r(this,V),B=0;break}}this.h=B,this.o+=w},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var x=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=x&255,x/=256;for(this.u(M),M=Array(16),w=x=0;4>w;++w)for(var V=0;32>V;V+=8)M[x++]=this.g[w]>>>V&255;return M};function o(M,w){var x=h;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=w(M)}function u(M,w){this.h=w;for(var x=[],V=!0,B=M.length-1;0<=B;B--){var G=M[B]|0;V&&G==w||(x[B]=G,V=!1)}this.g=x}var h={};function f(M){return-128<=M&&128>M?o(M,function(w){return new u([w|0],0>w?-1:0)}):new u([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return v;if(0>M)return I(d(-M));for(var w=[],x=1,V=0;M>=x;V++)w[V]=M/x|0,x*=4294967296;return new u(w,0)}function g(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return I(g(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=d(Math.pow(w,8)),V=v,B=0;B<M.length;B+=8){var G=Math.min(8,M.length-B),L=parseInt(M.substring(B,B+G),w);8>G?(G=d(Math.pow(w,G)),V=V.j(G).add(d(L))):(V=V.j(x),V=V.add(d(L)))}return V}var v=f(0),_=f(1),S=f(16777216);e=u.prototype,e.m=function(){if(R(this))return-I(this).m();for(var M=0,w=1,x=0;x<this.g.length;x++){var V=this.i(x);M+=(0<=V?V:4294967296+V)*w,w*=4294967296}return M},e.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(A(this))return"0";if(R(this))return"-"+I(this).toString(M);for(var w=d(Math.pow(M,6)),x=this,V="";;){var B=W(x,w).g;x=P(x,B.j(w));var G=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=B,A(x))return G+V;for(;6>G.length;)G="0"+G;V=G+V}},e.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function A(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function R(M){return M.h==-1}e.l=function(M){return M=P(this,M),R(M)?-1:A(M)?0:1};function I(M){for(var w=M.g.length,x=[],V=0;V<w;V++)x[V]=~M.g[V];return new u(x,~M.h).add(_)}e.abs=function(){return R(this)?I(this):this},e.add=function(M){for(var w=Math.max(this.g.length,M.g.length),x=[],V=0,B=0;B<=w;B++){var G=V+(this.i(B)&65535)+(M.i(B)&65535),L=(G>>>16)+(this.i(B)>>>16)+(M.i(B)>>>16);V=L>>>16,G&=65535,L&=65535,x[B]=L<<16|G}return new u(x,x[x.length-1]&-2147483648?-1:0)};function P(M,w){return M.add(I(w))}e.j=function(M){if(A(this)||A(M))return v;if(R(this))return R(M)?I(this).j(I(M)):I(I(this).j(M));if(R(M))return I(this.j(I(M)));if(0>this.l(S)&&0>M.l(S))return d(this.m()*M.m());for(var w=this.g.length+M.g.length,x=[],V=0;V<2*w;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(var B=0;B<M.g.length;B++){var G=this.i(V)>>>16,L=this.i(V)&65535,se=M.i(B)>>>16,ce=M.i(B)&65535;x[2*V+2*B]+=L*ce,j(x,2*V+2*B),x[2*V+2*B+1]+=G*ce,j(x,2*V+2*B+1),x[2*V+2*B+1]+=L*se,j(x,2*V+2*B+1),x[2*V+2*B+2]+=G*se,j(x,2*V+2*B+2)}for(V=0;V<w;V++)x[V]=x[2*V+1]<<16|x[2*V];for(V=w;V<2*w;V++)x[V]=0;return new u(x,0)};function j(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function U(M,w){this.g=M,this.h=w}function W(M,w){if(A(w))throw Error("division by zero");if(A(M))return new U(v,v);if(R(M))return w=W(I(M),w),new U(I(w.g),I(w.h));if(R(w))return w=W(M,I(w)),new U(I(w.g),w.h);if(30<M.g.length){if(R(M)||R(w))throw Error("slowDivide_ only works with positive integers.");for(var x=_,V=w;0>=V.l(M);)x=z(x),V=z(V);var B=tt(x,1),G=tt(V,1);for(V=tt(V,2),x=tt(x,2);!A(V);){var L=G.add(V);0>=L.l(M)&&(B=B.add(x),G=L),V=tt(V,1),x=tt(x,1)}return w=P(M,B.j(w)),new U(B,w)}for(B=v;0<=M.l(w);){for(x=Math.max(1,Math.floor(M.m()/w.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),G=d(x),L=G.j(w);R(L)||0<L.l(M);)x-=V,G=d(x),L=G.j(w);A(G)&&(G=_),B=B.add(G),M=P(M,L)}return new U(B,M)}e.A=function(M){return W(this,M).h},e.and=function(M){for(var w=Math.max(this.g.length,M.g.length),x=[],V=0;V<w;V++)x[V]=this.i(V)&M.i(V);return new u(x,this.h&M.h)},e.or=function(M){for(var w=Math.max(this.g.length,M.g.length),x=[],V=0;V<w;V++)x[V]=this.i(V)|M.i(V);return new u(x,this.h|M.h)},e.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),x=[],V=0;V<w;V++)x[V]=this.i(V)^M.i(V);return new u(x,this.h^M.h)};function z(M){for(var w=M.g.length+1,x=[],V=0;V<w;V++)x[V]=M.i(V)<<1|M.i(V-1)>>>31;return new u(x,M.h)}function tt(M,w){var x=w>>5;w%=32;for(var V=M.g.length-x,B=[],G=0;G<V;G++)B[G]=0<w?M.i(G+x)>>>w|M.i(G+x+1)<<32-w:M.i(G+x);return new u(B,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,B2=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Ta=u}).apply(typeof iR<"u"?iR:typeof self<"u"?self:typeof window<"u"?window:{});var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F2,gh,$2,xm,V0,z2,H2,q2;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,T,b){return m==Array.prototype||m==Object.prototype||(m[T]=b.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof lm=="object"&&lm];for(var T=0;T<m.length;++T){var b=m[T];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function r(m,T){if(T)t:{var b=i;m=m.split(".");for(var D=0;D<m.length-1;D++){var Q=m[D];if(!(Q in b))break t;b=b[Q]}m=m[m.length-1],D=b[m],T=T(D),T!=D&&T!=null&&t(b,m,{configurable:!0,writable:!0,value:T})}}function o(m,T){m instanceof String&&(m+="");var b=0,D=!1,Q={next:function(){if(!D&&b<m.length){var Z=b++;return{value:T(Z,m[Z]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}r("Array.prototype.values",function(m){return m||function(){return o(this,function(T,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(m){var T=typeof m;return T=T!="object"?T:m?Array.isArray(m)?"array":T:"null",T=="array"||T=="object"&&typeof m.length=="number"}function d(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function g(m,T,b){return m.call.apply(m.bind,arguments)}function v(m,T,b){if(!m)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),m.apply(T,Q)}}return function(){return m.apply(T,arguments)}}function _(m,T,b){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function S(m,T){var b=Array.prototype.slice.call(arguments,1);return function(){var D=b.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function A(m,T){function b(){}b.prototype=T.prototype,m.aa=T.prototype,m.prototype=new b,m.prototype.constructor=m,m.Qb=function(D,Q,Z){for(var ut=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)ut[zt-2]=arguments[zt];return T.prototype[Q].apply(D,ut)}}function R(m){const T=m.length;if(0<T){const b=Array(T);for(let D=0;D<T;D++)b[D]=m[D];return b}return[]}function I(m,T){for(let b=1;b<arguments.length;b++){const D=arguments[b];if(f(D)){const Q=m.length||0,Z=D.length||0;m.length=Q+Z;for(let ut=0;ut<Z;ut++)m[Q+ut]=D[ut]}else m.push(D)}}class P{constructor(T,b){this.i=T,this.j=b,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function j(m){return/^[\s\xa0]*$/.test(m)}function U(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function W(m){return W[" "](m),m}W[" "]=function(){};var z=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function tt(m,T,b){for(const D in m)T.call(b,m[D],D,m)}function M(m,T){for(const b in m)T.call(void 0,m[b],b,m)}function w(m){const T={};for(const b in m)T[b]=m[b];return T}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(m,T){let b,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(b in D)m[b]=D[b];for(let Z=0;Z<x.length;Z++)b=x[Z],Object.prototype.hasOwnProperty.call(D,b)&&(m[b]=D[b])}}function B(m){var T=1;m=m.split(":");const b=[];for(;0<T&&m.length;)b.push(m.shift()),T--;return m.length&&b.push(m.join(":")),b}function G(m){h.setTimeout(()=>{throw m},0)}function L(){var m=It;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class se{constructor(){this.h=this.g=null}add(T,b){const D=ce.get();D.set(T,b),this.h?this.h.next=D:this.g=D,this.h=D}}var ce=new P(()=>new J,m=>m.reset());class J{constructor(){this.next=this.g=this.h=null}set(T,b){this.h=T,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ct=!1,It=new se,$=()=>{const m=h.Promise.resolve(void 0);ot=()=>{m.then(lt)}};var lt=()=>{for(var m;m=L();){try{m.h.call(m.g)}catch(b){G(b)}var T=ce;T.j(m),100>T.h&&(T.h++,m.next=T.g,T.g=m)}ct=!1};function vt(){this.s=this.s,this.C=this.C}vt.prototype.s=!1,vt.prototype.ma=function(){this.s||(this.s=!0,this.N())},vt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const b=()=>{};h.addEventListener("test",b,T),h.removeEventListener("test",b,T)}catch{}return m}();function Mt(m,T){if(ft.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var b=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget){if(z){t:{try{W(T.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(T=null)}}else b=="mouseover"?T=m.fromElement:b=="mouseout"&&(T=m.toElement);this.relatedTarget=T,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Pt[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Mt.aa.h.call(this)}}A(Mt,ft);var Pt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function ve(m,T,b,D,Q){this.listener=m,this.proxy=null,this.src=T,this.type=b,this.capture=!!D,this.ha=Q,this.key=++Kt,this.da=this.fa=!1}function te(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function wn(m){this.src=m,this.g={},this.h=0}wn.prototype.add=function(m,T,b,D,Q){var Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);var ut=ti(m,T,D,Q);return-1<ut?(T=m[ut],b||(T.fa=!1)):(T=new ve(T,this.src,Z,!!D,Q),T.fa=b,m.push(T)),T};function _s(m,T){var b=T.type;if(b in m.g){var D=m.g[b],Q=Array.prototype.indexOf.call(D,T,void 0),Z;(Z=0<=Q)&&Array.prototype.splice.call(D,Q,1),Z&&(te(T),m.g[b].length==0&&(delete m.g[b],m.h--))}}function ti(m,T,b,D){for(var Q=0;Q<m.length;++Q){var Z=m[Q];if(!Z.da&&Z.listener==T&&Z.capture==!!b&&Z.ha==D)return Q}return-1}var mr="closure_lm_"+(1e6*Math.random()|0),pr={};function Ts(m,T,b,D,Q){if(Array.isArray(T)){for(var Z=0;Z<T.length;Z++)Ts(m,T[Z],b,D,Q);return null}return b=Vf(b),m&&m[Pe]?m.K(T,b,d(D)?!!D.capture:!1,Q):Zu(m,T,b,!1,D,Q)}function Zu(m,T,b,D,Q,Z){if(!T)throw Error("Invalid event type");var ut=d(Q)?!!Q.capture:!!Q,zt=Ju(m);if(zt||(m[mr]=zt=new wn(m)),b=zt.add(T,b,D,ut,Z),b.proxy)return b;if(D=Zo(),b.proxy=D,D.src=m,D.listener=b,m.addEventListener)dt||(Q=ut),Q===void 0&&(Q=!1),m.addEventListener(T.toString(),D,Q);else if(m.attachEvent)m.attachEvent(tl(T.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Zo(){function m(b){return T.call(m.src,m.listener,b)}const T=Wp;return m}function Jo(m,T,b,D,Q){if(Array.isArray(T))for(var Z=0;Z<T.length;Z++)Jo(m,T[Z],b,D,Q);else D=d(D)?!!D.capture:!!D,b=Vf(b),m&&m[Pe]?(m=m.i,T=String(T).toString(),T in m.g&&(Z=m.g[T],b=ti(Z,b,D,Q),-1<b&&(te(Z[b]),Array.prototype.splice.call(Z,b,1),Z.length==0&&(delete m.g[T],m.h--)))):m&&(m=Ju(m))&&(T=m.g[T.toString()],m=-1,T&&(m=ti(T,b,D,Q)),(b=-1<m?T[m]:null)&&La(b))}function La(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[Pe])_s(T.i,m);else{var b=m.type,D=m.proxy;T.removeEventListener?T.removeEventListener(b,D,m.capture):T.detachEvent?T.detachEvent(tl(b),D):T.addListener&&T.removeListener&&T.removeListener(D),(b=Ju(T))?(_s(b,m),b.h==0&&(b.src=null,T[mr]=null)):te(m)}}}function tl(m){return m in pr?pr[m]:pr[m]="on"+m}function Wp(m,T){if(m.da)m=!0;else{T=new Mt(T,this);var b=m.listener,D=m.ha||m.src;m.fa&&La(m),m=b.call(D,T)}return m}function Ju(m){return m=m[mr],m instanceof wn?m:null}var kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vf(m){return typeof m=="function"?m:(m[kn]||(m[kn]=function(T){return m.handleEvent(T)}),m[kn])}function Le(){vt.call(this),this.i=new wn(this),this.M=this,this.F=null}A(Le,vt),Le.prototype[Pe]=!0,Le.prototype.removeEventListener=function(m,T,b,D){Jo(this,m,T,b,D)};function Ke(m,T){var b,D=m.F;if(D)for(b=[];D;D=D.F)b.push(D);if(m=m.M,D=T.type||T,typeof T=="string")T=new ft(T,m);else if(T instanceof ft)T.target=T.target||m;else{var Q=T;T=new ft(D,m),V(T,Q)}if(Q=!0,b)for(var Z=b.length-1;0<=Z;Z--){var ut=T.g=b[Z];Q=bs(ut,D,!0,T)&&Q}if(ut=T.g=m,Q=bs(ut,D,!0,T)&&Q,Q=bs(ut,D,!1,T)&&Q,b)for(Z=0;Z<b.length;Z++)ut=T.g=b[Z],Q=bs(ut,D,!1,T)&&Q}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var m=this.i,T;for(T in m.g){for(var b=m.g[T],D=0;D<b.length;D++)te(b[D]);delete m.g[T],m.h--}}this.F=null},Le.prototype.K=function(m,T,b,D){return this.i.add(String(m),T,!1,b,D)},Le.prototype.L=function(m,T,b,D){return this.i.add(String(m),T,!0,b,D)};function bs(m,T,b,D){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();for(var Q=!0,Z=0;Z<T.length;++Z){var ut=T[Z];if(ut&&!ut.da&&ut.capture==b){var zt=ut.listener,je=ut.ha||ut.src;ut.fa&&_s(m.i,ut),Q=zt.call(je,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function Mf(m,T,b){if(typeof m=="function")b&&(m=_(m,b));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:h.setTimeout(m,T||0)}function tc(m){m.g=Mf(()=>{m.g=null,m.i&&(m.i=!1,tc(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Xp extends vt{constructor(T,b){super(),this.m=T,this.l=b,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:tc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(m){vt.call(this),this.h=m,this.g={}}A(Ua,vt);var gr=[];function dn(m){tt(m.g,function(T,b){this.g.hasOwnProperty(b)&&La(T)},m),m.g={}}Ua.prototype.N=function(){Ua.aa.N.call(this),dn(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ec=h.JSON.stringify,$i=h.JSON.parse,xn=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function nc(){}nc.prototype.h=null;function Of(m){return m.h||(m.h=m.i())}function Nf(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yr(){ft.call(this,"d")}A(yr,ft);function wi(){ft.call(this,"c")}A(wi,ft);var ei={},vr=null;function el(){return vr=vr||new Le}ei.La="serverreachability";function ic(m){ft.call(this,ei.La,m)}A(ic,ft);function _r(m){const T=el();Ke(T,new ic(T))}ei.STAT_EVENT="statevent";function nl(m,T){ft.call(this,ei.STAT_EVENT,m),this.stat=T}A(nl,ft);function xe(m){const T=el();Ke(T,new nl(T,m))}ei.Ma="timingevent";function kf(m,T){ft.call(this,ei.Ma,m),this.size=T}A(kf,ft);function Tr(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},T)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function Lf(m,T,b,D,Q,Z){m.info(function(){if(m.g)if(Z)for(var ut="",zt=Z.split("&"),je=0;je<zt.length;je++){var Ht=zt[je].split("=");if(1<Ht.length){var We=Ht[0];Ht=Ht[1];var Be=We.split("_");ut=2<=Be.length&&Be[1]=="type"?ut+(We+"="+Ht+"&"):ut+(We+"=redacted&")}}else ut=null;else ut=Z;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+T+`
`+b+`
`+ut})}function Uf(m,T,b,D,Q,Z,ut){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+T+`
`+b+`
`+Z+" "+ut})}function Er(m,T,b,D){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Qe(m,b)+(D?" "+D:"")})}function Hi(m,T){m.info(function(){return"TIMEOUT: "+T})}br.prototype.info=function(){};function Qe(m,T){if(!m.g)return T;if(!T)return null;try{var b=JSON.parse(T);if(b){for(m=0;m<b.length;m++)if(Array.isArray(b[m])){var D=b[m];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var Z=Q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ut=1;ut<Q.length;ut++)Q[ut]=""}}}}return ec(b)}catch{return T}}var Ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Es={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ja;function il(){}A(il,nc),il.prototype.g=function(){return new XMLHttpRequest},il.prototype.i=function(){return{}},ja=new il;function qi(m,T,b,D){this.j=m,this.i=T,this.l=b,this.R=D||1,this.U=new Ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sc}function sc(){this.i=null,this.g="",this.h=!1}var Sr={},Ba={};function xi(m,T,b){m.L=1,m.v=za(_e(T)),m.m=b,m.P=!0,Ss(m,null)}function Ss(m,T){m.F=Date.now(),he(m),m.A=_e(m.v);var b=m.A,D=m.R;Array.isArray(D)||(D=[String(D)]),xs(b.i,"t",D),m.C=0,b=m.j.J,m.h=new sc,m.g=Zf(m.j,b?T:null,!m.m),0<m.O&&(m.M=new Xp(_(m.Y,m,m.g),m.O)),T=m.U,b=m.g,D=m.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(gr[0]=Q.toString()),Q=gr);for(var Z=0;Z<Q.length;Z++){var ut=Ts(b,Q[Z],D||T.handleEvent,!1,T.h||T);if(!ut)break;T.g[ut.key]=ut}T=m.H?w(m.H):{},m.m?(m.u||(m.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,T)):(m.u="GET",m.g.ea(m.A,m.u,null,T)),_r(),Lf(m.i,m.u,m.A,m.l,m.R,m.m)}qi.prototype.ca=function(m){m=m.target;const T=this.M;T&&ai(m)==3?T.j():this.Y(m)},qi.prototype.Y=function(m){try{if(m==this.g)t:{const Be=ai(this.g);var T=this.g.Ba();const Is=this.g.Z();if(!(3>Be)&&(Be!=3||this.g&&(this.h.h||this.g.oa()||Hf(this.g)))){this.J||Be!=4||T==7||(T==8||0>=Is?_r(3):_r(2)),sl(this);var b=this.g.Z();this.X=b;e:if(Ar(this)){var D=Hf(this.g);m="";var Q=D.length,Z=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),zn(this);var ut="";break e}this.h.i=new h.TextDecoder}for(T=0;T<Q;T++)this.h.h=!0,m+=this.h.i.decode(D[T],{stream:!(Z&&T==Q-1)});D.length=0,this.h.g+=m,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=b==200,Uf(this.i,this.u,this.A,this.l,this.R,Be,b),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,je=this.g;if((zt=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(zt)){var Ht=zt;break e}}Ht=null}if(b=Ht)Er(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hn(this,b);else{this.o=!1,this.s=3,xe(12),Ln(this),zn(this);break t}}if(this.P){b=!0;let nn;for(;!this.J&&this.C<ut.length;)if(nn=wr(this,ut),nn==Ba){Be==4&&(this.s=4,xe(14),b=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Sr){this.s=4,xe(15),Er(this.i,this.l,ut,"[Invalid Chunk]"),b=!1;break}else Er(this.i,this.l,nn,null),Hn(this,nn);if(Ar(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||ut.length!=0||this.h.h||(this.s=1,xe(16),b=!1),this.o=this.o&&b,!b)Er(this.i,this.l,ut,"[Invalid Chunked Response]"),Ln(this),zn(this);else if(0<ut.length&&!this.W){this.W=!0;var We=this.j;We.g==this&&We.ba&&!We.M&&(We.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Wa(We),We.M=!0,xe(11))}}else Er(this.i,this.l,ut,null),Hn(this,ut);Be==4&&Ln(this),this.o&&!this.J&&(Be==4?Yf(this.j,this):(this.o=!1,he(this)))}else ig(this.g),b==400&&0<ut.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),Ln(this),zn(this)}}}catch{}finally{}};function Ar(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function wr(m,T){var b=m.C,D=T.indexOf(`
`,b);return D==-1?Ba:(b=Number(T.substring(b,D)),isNaN(b)?Sr:(D+=1,D+b>T.length?Ba:(T=T.slice(D,D+b),m.C=D+b,T)))}qi.prototype.cancel=function(){this.J=!0,Ln(this)};function he(m){m.S=Date.now()+m.I,rc(m,m.I)}function rc(m,T){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Tr(_(m.ba,m),T)}function sl(m){m.B&&(h.clearTimeout(m.B),m.B=null)}qi.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Hi(this.i,this.A),this.L!=2&&(_r(),xe(17)),Ln(this),this.s=2,zn(this)):rc(this,this.S-m)};function zn(m){m.j.G==0||m.J||Yf(m.j,m)}function Ln(m){sl(m);var T=m.M;T&&typeof T.ma=="function"&&T.ma(),m.M=null,dn(m.U),m.g&&(T=m.g,m.g=null,T.abort(),T.ma())}function Hn(m,T){try{var b=m.j;if(b.G!=0&&(b.g==m||xr(b.h,m))){if(!m.K&&xr(b.h,m)&&b.G==3){try{var D=b.Da.g.parse(T)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<m.F)ml(b),fl(b);else break t;gc(b),xe(18)}}else b.za=Q[1],0<b.za-b.T&&37500>Q[2]&&b.F&&b.v==0&&!b.C&&(b.C=Tr(_(b.Za,b),6e3));if(1>=jf(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Ds(b,11)}else if((m.K||b.g==m)&&ml(b),!j(T))for(Q=b.Da.g.parse(T),T=0;T<Q.length;T++){let Ht=Q[T];if(b.T=Ht[0],Ht=Ht[1],b.G==2)if(Ht[0]=="c"){b.K=Ht[1],b.ia=Ht[2];const We=Ht[3];We!=null&&(b.la=We,b.j.info("VER="+b.la));const Be=Ht[4];Be!=null&&(b.Aa=Be,b.j.info("SVER="+b.Aa));const Is=Ht[5];Is!=null&&typeof Is=="number"&&0<Is&&(D=1.5*Is,b.L=D,b.j.info("backChannelRequestTimeoutMs_="+D)),D=b;const nn=m.g;if(nn){const Zi=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var Z=D.h;Z.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Rr(Z,Z.h),Z.h=null))}if(D.D){const vc=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;vc&&(D.ya=vc,Qt(D.I,D.D,vc))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-m.F,b.j.info("Handshake RTT: "+b.R+"ms")),D=b;var ut=m;if(D.qa=Xf(D,D.J?D.ia:null,D.W),ut.K){ni(D.h,ut);var zt=ut,je=D.L;je&&(zt.I=je),zt.B&&(sl(zt),he(zt)),D.g=ut}else Kf(D);0<b.i.length&&dl(b)}else Ht[0]!="stop"&&Ht[0]!="close"||Ds(b,7);else b.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ds(b,7):mc(b):Ht[0]!="noop"&&b.l&&b.l.ta(Ht),b.v=0)}}_r(4)}catch{}}var Zp=class{constructor(m,T){this.g=m,this.map=T}};function ac(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function jf(m){return m.h?1:m.g?m.g.size:0}function xr(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Rr(m,T){m.g?m.g.add(T):m.h=T}function ni(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}ac.prototype.cancel=function(){if(this.i=Rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Rn(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const b of m.g.values())T=T.concat(b.D);return T}return R(m.i)}function Bf(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var T=[],b=m.length,D=0;D<b;D++)T.push(m[D]);return T}T=[],b=0;for(D in m)T[b++]=m[D];return T}function Jp(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var T=[];m=m.length;for(var b=0;b<m;b++)T.push(b);return T}T=[],b=0;for(const D in m)T[b++]=D;return T}}}function Fa(m,T){if(m.forEach&&typeof m.forEach=="function")m.forEach(T,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,T,void 0);else for(var b=Jp(m),D=Bf(m),Q=D.length,Z=0;Z<Q;Z++)T.call(void 0,D[Z],b&&b[Z],m)}var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rl(m,T){if(m){m=m.split("&");for(var b=0;b<m.length;b++){var D=m[b].indexOf("="),Q=null;if(0<=D){var Z=m[b].substring(0,D);Q=m[b].substring(D+1)}else Z=m[b];T(Z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function As(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof As){this.h=m.h,Cr(this,m.j),this.o=m.o,this.g=m.g,$a(this,m.s),this.l=m.l;var T=m.i,b=new Gi;b.i=T.i,T.g&&(b.g=new Map(T.g),b.h=T.h),al(this,b),this.m=m.m}else m&&(T=String(m).match(lc))?(this.h=!1,Cr(this,T[1]||"",!0),this.o=Dr(T[2]||""),this.g=Dr(T[3]||"",!0),$a(this,T[4]),this.l=Dr(T[5]||"",!0),al(this,T[6]||"",!0),this.m=Dr(T[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}As.prototype.toString=function(){var m=[],T=this.j;T&&m.push(ii(T,uc,!0),":");var b=this.g;return(b||T=="file")&&(m.push("//"),(T=this.o)&&m.push(ii(T,uc,!0),"@"),m.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&m.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&m.push("/"),m.push(ii(b,b.charAt(0)=="/"?cc:Ff,!0))),(b=this.i.toString())&&m.push("?",b),(b=this.m)&&m.push("#",ii(b,ng)),m.join("")};function _e(m){return new As(m)}function Cr(m,T,b){m.j=b?Dr(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function $a(m,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);m.s=T}else m.s=null}function al(m,T,b){T instanceof Gi?(m.i=T,hc(m.i,m.h)):(b||(T=ii(T,eg)),m.i=new Gi(T,m.h))}function Qt(m,T,b){m.i.set(T,b)}function za(m){return Qt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Dr(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ii(m,T,b){return typeof m=="string"?(m=encodeURI(m).replace(T,tg),b&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function tg(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var uc=/[#\/\?@]/g,Ff=/[#\?:]/g,cc=/[#\?]/g,eg=/[#\?@]/g,ng=/#/g;function Gi(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function si(m){m.g||(m.g=new Map,m.h=0,m.i&&rl(m.i,function(T,b){m.add(decodeURIComponent(T.replace(/\+/g," ")),b)}))}e=Gi.prototype,e.add=function(m,T){si(this),this.i=null,m=Rs(this,m);var b=this.g.get(m);return b||this.g.set(m,b=[]),b.push(T),this.h+=1,this};function ol(m,T){si(m),T=Rs(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function ws(m,T){return si(m),T=Rs(m,T),m.g.has(T)}e.forEach=function(m,T){si(this),this.g.forEach(function(b,D){b.forEach(function(Q){m.call(T,Q,D,this)},this)},this)},e.na=function(){si(this);const m=Array.from(this.g.values()),T=Array.from(this.g.keys()),b=[];for(let D=0;D<T.length;D++){const Q=m[D];for(let Z=0;Z<Q.length;Z++)b.push(T[D])}return b},e.V=function(m){si(this);let T=[];if(typeof m=="string")ws(this,m)&&(T=T.concat(this.g.get(Rs(this,m))));else{m=Array.from(this.g.values());for(let b=0;b<m.length;b++)T=T.concat(m[b])}return T},e.set=function(m,T){return si(this),this.i=null,m=Rs(this,m),ws(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},e.get=function(m,T){return m?(m=this.V(m),0<m.length?String(m[0]):T):T};function xs(m,T,b){ol(m,T),0<b.length&&(m.i=null,m.g.set(Rs(m,T),R(b)),m.h+=b.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(var b=0;b<T.length;b++){var D=T[b];const Z=encodeURIComponent(String(D)),ut=this.V(D);for(D=0;D<ut.length;D++){var Q=Z;ut[D]!==""&&(Q+="="+encodeURIComponent(String(ut[D]))),m.push(Q)}}return this.i=m.join("&")};function Rs(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function hc(m,T){T&&!m.j&&(si(m),m.i=null,m.g.forEach(function(b,D){var Q=D.toLowerCase();D!=Q&&(ol(this,D),xs(this,Q,b))},m)),m.j=T}function $f(m,T){const b=new br;if(h.Image){const D=new Image;D.onload=S(ri,b,"TestLoadImage: loaded",!0,T,D),D.onerror=S(ri,b,"TestLoadImage: error",!1,T,D),D.onabort=S(ri,b,"TestLoadImage: abort",!1,T,D),D.ontimeout=S(ri,b,"TestLoadImage: timeout",!1,T,D),h.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else T(!1)}function Ha(m,T){const b=new br,D=new AbortController,Q=setTimeout(()=>{D.abort(),ri(b,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:D.signal}).then(Z=>{clearTimeout(Q),Z.ok?ri(b,"TestPingServer: ok",!0,T):ri(b,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Q),ri(b,"TestPingServer: error",!1,T)})}function ri(m,T,b,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(b)}catch{}}function qa(){this.g=new xn}function Ki(m,T,b){const D=b||"";try{Fa(m,function(Q,Z){let ut=Q;d(Q)&&(ut=ec(Q)),T.push(D+Z+"="+encodeURIComponent(ut))})}catch(Q){throw T.push(D+"type="+encodeURIComponent("_badmap")),Q}}function Ir(m){this.l=m.Ub||null,this.j=m.eb||!1}A(Ir,nc),Ir.prototype.g=function(){return new Cs(this.l,this.j)},Ir.prototype.i=function(m){return function(){return m}}({});function Cs(m,T){Le.call(this),this.D=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Cs,Le),e=Cs.prototype,e.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=T,this.readyState=1,Yi(this)},e.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(T.body=m),(this.D||h).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},e.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Yi(this)),this.g&&(this.readyState=3,Yi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function fc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}e.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Qi(this):Yi(this),this.readyState==3&&fc(this)}},e.Ra=function(m){this.g&&(this.response=this.responseText=m,Qi(this))},e.Qa=function(m){this.g&&(this.response=m,Qi(this))},e.ga=function(){this.g&&Qi(this)};function Qi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Yi(m)}e.setRequestHeader=function(m,T){this.u.append(m,T)},e.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var b=T.next();!b.done;)b=b.value,m.push(b[0]+": "+b[1]),b=T.next();return m.join(`\r
`)};function Yi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function dc(m){let T="";return tt(m,function(b,D){T+=D,T+=":",T+=b,T+=`\r
`}),T}function Ye(m,T,b){t:{for(D in b){var D=!1;break t}D=!0}D||(b=dc(b),typeof m=="string"?b!=null&&encodeURIComponent(String(b)):Qt(m,T,b))}function Xt(m){Le.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Xt,Le);var ll=/^https?$/i,Ga=["POST","PUT"];e=Xt.prototype,e.Ha=function(m){this.J=m},e.ea=function(m,T,b,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ja.g(),this.v=this.o?Of(this.o):Of(ja),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(Z){zf(this,Z);return}if(m=b||"",b=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)b.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Z of D.keys())b.set(Z,D.get(Z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(b.keys()).find(Z=>Z.toLowerCase()=="content-type"),Q=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ga,T,void 0))||D||Q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ut]of b)this.g.setRequestHeader(Z,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ka(this),this.u=!0,this.g.send(m),this.u=!1}catch(Z){zf(this,Z)}};function zf(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.m=5,ul(m),Wi(m)}function ul(m){m.A||(m.A=!0,Ke(m,"complete"),Ke(m,"error"))}e.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ke(this,"complete"),Ke(this,"abort"),Wi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),Xt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?cl(this):this.bb())},e.bb=function(){cl(this)};function cl(m){if(m.h&&typeof u<"u"&&(!m.v[1]||ai(m)!=4||m.Z()!=2)){if(m.u&&ai(m)==4)Mf(m.Ea,0,m);else if(Ke(m,"readystatechange"),ai(m)==4){m.h=!1;try{const ut=m.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break t;default:T=!1}var b;if(!(b=T)){var D;if(D=ut===0){var Q=String(m.D).match(lc)[1]||null;!Q&&h.self&&h.self.location&&(Q=h.self.location.protocol.slice(0,-1)),D=!ll.test(Q?Q.toLowerCase():"")}b=D}if(b)Ke(m,"complete"),Ke(m,"success");else{m.m=6;try{var Z=2<ai(m)?m.g.statusText:""}catch{Z=""}m.l=Z+" ["+m.Z()+"]",ul(m)}}finally{Wi(m)}}}}function Wi(m,T){if(m.g){Ka(m);const b=m.g,D=m.v[0]?()=>{}:null;m.g=null,m.v=null,T||Ke(m,"ready");try{b.onreadystatechange=D}catch{}}}function Ka(m){m.I&&(h.clearTimeout(m.I),m.I=null)}e.isActive=function(){return!!this.g};function ai(m){return m.g?m.g.readyState:0}e.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),$i(T)}};function Hf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ig(m){const T={};m=(m.g&&2<=ai(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(j(m[D]))continue;var b=B(m[D]);const Q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Z=T[Q]||[];T[Q]=Z,Z.push(b)}M(T,function(D){return D.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(m,T,b){return b&&b.internalChannelParams&&b.internalChannelParams[m]||T}function hl(m){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,m),this.cb=Qa("retryDelaySeedMs",1e4,m),this.Wa=Qa("forwardChannelMaxRetries",2,m),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ac(m&&m.concurrentRequestLimit),this.Da=new qa,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=hl.prototype,e.la=8,e.G=1,e.connect=function(m,T,b,D){xe(0),this.W=m,this.H=T||{},b&&D!==void 0&&(this.H.OSID=b,this.H.OAID=D),this.F=this.X,this.I=Xf(this,null,this.W),dl(this)};function mc(m){if(qf(m),m.G==3){var T=m.U++,b=_e(m.I);if(Qt(b,"SID",m.K),Qt(b,"RID",T),Qt(b,"TYPE","terminate"),Ya(m,b),T=new qi(m,m.j,T),T.L=2,T.v=za(_e(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(T.v.toString(),"")}catch{}!b&&h.Image&&(new Image().src=T.v,b=!0),b||(T.g=Zf(T.j,null),T.g.ea(T.v)),T.F=Date.now(),he(T)}Wf(m)}function fl(m){m.g&&(Wa(m),m.g.cancel(),m.g=null)}function qf(m){fl(m),m.u&&(h.clearTimeout(m.u),m.u=null),ml(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function dl(m){if(!oc(m.h)&&!m.s){m.s=!0;var T=m.Ga;ot||$(),ct||(ot(),ct=!0),It.add(T,m),m.B=0}}function sg(m,T){return jf(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=T.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Tr(_(m.Ga,m,T),yc(m,m.B)),m.B++,!0)}e.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Q=new qi(this,this.j,m);let Z=this.o;if(this.S&&(Z?(Z=w(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||(Q.H=Z,Z=null),this.P)t:{for(var T=0,b=0;b<this.i.length;b++){e:{var D=this.i[b];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(T+=D,4096<T){T=b;break t}if(T===4096||b===this.i.length-1){T=b+1;break t}}T=1e3}else T=1e3;T=Gf(this,Q,T),b=_e(this.I),Qt(b,"RID",m),Qt(b,"CVER",22),this.D&&Qt(b,"X-HTTP-Session-Id",this.D),Ya(this,b),Z&&(this.O?T="headers="+encodeURIComponent(String(dc(Z)))+"&"+T:this.m&&Ye(b,this.m,Z)),Rr(this.h,Q),this.Ua&&Qt(b,"TYPE","init"),this.P?(Qt(b,"$req",T),Qt(b,"SID","null"),Q.T=!0,xi(Q,b,null)):xi(Q,b,T),this.G=2}}else this.G==3&&(m?pc(this,m):this.i.length==0||oc(this.h)||pc(this))};function pc(m,T){var b;T?b=T.l:b=m.U++;const D=_e(m.I);Qt(D,"SID",m.K),Qt(D,"RID",b),Qt(D,"AID",m.T),Ya(m,D),m.m&&m.o&&Ye(D,m.m,m.o),b=new qi(m,m.j,b,m.B+1),m.m===null&&(b.H=m.o),T&&(m.i=T.D.concat(m.i)),T=Gf(m,b,1e3),b.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Rr(m.h,b),xi(b,D,T)}function Ya(m,T){m.H&&tt(m.H,function(b,D){Qt(T,D,b)}),m.l&&Fa({},function(b,D){Qt(T,D,b)})}function Gf(m,T,b){b=Math.min(m.i.length,b);var D=m.l?_(m.l.Na,m.l,m):null;t:{var Q=m.i;let Z=-1;for(;;){const ut=["count="+b];Z==-1?0<b?(Z=Q[0].g,ut.push("ofs="+Z)):Z=0:ut.push("ofs="+Z);let zt=!0;for(let je=0;je<b;je++){let Ht=Q[je].g;const We=Q[je].map;if(Ht-=Z,0>Ht)Z=Math.max(0,Q[je].g-100),zt=!1;else try{Ki(We,ut,"req"+Ht+"_")}catch{D&&D(We)}}if(zt){D=ut.join("&");break t}}}return m=m.i.splice(0,b),T.D=m,D}function Kf(m){if(!m.g&&!m.u){m.Y=1;var T=m.Fa;ot||$(),ct||(ot(),ct=!0),It.add(T,m),m.v=0}}function gc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Tr(_(m.Fa,m),yc(m,m.v)),m.v++,!0)}e.Fa=function(){if(this.u=null,Qf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Tr(_(this.ab,this),m)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),fl(this),Qf(this))};function Wa(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function Qf(m){m.g=new qi(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var T=_e(m.qa);Qt(T,"RID","rpc"),Qt(T,"SID",m.K),Qt(T,"AID",m.T),Qt(T,"CI",m.F?"0":"1"),!m.F&&m.ja&&Qt(T,"TO",m.ja),Qt(T,"TYPE","xmlhttp"),Ya(m,T),m.m&&m.o&&Ye(T,m.m,m.o),m.L&&(m.g.I=m.L);var b=m.g;m=m.ia,b.L=1,b.v=za(_e(T)),b.m=null,b.P=!0,Ss(b,m)}e.Za=function(){this.C!=null&&(this.C=null,fl(this),gc(this),xe(19))};function ml(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function Yf(m,T){var b=null;if(m.g==T){ml(m),Wa(m),m.g=null;var D=2}else if(xr(m.h,T))b=T.D,ni(m.h,T),D=1;else return;if(m.G!=0){if(T.o)if(D==1){b=T.m?T.m.length:0,T=Date.now()-T.F;var Q=m.B;D=el(),Ke(D,new kf(D,b)),dl(m)}else Kf(m);else if(Q=T.s,Q==3||Q==0&&0<T.X||!(D==1&&sg(m,T)||D==2&&gc(m)))switch(b&&0<b.length&&(T=m.h,T.i=T.i.concat(b)),Q){case 1:Ds(m,5);break;case 4:Ds(m,10);break;case 3:Ds(m,6);break;default:Ds(m,2)}}}function yc(m,T){let b=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(b*=2),b*T}function Ds(m,T){if(m.j.info("Error code "+T),T==2){var b=_(m.fb,m),D=m.Xa;const Q=!D;D=new As(D||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Cr(D,"https"),za(D),Q?$f(D.toString(),b):Ha(D.toString(),b)}else xe(2);m.G=0,m.l&&m.l.sa(T),Wf(m),qf(m)}e.fb=function(m){m?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Wf(m){if(m.G=0,m.ka=[],m.l){const T=Rn(m.h);(T.length!=0||m.i.length!=0)&&(I(m.ka,T),I(m.ka,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.ra()}}function Xf(m,T,b){var D=b instanceof As?_e(b):new As(b);if(D.g!="")T&&(D.g=T+"."+D.g),$a(D,D.s);else{var Q=h.location;D=Q.protocol,T=T?T+"."+Q.hostname:Q.hostname,Q=+Q.port;var Z=new As(null);D&&Cr(Z,D),T&&(Z.g=T),Q&&$a(Z,Q),b&&(Z.l=b),D=Z}return b=m.D,T=m.ya,b&&T&&Qt(D,b,T),Qt(D,"VER",m.la),Ya(m,D),D}function Zf(m,T,b){if(T&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Ca&&!m.pa?new Xt(new Ir({eb:b})):new Xt(m.pa),T.Ha(m.J),T}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jf(){}e=Jf.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function pl(){}pl.prototype.g=function(m,T){return new Cn(m,T)};function Cn(m,T){Le.call(this),this.g=new hl(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(m?m["X-WebChannel-Client-Profile"]=T.va:m={"X-WebChannel-Client-Profile":T.va}),this.g.S=m,(m=T&&T.Sb)&&!j(m)&&(this.g.m=m),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.D=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Xi(this)}A(Cn,Le),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){mc(this.g)},Cn.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var b={};b.__data__=m,m=b}else this.u&&(b={},b.__data__=ec(m),m=b);T.i.push(new Zp(T.Ya++,m)),T.G==3&&dl(T)},Cn.prototype.N=function(){this.g.l=null,delete this.j,mc(this.g),delete this.g,Cn.aa.N.call(this)};function td(m){yr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){t:{for(const b in T){m=b;break t}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}A(td,yr);function ed(){wi.call(this),this.status=1}A(ed,wi);function Xi(m){this.g=m}A(Xi,Jf),Xi.prototype.ua=function(){Ke(this.g,"a")},Xi.prototype.ta=function(m){Ke(this.g,new td(m))},Xi.prototype.sa=function(m){Ke(this.g,new ed)},Xi.prototype.ra=function(){Ke(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,q2=function(){return new pl},H2=function(){return el()},z2=ei,V0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ue.NO_ERROR=0,Ue.TIMEOUT=8,Ue.HTTP_ERROR=6,xm=Ue,Es.COMPLETE="complete",$2=Es,Nf.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",Le.prototype.listen=Le.prototype.K,gh=Nf,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,F2=Xt}).apply(typeof lm<"u"?lm:typeof self<"u"?self:typeof window<"u"?window:{});const sR="@firebase/firestore",rR="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new IT("@firebase/firestore");function $l(){return Bo.logLevel}function mt(e,...t){if(Bo.logLevel<=jt.DEBUG){const n=t.map($T);Bo.debug(`Firestore (${Gu}): ${e}`,...n)}}function ur(e,...t){if(Bo.logLevel<=jt.ERROR){const n=t.map($T);Bo.error(`Firestore (${Gu}): ${e}`,...n)}}function Vu(e,...t){if(Bo.logLevel<=jt.WARN){const n=t.map($T);Bo.warn(`Firestore (${Gu}): ${e}`,...n)}}function $T(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(e="Unexpected state"){const t=`FIRESTORE (${Gu}) INTERNAL ASSERTION FAILED: `+e;throw ur(t),new Error(t)}function Jt(e,t){e||xt()}function Dt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends vs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class lH{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uH{constructor(t){this.t=t,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Jt(this.o===void 0);let i=this.i;const r=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let o=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new nr,t.enqueueRetryable(()=>r(this.currentUser))};const u=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},h=f=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new nr)}},0),u()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Jt(typeof i.accessToken=="string"),new G2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string"),new Tn(t)}}class cH{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class hH{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new cH(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fH{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ki(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Jt(this.o===void 0);const i=o=>{o.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,mt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new aR(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Jt(typeof n.token=="string"),this.R=n.token,new aR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=dH(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=t.charAt(r[o]%62))}return i}}function kt(e,t){return e<t?-1:e>t?1:0}function M0(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),r=t.codePointAt(n);if(i!==r){if(i<128&&r<128)return kt(i,r);{const o=K2(),u=mH(o.encode(oR(e,n)),o.encode(oR(t,n)));return u!==0?u:kt(i,r)}}n+=i>65535?2:1}return kt(e.length,t.length)}function oR(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function mH(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return kt(e[n],t[n]);return kt(e.length,t.length)}function Mu(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=-62135596800,uR=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(t){return qe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*uR);return new qe(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<lR)throw new pt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uR}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-lR;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new qe(0,0))}static max(){return new Rt(new qe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="__name__";class ss{constructor(t,n,i){n===void 0?n=0:n>t.length&&xt(),i===void 0?i=t.length-n:i>t.length-n&&xt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return ss.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ss?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const o=ss.compareSegments(t.get(r),n.get(r));if(o!==0)return o}return kt(t.length,n.length)}static compareSegments(t,n){const i=ss.isNumericId(t),r=ss.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?ss.extractNumericId(t).compare(ss.extractNumericId(n)):M0(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ta.fromString(t.substring(4,t.length-2))}}class ue extends ss{construct(t,n,i){return new ue(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new pt(st.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const pH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends ss{construct(t,n,i){return new hn(t,n,i)}static isValidIdentifier(t){return pH.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cR}static keyField(){return new hn([cR])}static fromServerFormat(t){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new pt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new pt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new pt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(ue.fromString(t))}static fromName(t){return new Tt(ue.fromString(t).popFirst(5))}static empty(){return new Tt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=-1;function gH(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(i===1e9?new qe(n+1,0):new qe(n,i));return new xa(r,Tt.empty(),t)}function yH(e){return new xa(e.readTime,e.key,Wh)}class xa{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new xa(Rt.min(),Tt.empty(),Wh)}static max(){return new xa(Rt.max(),Tt.empty(),Wh)}}function vH(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Tt.comparator(e.documentKey,t.documentKey),n!==0?n:kt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==_H)throw e;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):rt.reject(n)}static resolve(t){return new rt((n,i)=>{n(t)})}static reject(t){return new rt((n,i)=>{i(t)})}static waitFor(t){return new rt((n,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&n()},f=>i(f))}),u=!0,o===r&&n()})}static or(t){let n=rt.resolve(!1);for(const i of t)n=n.next(r=>r?rt.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(t,n){return new rt((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;n(t[d]).next(g=>{u[d]=g,++h,h===o&&i(u)},g=>r(g))}})}static doWhile(t,n){return new rt((i,r)=>{const o=()=>{t()===!0?n().next(()=>{o()},r):i()};o()})}}function bH(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Vp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=-1;function Mp(e){return e==null}function ip(e){return e===0&&1/e==-1/0}function EH(e){return typeof e=="number"&&Number.isInteger(e)&&!ip(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="";function SH(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hR(t)),t=AH(e.get(n),t);return hR(t)}function AH(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const o=e.charAt(r);switch(o){case"\0":n+="";break;case Y2:n+="";break;default:n+=o}}return n}function hR(e){return e+Y2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Na(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function W2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,n){this.comparator=t,this.root=n||cn.EMPTY}insert(t,n){return new ye(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new um(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new um(this.root,t,this.comparator,!1)}getReverseIterator(){return new um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new um(this.root,t,this.comparator,!0)}}class um{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class cn{constructor(t,n,i,r,o){this.key=t,this.value=n,this.color=i??cn.RED,this.left=r??cn.EMPTY,this.right=o??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,o){return new cn(t??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return cn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const t=this.left.check();if(t!==this.right.check())throw xt();return t+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(t,n,i,r,o){return this}insert(t,n,i){return new cn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dR(this.data.getIterator())}getIteratorFrom(t){return new dR(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ge(this.comparator);return n.data=t,n}}class dR{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.fields=t,t.sort(hn.comparator)}static empty(){return new Xn([])}unionWith(t){let n=new Ge(hn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Xn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Mu(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new X2("Invalid base64 string: "+o):o}}(t);return new fn(n)}static fromUint8Array(t){const n=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(t);return new fn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const wH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(e){if(Jt(!!e),typeof e=="string"){let t=0;const n=wH.exec(e);if(Jt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ie(e.seconds),nanos:Ie(e.nanos)}}function Ie(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ca(e){return typeof e=="string"?fn.fromBase64String(e):fn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="server_timestamp",J2="__type__",tV="__previous_value__",eV="__local_write_time__";function HT(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[J2])===null||n===void 0?void 0:n.stringValue)===Z2}function Op(e){const t=e.mapValue.fields[tV];return HT(t)?Op(t):t}function Xh(e){const t=Ra(e.mapValue.fields[eV].timestampValue);return new qe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(t,n,i,r,o,u,h,f,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d}}const sp="(default)";class Zh{constructor(t,n){this.projectId=t,this.database=n||sp}static empty(){return new Zh("","")}get isDefaultDatabase(){return this.database===sp}isEqual(t){return t instanceof Zh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="__type__",RH="__max__",cm={mapValue:{}},iV="__vector__",rp="value";function Da(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?HT(e)?4:DH(e)?9007199254740991:CH(e)?10:11:xt()}function gs(e,t){if(e===t)return!0;const n=Da(e);if(n!==Da(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xh(e).isEqual(Xh(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Ra(r.timestampValue),h=Ra(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return Ca(r.bytesValue).isEqual(Ca(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Ie(r.geoPointValue.latitude)===Ie(o.geoPointValue.latitude)&&Ie(r.geoPointValue.longitude)===Ie(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ie(r.integerValue)===Ie(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Ie(r.doubleValue),h=Ie(o.doubleValue);return u===h?ip(u)===ip(h):isNaN(u)&&isNaN(h)}return!1}(e,t);case 9:return Mu(e.arrayValue.values||[],t.arrayValue.values||[],gs);case 10:case 11:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(fR(u)!==fR(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!gs(u[f],h[f])))return!1;return!0}(e,t);default:return xt()}}function Jh(e,t){return(e.values||[]).find(n=>gs(n,t))!==void 0}function Ou(e,t){if(e===t)return 0;const n=Da(e),i=Da(t);if(n!==i)return kt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return function(o,u){const h=Ie(o.integerValue||o.doubleValue),f=Ie(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(e,t);case 3:return mR(e.timestampValue,t.timestampValue);case 4:return mR(Xh(e),Xh(t));case 5:return M0(e.stringValue,t.stringValue);case 6:return function(o,u){const h=Ca(o),f=Ca(u);return h.compareTo(f)}(e.bytesValue,t.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=kt(h[d],f[d]);if(g!==0)return g}return kt(h.length,f.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,u){const h=kt(Ie(o.latitude),Ie(u.latitude));return h!==0?h:kt(Ie(o.longitude),Ie(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return pR(e.arrayValue,t.arrayValue);case 10:return function(o,u){var h,f,d,g;const v=o.fields||{},_=u.fields||{},S=(h=v[rp])===null||h===void 0?void 0:h.arrayValue,A=(f=_[rp])===null||f===void 0?void 0:f.arrayValue,R=kt(((d=S==null?void 0:S.values)===null||d===void 0?void 0:d.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return R!==0?R:pR(S,A)}(e.mapValue,t.mapValue);case 11:return function(o,u){if(o===cm.mapValue&&u===cm.mapValue)return 0;if(o===cm.mapValue)return 1;if(u===cm.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const _=M0(f[v],g[v]);if(_!==0)return _;const S=Ou(h[f[v]],d[g[v]]);if(S!==0)return S}return kt(f.length,g.length)}(e.mapValue,t.mapValue);default:throw xt()}}function mR(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const n=Ra(e),i=Ra(t),r=kt(n.seconds,i.seconds);return r!==0?r:kt(n.nanos,i.nanos)}function pR(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const o=Ou(n[r],i[r]);if(o)return o}return kt(n.length,i.length)}function Nu(e){return O0(e)}function O0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ra(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ca(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Tt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=O0(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const u of i)o?o=!1:r+=",",r+=`${u}:${O0(n.fields[u])}`;return r+"}"}(e.mapValue):xt()}function Rm(e){switch(Da(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Op(e);return t?16+Rm(t):16;case 5:return 2*e.stringValue.length;case 6:return Ca(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Rm(o),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Na(i.fields,(o,u)=>{r+=o.length+Rm(u)}),r}(e.mapValue);default:throw xt()}}function gR(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function N0(e){return!!e&&"integerValue"in e}function qT(e){return!!e&&"arrayValue"in e}function yR(e){return!!e&&"nullValue"in e}function vR(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cm(e){return!!e&&"mapValue"in e}function CH(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[nV])===null||n===void 0?void 0:n.stringValue)===iV}function Ch(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Na(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Ch(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ch(e.arrayValue.values[n]);return t}return Object.assign({},e)}function DH(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===RH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.value=t}static empty(){return new $n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Cm(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ch(n)}setAll(t){let n=hn.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,r),i={},r=[],n=h.popLast()}u?i[h.lastSegment()]=Ch(u):r.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(t){const n=this.field(t.popLast());Cm(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gs(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Cm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Na(n,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new $n(Ch(this.value))}}function sV(e){const t=[];return Na(e.fields,(n,i)=>{const r=new hn([n]);if(Cm(i)){const o=sV(i.mapValue).fields;if(o.length===0)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new Xn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t,n,i,r,o,u,h){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new bn(t,0,Rt.min(),Rt.min(),Rt.min(),$n.empty(),0)}static newFoundDocument(t,n,i,r){return new bn(t,1,n,Rt.min(),i,r,0)}static newNoDocument(t,n){return new bn(t,2,n,Rt.min(),Rt.min(),$n.empty(),0)}static newUnknownDocument(t,n){return new bn(t,3,n,Rt.min(),Rt.min(),$n.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof bn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t,n){this.position=t,this.inclusive=n}}function _R(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const o=t[r],u=e.position[r];if(o.field.isKeyField()?i=Tt.comparator(Tt.fromName(u.referenceValue),n.key):i=Ou(u,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function TR(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gs(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,n="asc"){this.field=t,this.dir=n}}function IH(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{}class ke extends rV{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new VH(t,n,i):n==="array-contains"?new NH(t,i):n==="in"?new kH(t,i):n==="not-in"?new LH(t,i):n==="array-contains-any"?new UH(t,i):new ke(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new MH(t,i):new OH(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ou(n,this.value)):n!==null&&Da(this.value)===Da(n)&&this.matchesComparison(Ou(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends rV{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Bi(t,n)}matches(t){return aV(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function aV(e){return e.op==="and"}function oV(e){return PH(e)&&aV(e)}function PH(e){for(const t of e.filters)if(t instanceof Bi)return!1;return!0}function k0(e){if(e instanceof ke)return e.field.canonicalString()+e.op.toString()+Nu(e.value);if(oV(e))return e.filters.map(t=>k0(t)).join(",");{const t=e.filters.map(n=>k0(n)).join(",");return`${e.op}(${t})`}}function lV(e,t){return e instanceof ke?function(i,r){return r instanceof ke&&i.op===r.op&&i.field.isEqual(r.field)&&gs(i.value,r.value)}(e,t):e instanceof Bi?function(i,r){return r instanceof Bi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,u,h)=>o&&lV(u,r.filters[h]),!0):!1}(e,t):void xt()}function uV(e){return e instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Nu(n.value)}`}(e):e instanceof Bi?function(n){return n.op.toString()+" {"+n.getFilters().map(uV).join(" ,")+"}"}(e):"Filter"}class VH extends ke{constructor(t,n,i){super(t,n,i),this.key=Tt.fromName(i.referenceValue)}matches(t){const n=Tt.comparator(t.key,this.key);return this.matchesComparison(n)}}class MH extends ke{constructor(t,n){super(t,"in",n),this.keys=cV("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class OH extends ke{constructor(t,n){super(t,"not-in",n),this.keys=cV("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function cV(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Tt.fromName(i.referenceValue))}class NH extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return qT(n)&&Jh(n.arrayValue,this.value)}}class kH extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jh(this.value.arrayValue,n)}}class LH extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Jh(this.value.arrayValue,n)}}class UH extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!qT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Jh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(t,n=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function bR(e,t=null,n=[],i=[],r=null,o=null,u=null){return new jH(e,t,n,i,r,o,u)}function GT(e){const t=Dt(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>k0(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Mp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Nu(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Nu(i)).join(",")),t.le=n}return t.le}function KT(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!IH(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!lV(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!TR(e.startAt,t.startAt)&&TR(e.endAt,t.endAt)}function L0(e){return Tt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,n=null,i=[],r=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function BH(e,t,n,i,r,o,u,h){return new Yu(e,t,n,i,r,o,u,h)}function QT(e){return new Yu(e)}function ER(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function hV(e){return e.collectionGroup!==null}function Dh(e){const t=Dt(e);if(t.he===null){t.he=[];const n=new Set;for(const o of t.explicitOrderBy)t.he.push(o),n.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ge(hn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(h=h.add(d.field))})}),h})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.he.push(new tf(o,i))}),n.has(hn.keyField().canonicalString())||t.he.push(new tf(hn.keyField(),i))}return t.he}function ms(e){const t=Dt(e);return t.Pe||(t.Pe=FH(t,Dh(e))),t.Pe}function FH(e,t){if(e.limitType==="F")return bR(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new tf(r.field,o)});const n=e.endAt?new ap(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ap(e.startAt.position,e.startAt.inclusive):null;return bR(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function U0(e,t){const n=e.filters.concat([t]);return new Yu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function j0(e,t,n){return new Yu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Np(e,t){return KT(ms(e),ms(t))&&e.limitType===t.limitType}function fV(e){return`${GT(ms(e))}|lt:${e.limitType}`}function zl(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>uV(r)).join(", ")}]`),Mp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Nu(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Nu(r)).join(",")),`Target(${i})`}(ms(e))}; limitType=${e.limitType})`}function kp(e,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Tt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(e,t)&&function(i,r){for(const o of Dh(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(u,h,f){const d=_R(u,h,f);return u.inclusive?d<=0:d<0}(i.startAt,Dh(i),r)||i.endAt&&!function(u,h,f){const d=_R(u,h,f);return u.inclusive?d>=0:d>0}(i.endAt,Dh(i),r))}(e,t)}function $H(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function dV(e){return(t,n)=>{let i=!1;for(const r of Dh(e)){const o=zH(r,t,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function zH(e,t,n){const i=e.field.isKeyField()?Tt.comparator(t.key,n.key):function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?Ou(f,d):xt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return xt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Na(this.inner,(n,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return W2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=new ye(Tt.comparator);function cr(){return HH}const mV=new ye(Tt.comparator);function yh(...e){let t=mV;for(const n of e)t=t.insert(n.key,n);return t}function pV(e){let t=mV;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function wo(){return Ih()}function gV(){return Ih()}function Ih(){return new Yo(e=>e.toString(),(e,t)=>e.isEqual(t))}const qH=new ye(Tt.comparator),GH=new Ge(Tt.comparator);function Bt(...e){let t=GH;for(const n of e)t=t.add(n);return t}const KH=new Ge(kt);function QH(){return KH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(t)?"-0":t}}function yV(e){return{integerValue:""+e}}function YH(e,t){return EH(t)?yV(t):YT(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this._=void 0}}function WH(e,t,n){return e instanceof ef?function(r,o){const u={fields:{[J2]:{stringValue:Z2},[eV]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&HT(o)&&(o=Op(o)),o&&(u.fields[tV]=o),{mapValue:u}}(n,t):e instanceof nf?_V(e,t):e instanceof sf?TV(e,t):function(r,o){const u=vV(r,o),h=SR(u)+SR(r.Ie);return N0(u)&&N0(r.Ie)?yV(h):YT(r.serializer,h)}(e,t)}function XH(e,t,n){return e instanceof nf?_V(e,t):e instanceof sf?TV(e,t):n}function vV(e,t){return e instanceof op?function(i){return N0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class ef extends Lp{}class nf extends Lp{constructor(t){super(),this.elements=t}}function _V(e,t){const n=bV(t);for(const i of e.elements)n.some(r=>gs(r,i))||n.push(i);return{arrayValue:{values:n}}}class sf extends Lp{constructor(t){super(),this.elements=t}}function TV(e,t){let n=bV(t);for(const i of e.elements)n=n.filter(r=>!gs(r,i));return{arrayValue:{values:n}}}class op extends Lp{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function SR(e){return Ie(e.integerValue||e.doubleValue)}function bV(e){return qT(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(t,n){this.field=t,this.transform=n}}function JH(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof nf&&r instanceof nf||i instanceof sf&&r instanceof sf?Mu(i.elements,r.elements,gs):i instanceof op&&r instanceof op?gs(i.Ie,r.Ie):i instanceof ef&&r instanceof ef}(e.transform,t.transform)}class tq{constructor(t,n){this.version=t,this.transformResults=n}}class Ai{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ai}static exists(t){return new Ai(void 0,t)}static updateTime(t){return new Ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Dm(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}let Up=class{};function EV(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new WT(e.key,Ai.none()):new xf(e.key,e.data,Ai.none());{const n=e.data,i=$n.empty();let r=new Ge(hn.comparator);for(let o of t.fields)if(!r.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?i.delete(o):i.set(o,u),r=r.add(o)}return new ka(e.key,i,new Xn(r.toArray()),Ai.none())}}function eq(e,t,n){e instanceof xf?function(r,o,u){const h=r.value.clone(),f=wR(r.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(e,t,n):e instanceof ka?function(r,o,u){if(!Dm(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=wR(r.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(SV(r)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(e,t,n):function(r,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,n)}function Ph(e,t,n,i){return e instanceof xf?function(o,u,h,f){if(!Dm(o.precondition,u))return h;const d=o.value.clone(),g=xR(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(e,t,n,i):e instanceof ka?function(o,u,h,f){if(!Dm(o.precondition,u))return h;const d=xR(o.fieldTransforms,f,u),g=u.data;return g.setAll(SV(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(e,t,n,i):function(o,u,h){return Dm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(e,t,n)}function nq(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),o=vV(i.transform,r||null);o!=null&&(n===null&&(n=$n.empty()),n.set(i.field,o))}return n||null}function AR(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Mu(i,r,(o,u)=>JH(o,u))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xf extends Up{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ka extends Up{constructor(t,n,i,r,o=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function SV(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function wR(e,t,n){const i=new Map;Jt(e.length===n.length);for(let r=0;r<n.length;r++){const o=e[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,XH(u,h,n[r]))}return i}function xR(e,t,n){const i=new Map;for(const r of e){const o=r.transform,u=n.data.field(r.field);i.set(r.field,WH(o,u,t))}return i}class WT extends Up{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iq extends Up{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&eq(o,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ph(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ph(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=gV();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(r.key)?null:h;const f=EV(u,h);f!==null&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(Rt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Bt())}isEqual(t){return this.batchId===t.batchId&&Mu(this.mutations,t.mutations,(n,i)=>AR(n,i))&&Mu(this.baseMutations,t.baseMutations,(n,i)=>AR(n,i))}}class XT{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){Jt(t.mutations.length===i.length);let r=function(){return qH}();const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new XT(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,Gt;function oq(e){switch(e){case st.OK:return xt();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return xt()}}function AV(e){if(e===void 0)return ur("GRPC error has no .code"),st.UNKNOWN;switch(e){case Ne.OK:return st.OK;case Ne.CANCELLED:return st.CANCELLED;case Ne.UNKNOWN:return st.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return st.INTERNAL;case Ne.UNAVAILABLE:return st.UNAVAILABLE;case Ne.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Ne.NOT_FOUND:return st.NOT_FOUND;case Ne.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Ne.ABORTED:return st.ABORTED;case Ne.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Ne.DATA_LOSS:return st.DATA_LOSS;default:return xt()}}(Gt=Ne||(Ne={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=new Ta([4294967295,4294967295],0);function RR(e){const t=K2().encode(e),n=new B2;return n.update(t),new Uint8Array(n.digest())}function CR(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ta([n,i],0),new Ta([r,o],0)]}class ZT{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new vh(`Invalid padding: ${n}`);if(i<0)throw new vh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new vh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new vh(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Ta.fromNumber(this.Ee)}Ae(t,n,i){let r=t.add(n.multiply(Ta.fromNumber(i)));return r.compare(lq)===1&&(r=new Ta([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=RR(t),[i,r]=CR(n);for(let o=0;o<this.hashCount;o++){const u=this.Ae(i,r,o);if(!this.Re(u))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new ZT(o,r,n);return i.forEach(h=>u.insert(h)),u}insert(t){if(this.Ee===0)return;const n=RR(t),[i,r]=CR(n);for(let o=0;o<this.hashCount;o++){const u=this.Ae(i,r,o);this.Ve(u)}}Ve(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class vh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n,i,r,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Rf.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new jp(Rt.min(),r,new ye(kt),cr(),Bt())}}class Rf{constructor(t,n,i,r,o){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Rf(i,n,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,n,i,r){this.me=t,this.removedTargetIds=n,this.key=i,this.fe=r}}class wV{constructor(t,n){this.targetId=t,this.ge=n}}class xV{constructor(t,n,i=fn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class DR{constructor(){this.pe=0,this.ye=IR(),this.we=fn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Bt(),n=Bt(),i=Bt();return this.ye.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:xt()}}),new Rf(this.we,this.Se,t,n,i)}Me(){this.be=!1,this.ye=IR()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class uq{constructor(t){this.ke=t,this.qe=new Map,this.Qe=cr(),this.$e=hm(),this.Ue=hm(),this.Ke=new ye(kt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(t.resumeToken));break;default:xt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((i,r)=>{this.Je(r)&&n(r)})}Ze(t){const n=t.targetId,i=t.ge.count,r=this.Xe(n);if(r){const o=r.target;if(L0(o))if(i===0){const u=new Tt(o.path);this.ze(n,u,bn.newNoDocument(u,Rt.min()))}else Jt(i===1);else{const u=this.et(n);if(u!==i){const h=this.tt(t),f=h?this.nt(h,t,u):1;if(f!==0){this.Ye(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let u,h;try{u=Ca(i).toUint8Array()}catch(f){if(f instanceof X2)return Vu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new ZT(u,r,o)}catch(f){return Vu(f instanceof vh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(t,n,i){return n.ge.count===i-this.st(t,n.targetId)?0:2}st(t,n){const i=this.ke.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.ze(n,o,null),r++)}),r}ot(t){const n=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&L0(h.target)){const f=new Tt(h.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,bn.newNoDocument(f,t))}o.ve&&(n.set(u,o.Fe()),o.Me())}});let i=Bt();this.Ue.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const d=this.Xe(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(t));const r=new jp(t,n,this.Ke,this.Qe,i);return this.Qe=cr(),this.$e=hm(),this.Ue=hm(),this.Ke=new ye(kt),r}Ge(t,n){if(!this.Je(t))return;const i=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const r=this.He(t);this.ut(t,n)?r.xe(n,1):r.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new DR,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Ge(kt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ge(kt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new DR),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function hm(){return new ye(Tt.comparator)}function IR(){return new ye(Tt.comparator)}const cq={asc:"ASCENDING",desc:"DESCENDING"},hq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fq={and:"AND",or:"OR"};class dq{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function B0(e,t){return e.useProto3Json||Mp(t)?t:{value:t}}function lp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RV(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function mq(e,t){return lp(e,t.toTimestamp())}function ps(e){return Jt(!!e),Rt.fromTimestamp(function(n){const i=Ra(n);return new qe(i.seconds,i.nanos)}(e))}function JT(e,t){return F0(e,t).canonicalString()}function F0(e,t){const n=function(r){return new ue(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function CV(e){const t=ue.fromString(e);return Jt(MV(t)),t}function $0(e,t){return JT(e.databaseId,t.path)}function Nv(e,t){const n=CV(t);if(n.get(1)!==e.databaseId.projectId)throw new pt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Tt(IV(n))}function DV(e,t){return JT(e.databaseId,t)}function pq(e){const t=CV(e);return t.length===4?ue.emptyPath():IV(t)}function z0(e){return new ue(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function IV(e){return Jt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function PR(e,t,n){return{name:$0(e,t),fields:n.value.mapValue.fields}}function gq(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:xt()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(d,g){return d.useProto3Json?(Jt(g===void 0||typeof g=="string"),fn.fromBase64String(g||"")):(Jt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),fn.fromUint8Array(g||new Uint8Array))}(e,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(d){const g=d.code===void 0?st.UNKNOWN:AV(d.code);return new pt(g,d.message||"")}(u);n=new xV(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Nv(e,i.document.name),o=ps(i.document.updateTime),u=i.document.createTime?ps(i.document.createTime):Rt.min(),h=new $n({mapValue:{fields:i.document.fields}}),f=bn.newFoundDocument(r,o,u,h),d=i.targetIds||[],g=i.removedTargetIds||[];n=new Im(d,g,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Nv(e,i.document),o=i.readTime?ps(i.readTime):Rt.min(),u=bn.newNoDocument(r,o),h=i.removedTargetIds||[];n=new Im([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Nv(e,i.document),o=i.removedTargetIds||[];n=new Im([],o,r,null)}else{if(!("filter"in t))return xt();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,u=new aq(r,o),h=i.targetId;n=new wV(h,u)}}return n}function yq(e,t){let n;if(t instanceof xf)n={update:PR(e,t.key,t.value)};else if(t instanceof WT)n={delete:$0(e,t.key)};else if(t instanceof ka)n={update:PR(e,t.key,t.data),updateMask:xq(t.fieldMask)};else{if(!(t instanceof iq))return xt();n={verify:$0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(o,u){const h=u.transform;if(h instanceof ef)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof nf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof sf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof op)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw xt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:mq(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xt()}(e,t.precondition)),n}function vq(e,t){return e&&e.length>0?(Jt(t!==void 0),e.map(n=>function(r,o){let u=r.updateTime?ps(r.updateTime):ps(o);return u.isEqual(Rt.min())&&(u=ps(o)),new tq(u,r.transformResults||[])}(n,t))):[]}function _q(e,t){return{documents:[DV(e,t.path)]}}function Tq(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=DV(e,r);const o=function(d){if(d.length!==0)return VV(Bi.create(d,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(g=>function(_){return{field:Hl(_.field),direction:Sq(_.dir)}}(g))}(t.orderBy);u&&(n.structuredQuery.orderBy=u);const h=B0(e,t.limit);return h!==null&&(n.structuredQuery.limit=h),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ht:n,parent:r}}function bq(e){let t=pq(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Jt(i===1);const g=n.from[0];g.allDescendants?r=g.collectionId:t=t.child(g.collectionId)}let o=[];n.where&&(o=function(v){const _=PV(v);return _ instanceof Bi&&oV(_)?_.getFilters():[_]}(n.where));let u=[];n.orderBy&&(u=function(v){return v.map(_=>function(A){return new tf(ql(A.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let h=null;n.limit&&(h=function(v){let _;return _=typeof v=="object"?v.value:v,Mp(_)?null:_}(n.limit));let f=null;n.startAt&&(f=function(v){const _=!!v.before,S=v.values||[];return new ap(S,_)}(n.startAt));let d=null;return n.endAt&&(d=function(v){const _=!v.before,S=v.values||[];return new ap(S,_)}(n.endAt)),BH(t,r,u,o,h,"F",f,d)}function Eq(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function PV(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ql(n.unaryFilter.field);return ke.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ql(n.unaryFilter.field);return ke.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ql(n.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ql(n.unaryFilter.field);return ke.create(u,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(e):e.fieldFilter!==void 0?function(n){return ke.create(ql(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Bi.create(n.compositeFilter.filters.map(i=>PV(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xt()}}(n.compositeFilter.op))}(e):xt()}function Sq(e){return cq[e]}function Aq(e){return hq[e]}function wq(e){return fq[e]}function Hl(e){return{fieldPath:e.canonicalString()}}function ql(e){return hn.fromServerFormat(e.fieldPath)}function VV(e){return e instanceof ke?function(n){if(n.op==="=="){if(vR(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NAN"}};if(yR(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vR(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NAN"}};if(yR(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(n.field),op:Aq(n.op),value:n.value}}}(e):e instanceof Bi?function(n){const i=n.getFilters().map(r=>VV(r));return i.length===1?i[0]:{compositeFilter:{op:wq(n.op),filters:i}}}(e):xt()}function xq(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function MV(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t,n,i,r,o=Rt.min(),u=Rt.min(),h=fn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new pa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(t){this.Tt=t}}function Cq(e){const t=bq({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?j0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(){this.Tn=new Iq}addToCollectionParentIndex(t,n){return this.Tn.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(xa.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(xa.min())}updateCollectionGroup(t,n,i){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class Iq{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Ge(ue.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ge(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OV=41943040;class Fn{static withCacheSize(t){return new Fn(t,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(OV,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new ku(0)}static Kn(){return new ku(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="LruGarbageCollector",Pq=1048576;function OR([e,t],[n,i]){const r=kt(e,n);return r===0?kt(t,i):r}class Vq{constructor(t){this.Hn=t,this.buffer=new Ge(OR),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();OR(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Mq{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){mt(MR,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qu(n)?mt(MR,"Ignoring IndexedDB error during garbage collection: ",n):await Ku(n)}await this.er(3e5)})}}class Oq{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return rt.resolve(Vp.ae);const i=new Vq(n);return this.tr.forEachTarget(t,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(t,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.tr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(VR)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VR):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let i,r,o,u,h,f,d;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,u=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,h=Date.now(),this.removeTargets(t,i,n))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(d=Date.now(),$l()<=jt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function Nq(e,t){return new Oq(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(){this.changes=new Yo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,bn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?rt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Ph(i.mutation,r,Xn.empty(),qe.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Bt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Bt()){const r=wo();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(o=>{let u=yh();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(t,n){const i=wo();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Bt()))}populateOverlays(t,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{n.set(u,h)})})}computeViews(t,n,i,r){let o=cr();const u=Ih(),h=function(){return Ih()}();return n.forEach((f,d)=>{const g=i.get(d.key);r.has(d.key)&&(g===void 0||g.mutation instanceof ka)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Ph(g.mutation,d,g.mutation.getFieldMask(),qe.now())):u.set(d.key,Xn.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((d,g)=>u.set(d,g)),n.forEach((d,g)=>{var v;return h.set(d,new Lq(g,(v=u.get(d))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(t,n){const i=Ih();let r=new ye((u,h)=>u-h),o=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const d=n.get(f);if(d===null)return;let g=i.get(f)||Xn.empty();g=h.applyToLocalView(d,g),i.set(f,g);const v=(r.get(h.batchId)||Bt()).add(f);r=r.insert(h.batchId,v)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,v=gV();g.forEach(_=>{if(!o.has(_)){const S=EV(n.get(_),i.get(_));S!==null&&v.set(_,S),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(t,d,v))}return rt.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(u){return Tt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):hV(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-o.size):rt.resolve(wo());let h=Wh,f=o;return u.next(d=>rt.forEach(d,(g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(g)?rt.resolve():this.remoteDocumentCache.getEntry(t,g).next(_=>{f=f.insert(g,_)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,f,d,Bt())).next(g=>({batchId:h,changes:pV(g)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Tt(n)).next(i=>{let r=yh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const o=n.collectionGroup;let u=yh();return this.indexManager.getCollectionParents(t,o).next(h=>rt.forEach(h,f=>{const d=function(v,_){return new Yu(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next(g=>{g.forEach((v,_)=>{u=u.insert(v,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,o,r))).next(u=>{o.forEach((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,bn.newInvalidDocument(g)))});let h=yh();return u.forEach((f,d)=>{const g=o.get(f);g!==void 0&&Ph(g.mutation,d,Xn.empty(),qe.now()),kp(n,d)&&(h=h.insert(f,d))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return rt.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ps(r.createTime)}}(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(r){return{name:r.name,query:Cq(r.bundledQuery),readTime:ps(r.readTime)}}(n)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(){this.overlays=new ye(Tt.comparator),this.Rr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=wo();return rt.forEach(n,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,o)=>{this.Et(t,n,o)}),rt.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(i)),rt.resolve()}getOverlaysForCollection(t,n,i){const r=wo(),o=n.length+1,u=new Tt(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return rt.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let o=new ye((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let g=o.get(d.largestBatchId);g===null&&(g=wo(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=wo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,g)=>h.set(d,g)),!(h.size()>=r)););return rt.resolve(h)}Et(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new rq(n,i));let o=this.Rr.get(n);o===void 0&&(o=Bt(),this.Rr.set(n,o)),this.Rr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.Vr=new Ge(tn.mr),this.gr=new Ge(tn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const i=new tn(t,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.wr(new tn(t,n))}Sr(t,n){t.forEach(i=>this.removeReference(i,n))}br(t){const n=new Tt(new ue([])),i=new tn(n,t),r=new tn(n,t+1),o=[];return this.gr.forEachInRange([i,r],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new Tt(new ue([])),i=new tn(n,t),r=new tn(n,t+1);let o=Bt();return this.gr.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const n=new tn(t,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class tn{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return Tt.comparator(t.key,n.key)||kt(t.Cr,n.Cr)}static pr(t,n){return kt(t.Cr,n.Cr)||Tt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ge(tn.mr)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new sq(o,n,i,r);this.mutationQueue.push(u);for(const h of r)this.Mr=this.Mr.add(new tn(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return rt.resolve(u)}lookupMutationBatch(t,n){return rt.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Nr(i),o=r<0?0:r;return rt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?zT:this.Fr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new tn(n,0),r=new tn(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([i,r],u=>{const h=this.Or(u.Cr);o.push(h)}),rt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Ge(kt);return n.forEach(r=>{const o=new tn(r,0),u=new tn(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{i=i.add(h.Cr)})}),rt.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let o=i;Tt.isDocumentKey(o)||(o=o.child(""));const u=new tn(new Tt(o),0);let h=new Ge(kt);return this.Mr.forEachWhile(f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(h=h.add(f.Cr)),!0)},u),rt.resolve(this.Br(h))}Br(t){const n=[];return t.forEach(i=>{const r=this.Or(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Jt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return rt.forEach(n.mutations,r=>{const o=new tn(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,n){const i=new tn(n,0),r=this.Mr.firstAfterOrEqual(i);return rt.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(t){this.kr=t,this.docs=function(){return new ye(Tt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,u=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return rt.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(t,n){let i=cr();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():bn.newInvalidDocument(r))}),rt.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let o=cr();const u=n.path,h=new Tt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||vH(yH(g),i)<=0||(r.has(g.key)||kp(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return rt.resolve(o)}getAllFromCollectionGroup(t,n,i,r){xt()}qr(t,n){return rt.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new Hq(this)}getSize(t){return rt.resolve(this.size)}}class Hq extends kq{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Ir.addEntry(t,r)):this.Ir.removeEntry(i)}),rt.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(t){this.persistence=t,this.Qr=new Yo(n=>GT(n),KT),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new tb,this.targetCount=0,this.Kr=ku.Un()}forEachTarget(t,n){return this.Qr.forEach((i,r)=>n(r)),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),rt.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new ku(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.zn(n),rt.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,i){let r=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),rt.waitFor(o).next(()=>r)}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const i=this.Qr.get(n)||null;return rt.resolve(i)}addMatchingKeys(t,n,i){return this.Ur.yr(n,i),rt.resolve()}removeMatchingKeys(t,n,i){this.Ur.Sr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),rt.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Ur.vr(n);return rt.resolve(i)}containsKey(t,n){return rt.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Vp(0),this.zr=!1,this.zr=!0,this.jr=new Fq,this.referenceDelegate=t(this),this.Hr=new qq(this),this.indexManager=new Dq,this.remoteDocumentCache=function(r){return new zq(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Rq(n),this.Yr=new jq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Bq,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Wr[t.toKey()];return i||(i=new $q(n,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,i){mt("MemoryPersistence","Starting transaction:",t);const r=new Gq(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(o=>this.referenceDelegate.Xr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}ei(t,n){return rt.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,n)))}}class Gq extends TH{constructor(t){super(),this.currentSequenceNumber=t}}class eb{constructor(t){this.persistence=t,this.ti=new tb,this.ni=null}static ri(t){return new eb(t)}get ii(){if(this.ni)return this.ni;throw xt()}addReference(t,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),rt.resolve()}removeReference(t,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),rt.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(o=>this.ii.add(o.toString()))}).next(()=>i.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.ii,i=>{const r=Tt.fromPath(i);return this.si(t,r).next(o=>{o||n.removeEntry(r,Rt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return rt.or([()=>rt.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class up{constructor(t,n){this.persistence=t,this.oi=new Yo(i=>SH(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Nq(this,n)}static ri(t,n){return new up(t,n)}Zr(){}Xr(t){return rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}sr(t){let n=0;return this.rr(t,i=>{n++}).next(()=>n)}rr(t,n){return rt.forEach(this.oi,(i,r)=>this.ar(t,i,r).next(o=>o?rt.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.qr(t,u=>this.ar(t,u,n).next(h=>{h||(i++,o.removeEntry(u,Rt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),rt.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),rt.resolve()}removeReference(t,n,i){return this.oi.set(i,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),rt.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Rm(t.data.value)),n}ar(t,n,i){return rt.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.oi.get(n);return rt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Hi=i,this.Ji=r}static Yi(t,n){let i=Bt(),r=Bt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new nb(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return AF()?8:bH(An())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,i,r){const o={result:null};return this.rs(t,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(t,n,r,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new Kq;return this._s(t,n,u).next(h=>{if(o.result=h,this.Xi)return this.us(t,n,u,h.size)})}).next(()=>o.result)}us(t,n,i,r){return i.documentReadCount<this.es?($l()<=jt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),rt.resolve()):($l()<=jt.DEBUG&&mt("QueryEngine","Query:",zl(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?($l()<=jt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ms(n))):rt.resolve())}rs(t,n){if(ER(n))return rt.resolve(null);let i=ms(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=j0(n,null,"F"),i=ms(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Bt(...o);return this.ns.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const d=this.cs(n,h);return this.ls(n,d,u,f.readTime)?this.rs(t,j0(n,null,"F")):this.hs(t,d,n,f)}))})))}ss(t,n,i,r){return ER(n)||r.isEqual(Rt.min())?rt.resolve(null):this.ns.getDocuments(t,i).next(o=>{const u=this.cs(n,o);return this.ls(n,u,i,r)?rt.resolve(null):($l()<=jt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zl(n)),this.hs(t,u,n,gH(r,Wh)).next(h=>h))})}cs(t,n){let i=new Ge(dV(t));return n.forEach((r,o)=>{kp(t,o)&&(i=i.add(o))}),i}ls(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}_s(t,n,i){return $l()<=jt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",zl(n)),this.ns.getDocumentsMatchingQuery(t,n,xa.min(),i)}hs(t,n,i,r){return this.ns.getDocumentsMatchingQuery(t,i,r).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="LocalStore",Yq=3e8;class Wq{constructor(t,n,i,r){this.persistence=t,this.Ps=n,this.serializer=r,this.Ts=new ye(kt),this.Is=new Yo(o=>GT(o),KT),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Uq(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function Xq(e,t,n,i){return new Wq(e,t,n,i)}async function kV(e,t){const n=Dt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.As(t),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let f=Bt();for(const d of r){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(i,f).next(d=>({Rs:d,removedBatchIds:u,addedBatchIds:h}))})})}function Zq(e,t){const n=Dt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,d,g){const v=d.batch,_=v.keys();let S=rt.resolve();return _.forEach(A=>{S=S.next(()=>g.getEntry(f,A)).next(R=>{const I=d.docVersions.get(A);Jt(I!==null),R.version.compareTo(I)<0&&(v.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),g.addEntry(R)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(n,i,t,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Bt();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function LV(e){const t=Dt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function Jq(e,t){const n=Dt(e),i=t.snapshotVersion;let r=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});r=n.Ts;const h=[];t.targetChanges.forEach((g,v)=>{const _=r.get(v);if(!_)return;h.push(n.Hr.removeMatchingKeys(o,g.removedDocuments,v).next(()=>n.Hr.addMatchingKeys(o,g.addedDocuments,v)));let S=_.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken(fn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,i)),r=r.insert(v,S),function(R,I,P){return R.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Yq?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(_,S,g)&&h.push(n.Hr.updateTargetData(o,S))});let f=cr(),d=Bt();if(t.documentUpdates.forEach(g=>{t.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(t8(o,u,t.documentUpdates).next(g=>{f=g.Vs,d=g.fs})),!i.isEqual(Rt.min())){const g=n.Hr.getLastRemoteSnapshotVersion(o).next(v=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(g)}return rt.waitFor(h).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(n.Ts=r,o))}function t8(e,t,n){let i=Bt(),r=Bt();return n.forEach(o=>i=i.add(o)),t.getEntries(e,i).next(o=>{let u=cr();return n.forEach((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Rt.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):mt(ib,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)}),{Vs:u,fs:r}})}function e8(e,t){const n=Dt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=zT),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function n8(e,t){const n=Dt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Hr.getTargetData(i,t).next(o=>o?(r=o,rt.resolve(r)):n.Hr.allocateTargetId(i).next(u=>(r=new pa(t,u,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(t,i.targetId)),i})}async function H0(e,t,n){const i=Dt(e),r=i.Ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r))}catch(u){if(!Qu(u))throw u;mt(ib,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ts=i.Ts.remove(t),i.Is.delete(r.target)}function NR(e,t,n){const i=Dt(e);let r=Rt.min(),o=Bt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,g){const v=Dt(f),_=v.Is.get(g);return _!==void 0?rt.resolve(v.Ts.get(_)):v.Hr.getTargetData(d,g)}(i,u,ms(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,t,n?r:Rt.min(),n?o:Bt())).next(h=>(i8(i,$H(t),h),{documents:h,gs:o})))}function i8(e,t,n){let i=e.Es.get(t)||Rt.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),e.Es.set(t,i)}class kR{constructor(){this.activeTargetIds=QH()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class s8{constructor(){this.ho=new kR,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,i){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new kR,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="ConnectivityMonitor";class UR{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){mt(LR,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){mt(LR,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm=null;function q0(){return fm===null?fm=function(){return 268435456+Math.round(2147483648*Math.random())}():fm++,"0x"+fm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="RestConnection",a8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o8{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===sp?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(t,n,i,r,o){const u=q0(),h=this.bo(t,n.toUriEncodedString());mt(kv,`Sending RPC '${t}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,r,o),this.vo(t,h,f,i).then(d=>(mt(kv,`Received RPC '${t}' ${u}: `,d),d),d=>{throw Vu(kv,`RPC '${t}' ${u} failed with error: `,d,"url: ",h,"request:",i),d})}Co(t,n,i,r,o,u){return this.So(t,n,i,r,o)}Do(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}bo(t,n){const i=a8[t];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class u8 extends o8{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,i,r){const o=q0();return new Promise((u,h)=>{const f=new F2;f.setWithCredentials(!0),f.listenOnce($2.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case xm.NO_ERROR:const g=f.getResponseJson();mt(gn,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(g)),u(g);break;case xm.TIMEOUT:mt(gn,`RPC '${t}' ${o} timed out`),h(new pt(st.DEADLINE_EXCEEDED,"Request time out"));break;case xm.HTTP_ERROR:const v=f.getStatus();if(mt(gn,`RPC '${t}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const A=function(I){const P=I.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(P)>=0?P:st.UNKNOWN}(S.status);h(new pt(A,S.message))}else h(new pt(st.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new pt(st.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{mt(gn,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(r);mt(gn,`RPC '${t}' ${o} sending request:`,r),f.send(n,"POST",d,i,15)})}Wo(t,n,i){const r=q0(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=q2(),h=H2(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const g=o.join("");mt(gn,`Creating RPC '${t}' stream ${r}: ${g}`,f);const v=u.createWebChannel(g,f);let _=!1,S=!1;const A=new l8({Fo:I=>{S?mt(gn,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(_||(mt(gn,`Opening RPC '${t}' stream ${r} transport.`),v.open(),_=!0),mt(gn,`RPC '${t}' stream ${r} sending:`,I),v.send(I))},Mo:()=>v.close()}),R=(I,P,j)=>{I.listen(P,U=>{try{j(U)}catch(W){setTimeout(()=>{throw W},0)}})};return R(v,gh.EventType.OPEN,()=>{S||(mt(gn,`RPC '${t}' stream ${r} transport opened.`),A.Qo())}),R(v,gh.EventType.CLOSE,()=>{S||(S=!0,mt(gn,`RPC '${t}' stream ${r} transport closed`),A.Uo())}),R(v,gh.EventType.ERROR,I=>{S||(S=!0,Vu(gn,`RPC '${t}' stream ${r} transport errored:`,I),A.Uo(new pt(st.UNAVAILABLE,"The operation could not be completed")))}),R(v,gh.EventType.MESSAGE,I=>{var P;if(!S){const j=I.data[0];Jt(!!j);const U=j,W=(U==null?void 0:U.error)||((P=U[0])===null||P===void 0?void 0:P.error);if(W){mt(gn,`RPC '${t}' stream ${r} received error:`,W);const z=W.status;let tt=function(x){const V=Ne[x];if(V!==void 0)return AV(V)}(z),M=W.message;tt===void 0&&(tt=st.INTERNAL,M="Unknown error status: "+z+" with message "+W.message),S=!0,A.Uo(new pt(tt,M)),v.close()}else mt(gn,`RPC '${t}' stream ${r} received:`,j),A.Ko(j)}}),R(h,z2.STAT_EVENT,I=>{I.stat===V0.PROXY?mt(gn,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===V0.NOPROXY&&mt(gn,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function Lv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(e){return new dq(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(t,n,i=1e3,r=1.5,o=6e4){this.Ti=t,this.timerId=n,this.Go=i,this.zo=r,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,n-i);r>0&&mt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="PersistentStream";class jV{constructor(t,n,i,r,o,u,h,f){this.Ti=t,this.n_=i,this.r_=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new UV(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===n&&this.V_(i,r)},i=>{t(()=>{const r=new pt(st.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(t,n){const i=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return mt(jR,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(mt(jR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c8 extends jV{constructor(t,n,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,u),this.serializer=o}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=gq(this.serializer,t),i=function(o){if(!("targetChange"in o))return Rt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Rt.min():u.readTime?ps(u.readTime):Rt.min()}(t);return this.listener.p_(n,i)}y_(t){const n={};n.database=z0(this.serializer),n.addTarget=function(o,u){let h;const f=u.target;if(h=L0(f)?{documents:_q(o,f)}:{query:Tq(o,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=RV(o,u.resumeToken);const d=B0(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Rt.min())>0){h.readTime=lp(o,u.snapshotVersion.toTimestamp());const d=B0(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h}(this.serializer,t);const i=Eq(this.serializer,t);i&&(n.labels=i),this.I_(n)}w_(t){const n={};n.database=z0(this.serializer),n.removeTarget=t,this.I_(n)}}class h8 extends jV{constructor(t,n,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Jt(!!t.streamToken),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Jt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=vq(t.writeResults,t.commitTime),i=ps(t.commitTime);return this.listener.v_(i,n)}C_(){const t={};t.database=z0(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>yq(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{}class d8 extends f8{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new pt(st.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(t,F0(n,i),r,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(st.UNKNOWN,o.toString())})}Co(t,n,i,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(t,F0(n,i),r,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(st.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class m8{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ur(n),this.N_=!1):mt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="RemoteStore";class p8{constructor(t,n,i,r,o){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{i.enqueueAndForget(async()=>{Wo(this)&&(mt(Fo,"Restarting streams for network reachability change."),await async function(f){const d=Dt(f);d.W_.add(4),await Cf(d),d.j_.set("Unknown"),d.W_.delete(4),await Fp(d)}(this))})}),this.j_=new m8(i,r)}}async function Fp(e){if(Wo(e))for(const t of e.G_)await t(!0)}async function Cf(e){for(const t of e.G_)await t(!1)}function BV(e,t){const n=Dt(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),ob(n)?ab(n):Wu(n).c_()&&rb(n,t))}function sb(e,t){const n=Dt(e),i=Wu(n);n.K_.delete(t),i.c_()&&FV(n,t),n.K_.size===0&&(i.c_()?i.P_():Wo(n)&&n.j_.set("Unknown"))}function rb(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wu(e).y_(t)}function FV(e,t){e.H_.Ne(t),Wu(e).w_(t)}function ab(e){e.H_=new uq({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Wu(e).start(),e.j_.B_()}function ob(e){return Wo(e)&&!Wu(e).u_()&&e.K_.size>0}function Wo(e){return Dt(e).W_.size===0}function $V(e){e.H_=void 0}async function g8(e){e.j_.set("Online")}async function y8(e){e.K_.forEach((t,n)=>{rb(e,t)})}async function v8(e,t){$V(e),ob(e)?(e.j_.q_(t),ab(e)):e.j_.set("Unknown")}async function _8(e,t,n){if(e.j_.set("Online"),t instanceof xV&&t.state===2&&t.cause)try{await async function(r,o){const u=o.cause;for(const h of o.targetIds)r.K_.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r.K_.delete(h),r.H_.removeTarget(h))}(e,t)}catch(i){mt(Fo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await cp(e,i)}else if(t instanceof Im?e.H_.We(t):t instanceof wV?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Rt.min()))try{const i=await LV(e.localStore);n.compareTo(i)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.K_.get(d);g&&o.K_.set(d,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,d)=>{const g=o.K_.get(f);if(!g)return;o.K_.set(f,g.withResumeToken(fn.EMPTY_BYTE_STRING,g.snapshotVersion)),FV(o,f);const v=new pa(g.target,f,d,g.sequenceNumber);rb(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(e,n)}catch(i){mt(Fo,"Failed to raise snapshot:",i),await cp(e,i)}}async function cp(e,t,n){if(!Qu(t))throw t;e.W_.add(1),await Cf(e),e.j_.set("Offline"),n||(n=()=>LV(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{mt(Fo,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Fp(e)})}function zV(e,t){return t().catch(n=>cp(e,n,t))}async function $p(e){const t=Dt(e),n=Ia(t);let i=t.U_.length>0?t.U_[t.U_.length-1].batchId:zT;for(;T8(t);)try{const r=await e8(t.localStore,i);if(r===null){t.U_.length===0&&n.P_();break}i=r.batchId,b8(t,r)}catch(r){await cp(t,r)}HV(t)&&qV(t)}function T8(e){return Wo(e)&&e.U_.length<10}function b8(e,t){e.U_.push(t);const n=Ia(e);n.c_()&&n.S_&&n.b_(t.mutations)}function HV(e){return Wo(e)&&!Ia(e).u_()&&e.U_.length>0}function qV(e){Ia(e).start()}async function E8(e){Ia(e).C_()}async function S8(e){const t=Ia(e);for(const n of e.U_)t.b_(n.mutations)}async function A8(e,t,n){const i=e.U_.shift(),r=XT.from(i,t,n);await zV(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await $p(e)}async function w8(e,t){t&&Ia(e).S_&&await async function(i,r){if(function(u){return oq(u)&&u!==st.ABORTED}(r.code)){const o=i.U_.shift();Ia(i).h_(),await zV(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await $p(i)}}(e,t),HV(e)&&qV(e)}async function BR(e,t){const n=Dt(e);n.asyncQueue.verifyOperationInProgress(),mt(Fo,"RemoteStore received new credentials");const i=Wo(n);n.W_.add(3),await Cf(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Fp(n)}async function x8(e,t){const n=Dt(e);t?(n.W_.delete(2),await Fp(n)):t||(n.W_.add(2),await Cf(n),n.j_.set("Unknown"))}function Wu(e){return e.J_||(e.J_=function(n,i,r){const o=Dt(n);return o.M_(),new c8(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{xo:g8.bind(null,e),No:y8.bind(null,e),Lo:v8.bind(null,e),p_:_8.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),ob(e)?ab(e):e.j_.set("Unknown")):(await e.J_.stop(),$V(e))})),e.J_}function Ia(e){return e.Y_||(e.Y_=function(n,i,r){const o=Dt(n);return o.M_(),new h8(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:E8.bind(null,e),Lo:w8.bind(null,e),D_:S8.bind(null,e),v_:A8.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await $p(e)):(await e.Y_.stop(),e.U_.length>0&&(mt(Fo,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,n,i,r,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,o){const u=Date.now()+i,h=new lb(t,n,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ub(e,t){if(ur("AsyncQueue",`${t}: ${e}`),Qu(e))return new pt(st.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{static emptySet(t){return new lu(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Tt.comparator(n.key,i.key):(n,i)=>Tt.comparator(n.key,i.key),this.keyedMap=yh(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof lu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new lu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.Z_=new ye(Tt.comparator)}track(t){const n=t.doc.key,i=this.Z_.get(n);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(n):t.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):xt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Lu{constructor(t,n,i,r,o,u,h,f,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,n,i,r,o){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Lu(t,n,lu.emptySet(n),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Np(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class C8{constructor(){this.queries=$R(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const r=Dt(n),o=r.queries;r.queries=$R(),o.forEach((u,h)=>{for(const f of h.ta)f.onError(i)})})(this,new pt(st.ABORTED,"Firestore shutting down"))}}function $R(){return new Yo(e=>fV(e),Np)}async function GV(e,t){const n=Dt(e);let i=3;const r=t.query;let o=n.queries.get(r);o?!o.na()&&t.ra()&&(i=2):(o=new R8,i=t.ra()?0:1);try{switch(i){case 0:o.ea=await n.onListen(r,!0);break;case 1:o.ea=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(u){const h=ub(u,`Initialization of query '${zl(t.query)}' failed`);return void t.onError(h)}n.queries.set(r,o),o.ta.push(t),t.sa(n.onlineState),o.ea&&t.oa(o.ea)&&cb(n)}async function KV(e,t){const n=Dt(e),i=t.query;let r=3;const o=n.queries.get(i);if(o){const u=o.ta.indexOf(t);u>=0&&(o.ta.splice(u,1),o.ta.length===0?r=t.ra()?0:1:!o.na()&&t.ra()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function D8(e,t){const n=Dt(e);let i=!1;for(const r of t){const o=r.query,u=n.queries.get(o);if(u){for(const h of u.ta)h.oa(r)&&(i=!0);u.ea=r}}i&&cb(n)}function I8(e,t,n){const i=Dt(e),r=i.queries.get(t);if(r)for(const o of r.ta)o.onError(n);i.queries.delete(t)}function cb(e){e.ia.forEach(t=>{t.next()})}var G0,zR;(zR=G0||(G0={}))._a="default",zR.Cache="cache";class QV{constructor(t,n,i){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Lu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Lu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==G0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(t){this.key=t}}class WV{constructor(t){this.key=t}}class P8{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Bt(),this.mutatedKeys=Bt(),this.ya=dV(t),this.wa=new lu(this.ya)}get Sa(){return this.fa}ba(t,n){const i=n?n.Da:new FR,r=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,u=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((g,v)=>{const _=r.get(g),S=kp(this.query,v)?v:null,A=!!_&&this.mutatedKeys.has(_.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;_&&S?_.data.isEqual(S.data)?A!==R&&(i.track({type:3,doc:S}),I=!0):this.va(_,S)||(i.track({type:2,doc:S}),I=!0,(f&&this.ya(S,f)>0||d&&this.ya(S,d)<0)&&(h=!0)):!_&&S?(i.track({type:0,doc:S}),I=!0):_&&!S&&(i.track({type:1,doc:_}),I=!0,(f||d)&&(h=!0)),I&&(S?(u=u.add(S),o=R?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{wa:u,Da:i,ls:h,mutatedKeys:o}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const o=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const u=t.Da.X_();u.sort((g,v)=>function(S,A){const R=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return R(S)-R(A)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(i),r=r!=null&&r;const h=n&&!r?this.Fa():[],f=this.pa.size===0&&this.current&&!r?1:0,d=f!==this.ga;return this.ga=f,u.length!==0||d?{snapshot:new Lu(this.query,t.wa,o,u,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new FR,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Bt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return t.forEach(i=>{this.pa.has(i)||n.push(new WV(i))}),this.pa.forEach(i=>{t.has(i)||n.push(new YV(i))}),n}Oa(t){this.fa=t.gs,this.pa=Bt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Lu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hb="SyncEngine";class V8{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class M8{constructor(t){this.key=t,this.Ba=!1}}class O8{constructor(t,n,i,r,o,u){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Yo(h=>fV(h),Np),this.qa=new Map,this.Qa=new Set,this.$a=new ye(Tt.comparator),this.Ua=new Map,this.Ka=new tb,this.Wa={},this.Ga=new Map,this.za=ku.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function N8(e,t,n=!0){const i=nM(e);let r;const o=i.ka.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Na()):r=await XV(i,t,n,!0),r}async function k8(e,t){const n=nM(e);await XV(n,t,!0,!1)}async function XV(e,t,n,i){const r=await n8(e.localStore,ms(t)),o=r.targetId,u=e.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await L8(e,t,o,u==="current",r.resumeToken)),e.isPrimaryClient&&n&&BV(e.remoteStore,r),h}async function L8(e,t,n,i,r){e.Ha=(v,_,S)=>async function(R,I,P,j){let U=I.view.ba(P);U.ls&&(U=await NR(R.localStore,I.query,!1).then(({documents:M})=>I.view.ba(M,U)));const W=j&&j.targetChanges.get(I.targetId),z=j&&j.targetMismatches.get(I.targetId)!=null,tt=I.view.applyChanges(U,R.isPrimaryClient,W,z);return qR(R,I.targetId,tt.Ma),tt.snapshot}(e,v,_,S);const o=await NR(e.localStore,t,!0),u=new P8(t,o.gs),h=u.ba(o.documents),f=Rf.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),d=u.applyChanges(h,e.isPrimaryClient,f);qR(e,n,d.Ma);const g=new V8(t,n,u);return e.ka.set(t,g),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),d.snapshot}async function U8(e,t,n){const i=Dt(e),r=i.ka.get(t),o=i.qa.get(r.targetId);if(o.length>1)return i.qa.set(r.targetId,o.filter(u=>!Np(u,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await H0(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&sb(i.remoteStore,r.targetId),K0(i,r.targetId)}).catch(Ku)):(K0(i,r.targetId),await H0(i.localStore,r.targetId,!0))}async function j8(e,t){const n=Dt(e),i=n.ka.get(t),r=n.qa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),sb(n.remoteStore,i.targetId))}async function B8(e,t,n){const i=K8(e);try{const r=await function(u,h){const f=Dt(u),d=qe.now(),g=h.reduce((S,A)=>S.add(A.key),Bt());let v,_;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=cr(),R=Bt();return f.ds.getEntries(S,g).next(I=>{A=I,A.forEach((P,j)=>{j.isValidDocument()||(R=R.add(P))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,A)).next(I=>{v=I;const P=[];for(const j of h){const U=nq(j,v.get(j.key).overlayedDocument);U!=null&&P.push(new ka(j.key,U,sV(U.value.mapValue),Ai.exists(!0)))}return f.mutationQueue.addMutationBatch(S,d,P,h)}).next(I=>{_=I;const P=I.applyToLocalDocumentSet(v,R);return f.documentOverlayCache.saveOverlays(S,I.batchId,P)})}).then(()=>({batchId:_.batchId,changes:pV(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(u,h,f){let d=u.Wa[u.currentUser.toKey()];d||(d=new ye(kt)),d=d.insert(h,f),u.Wa[u.currentUser.toKey()]=d}(i,r.batchId,n),await Df(i,r.changes),await $p(i.remoteStore)}catch(r){const o=ub(r,"Failed to persist write");n.reject(o)}}async function ZV(e,t){const n=Dt(e);try{const i=await Jq(n.localStore,t);t.targetChanges.forEach((r,o)=>{const u=n.Ua.get(o);u&&(Jt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Ba=!0:r.modifiedDocuments.size>0?Jt(u.Ba):r.removedDocuments.size>0&&(Jt(u.Ba),u.Ba=!1))}),await Df(n,i,t)}catch(i){await Ku(i)}}function HR(e,t,n){const i=Dt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ka.forEach((o,u)=>{const h=u.view.sa(t);h.snapshot&&r.push(h.snapshot)}),function(u,h){const f=Dt(u);f.onlineState=h;let d=!1;f.queries.forEach((g,v)=>{for(const _ of v.ta)_.sa(h)&&(d=!0)}),d&&cb(f)}(i.eventManager,t),r.length&&i.La.p_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function F8(e,t,n){const i=Dt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Ua.get(t),o=r&&r.key;if(o){let u=new ye(Tt.comparator);u=u.insert(o,bn.newNoDocument(o,Rt.min()));const h=Bt().add(o),f=new jp(Rt.min(),new Map,new ye(kt),u,h);await ZV(i,f),i.$a=i.$a.remove(o),i.Ua.delete(t),fb(i)}else await H0(i.localStore,t,!1).then(()=>K0(i,t,n)).catch(Ku)}async function $8(e,t){const n=Dt(e),i=t.batch.batchId;try{const r=await Zq(n.localStore,t);tM(n,i,null),JV(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Df(n,r)}catch(r){await Ku(r)}}async function z8(e,t,n){const i=Dt(e);try{const r=await function(u,h){const f=Dt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next(v=>(Jt(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(d,v))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>f.localDocuments.getDocuments(d,g))})}(i.localStore,t);tM(i,t,n),JV(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Df(i,r)}catch(r){await Ku(r)}}function JV(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function tM(e,t,n){const i=Dt(e);let r=i.Wa[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(n?o.reject(n):o.resolve(),r=r.remove(t)),i.Wa[i.currentUser.toKey()]=r}}function K0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.qa.get(t))e.ka.delete(i),n&&e.La.Ja(i,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(i=>{e.Ka.containsKey(i)||eM(e,i)})}function eM(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(sb(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),fb(e))}function qR(e,t,n){for(const i of n)i instanceof YV?(e.Ka.addReference(i.key,t),H8(e,i)):i instanceof WV?(mt(hb,"Document no longer in limbo: "+i.key),e.Ka.removeReference(i.key,t),e.Ka.containsKey(i.key)||eM(e,i.key)):xt()}function H8(e,t){const n=t.key,i=n.path.canonicalString();e.$a.get(n)||e.Qa.has(i)||(mt(hb,"New document in limbo: "+n),e.Qa.add(i),fb(e))}function fb(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Tt(ue.fromString(t)),i=e.za.next();e.Ua.set(i,new M8(n)),e.$a=e.$a.insert(n,i),BV(e.remoteStore,new pa(ms(QT(n.path)),i,"TargetPurposeLimboResolution",Vp.ae))}}async function Df(e,t,n){const i=Dt(e),r=[],o=[],u=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{u.push(i.Ha(f,t,n).then(d=>{var g;if((d||n)&&i.isPrimaryClient){const v=d?!d.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){r.push(d);const v=nb.Yi(f.targetId,d);o.push(v)}}))}),await Promise.all(u),i.La.p_(r),await async function(f,d){const g=Dt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>rt.forEach(d,_=>rt.forEach(_.Hi,S=>g.persistence.referenceDelegate.addReference(v,_.targetId,S)).next(()=>rt.forEach(_.Ji,S=>g.persistence.referenceDelegate.removeReference(v,_.targetId,S)))))}catch(v){if(!Qu(v))throw v;mt(ib,"Failed to update sequence numbers: "+v)}for(const v of d){const _=v.targetId;if(!v.fromCache){const S=g.Ts.get(_),A=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(A);g.Ts=g.Ts.insert(_,R)}}}(i.localStore,o))}async function q8(e,t){const n=Dt(e);if(!n.currentUser.isEqual(t)){mt(hb,"User change. New user:",t.toKey());const i=await kV(n.localStore,t);n.currentUser=t,function(o,u){o.Ga.forEach(h=>{h.forEach(f=>{f.reject(new pt(st.CANCELLED,u))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Df(n,i.Rs)}}function G8(e,t){const n=Dt(e),i=n.Ua.get(t);if(i&&i.Ba)return Bt().add(i.key);{let r=Bt();const o=n.qa.get(t);if(!o)return r;for(const u of o){const h=n.ka.get(u);r=r.unionWith(h.view.Sa)}return r}}function nM(e){const t=Dt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=G8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=F8.bind(null,t),t.La.p_=D8.bind(null,t.eventManager),t.La.Ja=I8.bind(null,t.eventManager),t}function K8(e){const t=Dt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=z8.bind(null,t),t}class hp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bp(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return Xq(this.persistence,new Qq,t.initialUser,this.serializer)}Xa(t){return new NV(eb.ri,this.serializer)}Za(t){return new s8}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hp.provider={build:()=>new hp};class Q8 extends hp{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Jt(this.persistence.referenceDelegate instanceof up);const i=this.persistence.referenceDelegate.garbageCollector;return new Mq(i,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new NV(i=>up.ri(i,n),this.serializer)}}class Q0{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>HR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=q8.bind(null,this.syncEngine),await x8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new C8}()}createDatastore(t){const n=Bp(t.databaseInfo.databaseId),i=function(o){return new u8(o)}(t.databaseInfo);return function(o,u,h,f){return new d8(o,u,h,f)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,o,u,h){return new p8(i,r,o,u,h)}(this.localStore,this.datastore,t.asyncQueue,n=>HR(this.syncEngine,n,0),function(){return UR.D()?new UR:new r8}())}createSyncEngine(t,n){return function(r,o,u,h,f,d,g){const v=new O8(r,o,u,h,f,d);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const o=Dt(r);mt(Fo,"RemoteStore shutting down."),o.W_.add(5),await Cf(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Q0.provider={build:()=>new Q0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ur("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="FirestoreClient";class Y8{constructor(t,n,i,r,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Tn.UNAUTHENTICATED,this.clientId=Q2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{mt(Pa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(mt(Pa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=ub(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Uv(e,t){e.asyncQueue.verifyOperationInProgress(),mt(Pa,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await kV(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function GR(e,t){e.asyncQueue.verifyOperationInProgress();const n=await W8(e);mt(Pa,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>BR(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>BR(t.remoteStore,r)),e._onlineComponents=t}async function W8(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){mt(Pa,"Using user provided OfflineComponentProvider");try{await Uv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===st.FAILED_PRECONDITION||r.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Vu("Error using user provided cache. Falling back to memory cache: "+n),await Uv(e,new hp)}}else mt(Pa,"Using default OfflineComponentProvider"),await Uv(e,new Q8(void 0));return e._offlineComponents}async function sM(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(mt(Pa,"Using user provided OnlineComponentProvider"),await GR(e,e._uninitializedComponentsProvider._online)):(mt(Pa,"Using default OnlineComponentProvider"),await GR(e,new Q0))),e._onlineComponents}function X8(e){return sM(e).then(t=>t.syncEngine)}async function rM(e){const t=await sM(e),n=t.eventManager;return n.onListen=N8.bind(null,t.syncEngine),n.onUnlisten=U8.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=k8.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=j8.bind(null,t.syncEngine),n}function Z8(e,t,n={}){const i=new nr;return e.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new iM({next:_=>{g.su(),u.enqueueAndForget(()=>KV(o,v));const S=_.docs.has(h);!S&&_.fromCache?d.reject(new pt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&f&&f.source==="server"?d.reject(new pt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),v=new QV(QT(h.path),g,{includeMetadataChanges:!0,Ta:!0});return GV(o,v)}(await rM(e),e.asyncQueue,t,n,i)),i.promise}function J8(e,t,n={}){const i=new nr;return e.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new iM({next:_=>{g.su(),u.enqueueAndForget(()=>KV(o,v)),_.fromCache&&f.source==="server"?d.reject(new pt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),v=new QV(h,g,{includeMetadataChanges:!0,Ta:!0});return GV(o,v)}(await rM(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(e,t,n){if(!n)throw new pt(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function tG(e,t,n,i){if(t===!0&&i===!0)throw new pt(st.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function QR(e){if(!Tt.isDocumentKey(e))throw new pt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function YR(e){if(Tt.isDocumentKey(e))throw new pt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function zp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":xt()}function Fi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zp(e);throw new pt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="firestore.googleapis.com",WR=!0;class XR{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lM,this.ssl=WR}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:WR;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OV;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Pq)throw new pt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tG("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aM((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hp{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XR(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new oH;switch(i.type){case"firstParty":return new hH(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=KR.get(n);i&&(mt("ComponentProvider","Removing Datastore"),KR.delete(n),i.terminate())}(this),Promise.resolve()}}function eG(e,t,n,i={}){var r;const o=(e=Fi(e,Hp))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),h=`${t}:${n}`;o.host!==lM&&o.host!==h&&Vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:i});if(!Lo(f,u)&&(e._setSettings(f),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=Tn.MOCK_USER;else{d=yF(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new pt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Tn(v)}e._authCredentials=new lH(new G2(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If=class uM{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new uM(this.firestore,t,this._query)}};class Nn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Nn(this.firestore,t,this._key)}}class ba extends If{constructor(t,n,i){super(t,n,QT(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Nn(this.firestore,null,new Tt(t))}withConverter(t){return new ba(this.firestore,t,this._path)}}function cM(e,t,...n){if(e=en(e),oM("collection","path",t),e instanceof Hp){const i=ue.fromString(t,...n);return YR(i),new ba(e,null,i)}{if(!(e instanceof Nn||e instanceof ba))throw new pt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(ue.fromString(t,...n));return YR(i),new ba(e.firestore,null,i)}}function Ei(e,t,...n){if(e=en(e),arguments.length===1&&(t=Q2.newId()),oM("doc","path",t),e instanceof Hp){const i=ue.fromString(t,...n);return QR(i),new Nn(e,null,new Tt(i))}{if(!(e instanceof Nn||e instanceof ba))throw new pt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(ue.fromString(t,...n));return QR(i),new Nn(e.firestore,e instanceof ba?e.converter:null,new Tt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="AsyncQueue";class JR{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new UV(this,"async_queue_retry"),this.Su=()=>{const i=Lv();i&&mt(ZR,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const n=Lv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Lv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new nr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Qu(t))throw t;mt(ZR,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const r=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw ur("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(t,n,i){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const r=lb.createAndSchedule(this,t,n,i,o=>this.Fu(o));return this.fu.push(r),r}Du(){this.gu&&xt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Xo extends Hp{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new JR,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new JR(t),this._firestoreClient=void 0,await t}}}function nG(e,t){const n=typeof e=="object"?e:s2(),i=typeof e=="string"?e:sp,r=VT(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=pF("firestore");o&&eG(r,...o)}return r}function db(e){if(e._terminated)throw new pt(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||iG(e),e._firestoreClient}function iG(e){var t,n,i;const r=e._freezeSettings(),o=function(h,f,d,g){return new xH(h,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,aM(g.experimentalLongPollingOptions),g.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new Y8(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Uu(fn.fromBase64String(t))}catch(n){throw new pt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Uu(fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=/^__.*__$/;class rG{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new ka(t,this.data,this.fieldMask,n,this.fieldTransforms):new xf(t,this.data,n,this.fieldTransforms)}}class hM{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new ka(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function fM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class gb{constructor(t,n,i,r,o,u){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new gb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.ku({path:i,Qu:!1});return r.$u(t),r}Uu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return fp(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(fM(this.Lu)&&sG.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class aG{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Bp(t)}ju(t,n,i,r=!1){return new gb({Lu:t,methodName:n,zu:i,path:hn.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kp(e){const t=e._freezeSettings(),n=Bp(e._databaseId);return new aG(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dM(e,t,n,i,r,o={}){const u=e.ju(o.merge||o.mergeFields?2:0,t,n,r);vb("Data must be an object, but it was:",u,i);const h=mM(i,u);let f,d;if(o.merge)f=new Xn(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const _=Y0(t,v,n);if(!u.contains(_))throw new pt(st.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);gM(g,_)||g.push(_)}f=new Xn(g),d=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,d=u.fieldTransforms;return new rG(new $n(h),f,d)}class Qp extends Gp{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qp}}class yb extends Gp{_toFieldTransform(t){return new ZH(t.path,new ef)}isEqual(t){return t instanceof yb}}function oG(e,t,n,i){const r=e.ju(1,t,n);vb("Data must be an object, but it was:",r,i);const o=[],u=$n.empty();Na(i,(f,d)=>{const g=_b(t,f,n);d=en(d);const v=r.Uu(g);if(d instanceof Qp)o.push(g);else{const _=Pf(d,v);_!=null&&(o.push(g),u.set(g,_))}});const h=new Xn(o);return new hM(u,h,r.fieldTransforms)}function lG(e,t,n,i,r,o){const u=e.ju(1,t,n),h=[Y0(t,i,n)],f=[r];if(o.length%2!=0)throw new pt(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)h.push(Y0(t,o[_])),f.push(o[_+1]);const d=[],g=$n.empty();for(let _=h.length-1;_>=0;--_)if(!gM(d,h[_])){const S=h[_];let A=f[_];A=en(A);const R=u.Uu(S);if(A instanceof Qp)d.push(S);else{const I=Pf(A,R);I!=null&&(d.push(S),g.set(S,I))}}const v=new Xn(d);return new hM(g,v,u.fieldTransforms)}function uG(e,t,n,i=!1){return Pf(n,e.ju(i?4:3,t))}function Pf(e,t){if(pM(e=en(e)))return vb("Unsupported field value:",t,e),mM(e,t);if(e instanceof Gp)return function(i,r){if(!fM(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,r){const o=[];let u=0;for(const h of i){let f=Pf(h,r.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(e,t)}return function(i,r){if((i=en(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return YH(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=qe.fromDate(i);return{timestampValue:lp(r.serializer,o)}}if(i instanceof qe){const o=new qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lp(r.serializer,o)}}if(i instanceof mb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Uu)return{bytesValue:RV(r.serializer,i._byteString)};if(i instanceof Nn){const o=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw r.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:JT(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof pb)return function(u,h){return{mapValue:{fields:{[nV]:{stringValue:iV},[rp]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw h.Wu("VectorValues must only contain numeric values.");return YT(h.serializer,d)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${zp(i)}`)}(e,t)}function mM(e,t){const n={};return W2(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Na(e,(i,r)=>{const o=Pf(r,t.qu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function pM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qe||e instanceof mb||e instanceof Uu||e instanceof Nn||e instanceof Gp||e instanceof pb)}function vb(e,t,n){if(!pM(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=zp(n);throw i==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+i)}}function Y0(e,t,n){if((t=en(t))instanceof qp)return t._internalPath;if(typeof t=="string")return _b(e,t);throw fp("Field path arguments must be of type string or ",e,!1,void 0,n)}const cG=new RegExp("[~\\*/\\[\\]]");function _b(e,t,n){if(t.search(cG)>=0)throw fp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new qp(...t.split("."))._internalPath}catch{throw fp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function fp(e,t,n,i,r){const o=i&&!i.isEmpty(),u=r!==void 0;let h=`Function ${t}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new pt(st.INVALID_ARGUMENT,h+e+f)}function gM(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(t,n,i,r,o){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new hG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Tb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hG extends yM{data(){return super.data()}}function Tb(e,t){return typeof t=="string"?_b(e,t):t instanceof qp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new pt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bb{}class vM extends bb{}function dG(e,t,...n){let i=[];t instanceof bb&&i.push(t),i=i.concat(n),function(o){const u=o.filter(f=>f instanceof Sb).length,h=o.filter(f=>f instanceof Eb).length;if(u>1||u>0&&h>0)throw new pt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class Eb extends vM{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Eb(t,n,i)}_apply(t){const n=this._parse(t);return _M(t._query,n),new If(t.firestore,t.converter,U0(t._query,n))}_parse(t){const n=Kp(t.firestore);return function(o,u,h,f,d,g,v){let _;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new pt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){eC(v,g);const A=[];for(const R of v)A.push(tC(f,o,R));_={arrayValue:{values:A}}}else _=tC(f,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||eC(v,g),_=uG(h,u,v,g==="in"||g==="not-in");return ke.create(d,g,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Sb extends bb{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Sb(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Bi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,o){let u=r;const h=o.getFlattenedFilters();for(const f of h)_M(u,f),u=U0(u,f)}(t._query,n),new If(t.firestore,t.converter,U0(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ab extends vM{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Ab(t,n)}_apply(t){const n=function(r,o,u){if(r.startAt!==null)throw new pt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new pt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tf(o,u)}(t._query,this._field,this._direction);return new If(t.firestore,t.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Yu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,n))}}function mG(e,t="asc"){const n=t,i=Tb("orderBy",e);return Ab._create(i,n)}function tC(e,t,n){if(typeof(n=en(n))=="string"){if(n==="")throw new pt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hV(t)&&n.indexOf("/")!==-1)throw new pt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(ue.fromString(n));if(!Tt.isDocumentKey(i))throw new pt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return gR(e,new Tt(i))}if(n instanceof Nn)return gR(e,n._key);throw new pt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zp(n)}.`)}function eC(e,t){if(!Array.isArray(e)||e.length===0)throw new pt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _M(e,t){const n=function(r,o){for(const u of r)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new pt(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pt(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class pG{convertValue(t,n="none"){switch(Da(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw xt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Na(t,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(t){var n,i,r;const o=(r=(i=(n=t.fields)===null||n===void 0?void 0:n[rp].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(u=>Ie(u.doubleValue));return new pb(o)}convertGeoPoint(t){return new mb(Ie(t.latitude),Ie(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Op(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Xh(t));default:return null}}convertTimestamp(t){const n=Ra(t);return new qe(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=ue.fromString(t);Jt(MV(i));const r=new Zh(i.get(1),i.get(3)),o=new Tt(i.popFirst(5));return r.isEqual(n)||ur(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bM extends yM{constructor(t,n,i,r,o,u){super(t,n,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Tb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Pm extends bM{data(t={}){return super.data(t)}}class gG{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new _h(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Pm(this._firestore,this._userDataWriter,i.key,i,new _h(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>{const f=new Pm(r._firestore,r._userDataWriter,h.doc.key,h.doc,new _h(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Pm(r._firestore,r._userDataWriter,h.doc.key,h.doc,new _h(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:yG(h.type),doc:f,oldIndex:d,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yG(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(e){e=Fi(e,Nn);const t=Fi(e.firestore,Xo);return Z8(db(t),e._key).then(n=>TG(t,e,n))}class EM extends pG{constructor(t){super(),this.firestore=t}convertBytes(t){return new Uu(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function vG(e){e=Fi(e,If);const t=Fi(e.firestore,Xo),n=db(t),i=new EM(t);return fG(e._query),J8(n,e._query).then(r=>new gG(t,i,e,r))}function SM(e,t,n){e=Fi(e,Nn);const i=Fi(e.firestore,Xo),r=TM(e.converter,t,n);return Yp(i,[dM(Kp(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Ai.none())])}function uh(e,t,n,...i){e=Fi(e,Nn);const r=Fi(e.firestore,Xo),o=Kp(r);let u;return u=typeof(t=en(t))=="string"||t instanceof qp?lG(o,"updateDoc",e._key,t,n,i):oG(o,"updateDoc",e._key,t),Yp(r,[u.toMutation(e._key,Ai.exists(!0))])}function nC(e){return Yp(Fi(e.firestore,Xo),[new WT(e._key,Ai.none())])}function _G(e,t){const n=Fi(e.firestore,Xo),i=Ei(e),r=TM(e.converter,t);return Yp(n,[dM(Kp(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,Ai.exists(!1))]).then(()=>i)}function Yp(e,t){return function(i,r){const o=new nr;return i.asyncQueue.enqueueAndForget(async()=>B8(await X8(i),r,o)),o.promise}(db(e),t)}function TG(e,t,n){const i=n.docs.get(t._key),r=new EM(e);return new bM(e,r,t._key,i,new _h(n.hasPendingWrites,n.fromCache),t.converter)}function bG(){return new yb("serverTimestamp")}(function(t,n=!0){(function(r){Gu=r})(Hu),Iu(new Uo("firestore",(i,{instanceIdentifier:r,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new Xo(new uH(i.getProvider("auth-internal")),new fH(u,i.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new pt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zh(d.options.projectId,g)}(u,r),u);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),va(sR,rR,t),va(sR,rR,"esm2017")})();const EG={apiKey:"AIzaSyCO0__l_K3MudrvA3aK436_w9Mq2o6EZow",authDomain:"test-flashcard-app.firebaseapp.com",projectId:"test-flashcard-app",storageBucket:"test-flashcard-app.firebasestorage.app",messagingSenderId:"415456171104",appId:"1:415456171104:web:98e6c817b37a4ce79a1f05"},AM=i2(EG),dp=iH(AM),Wn=nG(AM);function SG({onSuccess:e}){const{currentUser:t}=DT(),[n,i]=O.useState(!1),[r,o]=O.useState(""),[u,h]=O.useState(""),[f,d]=O.useState(""),g=async A=>{A.preventDefault(),d("");try{await $z(dp,r,u),e&&e()}catch(R){d(S(R))}},v=A=>{d(""),h(""),i(A)},_=async A=>{A.preventDefault(),d("");try{await Fz(dp,r),alert("If an account exists with this email, a password reset email has been sent.")}catch(R){d(S(R))}},S=A=>{if(A instanceof vs)switch(A.code){case"auth/invalid-email":return"The email address is not valid.";case"auth/user-not-found":return"No user found with this email.";case"auth/invalid-credential":return"Incorrect email or password.";case"auth/missing-password":return"Please enter a password.";case"auth/too-many-requests":return"Too many attempts. Please try again later.";default:return"An unknown error occurred. Please try again."}return"An unexpected error occurred. Please try again."};return t?null:n?N.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 max-w-md mt-20 mx-4 md:mx-auto",children:[N.jsx("h1",{className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"Reset Password"}),N.jsxs("form",{onSubmit:A=>void _(A),className:"space-y-6",children:[N.jsxs("div",{className:"flex flex-col",children:[N.jsx("label",{className:"text-sm font-medium text-black dark:text-white ml-1 mr-auto",children:"Email"}),N.jsx("input",{type:"email","aria-label":"email",className:"mt-1 w-full px-3 py-2 border border-2 border-gray-400 text-black dark:text-white rounded",value:r,onChange:A=>o(A.target.value)})]}),f&&N.jsx("p",{className:"font-bold p-1 bg-red-500 text-sm text-black dark:text-white rounded",children:f}),N.jsx(ze,{"aria-label":"Send Reset Code Button",title:"Send Reset Code",className:"w-full !bg-green-500 dark:!bg-green-600 hover:!bg-green-600 dark:hover:!bg-green-700",type:"submit",children:"Send Reset Code"})]}),N.jsx(ze,{"aria-label":"Back to Login Button",title:"Back to Log In",className:"w-full mt-4 !bg-red-400 dark:!bg-red-500 hover:!bg-red-500 dark:hover:!bg-red-600",onClick:()=>v(!1),children:"Back to Login"})]}):N.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 max-w-md mt-20 mx-4 md:mx-auto",children:[N.jsx("h1",{className:"text-2xl font-bold mb-4 text-black dark:text-white",children:"Admin Login"}),N.jsxs("form",{onSubmit:A=>void g(A),className:"space-y-6",children:[N.jsxs("div",{className:"flex flex-col",children:[N.jsx("label",{className:"text-sm font-medium text-black dark:text-white ml-1 mr-auto",children:"Email"}),N.jsx("input",{type:"email","aria-label":"Back to Login Button",className:"mt-1 w-full px-3 py-2 border border-2 border-gray-400 text-black dark:text-white rounded",value:r,onChange:A=>o(A.target.value)})]}),N.jsxs("div",{className:"flex flex-col",children:[N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsx("label",{className:"text-sm font-medium text-black dark:text-white ml-1",children:"Password"}),N.jsx("button",{type:"button","aria-label":"password",onClick:()=>v(!0),className:"cursor-pointer text-sm text-blue-600 dark:text-blue-400 hover:underline focus:outline-none",children:"Forgot Password?"})]}),N.jsx("input",{type:"password","aria-label":"password",className:"mt-1 block w-full px-3 py-2 border border-2 border-gray-400 text-black dark:text-white rounded",value:u,onChange:A=>h(A.target.value)})]}),f&&N.jsx("p",{className:"font-bold p-1 bg-red-500 text-sm text-black dark:text-white rounded",children:f}),N.jsx(ze,{"aria-label":"Log In Button",title:"Log In",className:"h-full w-full !bg-green-500 dark:!bg-green-600 hover:!bg-green-600 dark:hover:!bg-green-700",type:"submit",children:"Log In"})]})]})}function AG({category:e,onClose:t}){const{editCategory:n,addCategory:i}=xp(),[r,o]=O.useState(""),[u,h]=O.useState(""),f=!!(e!=null&&e.id);O.useEffect(()=>{e&&(o(e.name),h(e.description))},[e]);const d=()=>{e&&(f?n({id:e.id,updates:{name:r,description:u}}):i({name:r,description:u,order:e.order}),t())};return e?N.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:N.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg w-full max-w-md shadow-lg text-black dark:text-white",children:[N.jsx("h2",{className:"text-xl font-semibold mb-4",children:`${f?"Edit":"Add"} Category`}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium mb-1 text-left",children:"Name"}),N.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded bg-white dark:bg-gray-800",value:r,onChange:g=>o(g.target.value)})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium mb-1 text-left",children:"Description"}),N.jsx("textarea",{className:"w-full px-3 py-2 border rounded bg-white dark:bg-gray-800",value:u,onChange:g=>h(g.target.value),rows:3})]}),N.jsxs("div",{className:"flex justify-end gap-2",children:[N.jsx(ze,{"aria-label":"Cancel Button",title:"Cancel",onClick:t,className:"!bg-red-500 dark:!bg-red-600 hover:!bg-red-600 dark:hover:!bg-red-700",children:"Cancel"}),N.jsx(ze,{"aria-label":"Save Button",title:"Save",onClick:d,className:"!bg-green-500 dark:!bg-green-600 hover:!bg-green-600 dark:hover:!bg-green-700",children:"Save"})]})]})]})}):null}function wG({flashcard:e,categories:t,activeCategoryId:n,onClose:i}){const{editFlashcard:r,addFlashcard:o}=xp(),[u,h]=O.useState(""),[f,d]=O.useState(!1),[g,v]=O.useState(""),[_,S]=O.useState(""),[A,R]=O.useState(""),[I,P]=O.useState(""),[j,U]=O.useState(""),[W,z]=O.useState(!0),tt=!!(e!=null&&e.id);O.useEffect(()=>{e&&(v(""),S(""),R(""),U(""),h(e.front),P(e.categoryId),z(!0),n!=""?P(n):P(e.categoryId),e.back.length===2?(d(!0),S(e.back[0]),R(e.back[1])):(d(!1),v(e.back[0]||"")),e.imgSrc&&U(e.imgSrc))},[e]),O.useEffect(()=>{z(!0)},[j]);const M=()=>{const w=u.trim(),x=f?[_.trim(),A.trim()]:[g.trim()];tt&&e?r({id:e.id,categoryId:e.categoryId,front:w,back:x,imgSrc:j}):o({front:w,back:x,categoryId:I}),i()};return e?N.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:N.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg w-full max-w-md shadow-lg text-black dark:text-white",children:[N.jsx("h2",{className:"text-xl font-semibold mb-4",children:`${tt?"Edit":"Add"} Flashcard`}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium mb-1 text-left",children:"Category"}),N.jsx("select",{className:"w-full px-3 py-2 border rounded bg-white dark:bg-gray-800",value:I,onChange:w=>P(w.target.value),children:t.map(w=>N.jsx("option",{value:w.id,children:w.name},w.id))})]}),N.jsxs("div",{className:"mt-6",children:[N.jsx("hr",{className:"border-gray-500 dark:border-gray-700"}),N.jsx("h3",{className:"text-md font-semibold my-2",children:"Front"}),N.jsxs("div",{className:"mt-3",children:[N.jsx("label",{className:"block text-sm font-medium mb-1 text-left",children:"Front Text"}),N.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded bg-white dark:bg-gray-800",value:u,onChange:w=>h(w.target.value)})]})]}),N.jsxs("div",{className:"mt-6",children:[N.jsx("hr",{className:"border-gray-500 dark:border-gray-700"}),N.jsxs("div",{className:"flex items-center justify-between my-2",children:[N.jsx("div",{className:"flex-1"}),N.jsx("h3",{className:"flex-1 text-md font-semibold",children:"Back"}),N.jsxs("div",{className:"flex flex-1 items-center justify-end space-x-2",children:[N.jsx("input",{id:"useTChart",type:"checkbox",checked:f,onChange:w=>d(w.target.checked)}),N.jsx("label",{htmlFor:"useTChart",className:"text-sm font-medium",children:"T-Chart"})]})]}),f?N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"mt-3",children:[N.jsx("label",{className:"block text-sm font-medium mb-1 text-left",children:"Debit Text"}),N.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded bg-white dark:bg-gray-800",value:_,onChange:w=>S(w.target.value)})]}),N.jsxs("div",{className:"mt-3",children:[N.jsx("label",{className:"block text-sm font-medium mb-1 text-left",children:"Credit Text"}),N.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded bg-white dark:bg-gray-800",value:A,onChange:w=>R(w.target.value)})]})]}):N.jsxs("div",{className:"mt-3",children:[N.jsx("label",{className:"block text-sm font-medium mb-1 text-left",children:"Back Text"}),N.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded bg-white dark:bg-gray-800",value:g,onChange:w=>v(w.target.value)})]})]}),N.jsxs("div",{className:"mt-6",children:[N.jsx("hr",{className:"border-gray-500 dark:border-gray-700"}),N.jsx("h3",{className:"text-md font-semibold my-2",children:"Image"}),N.jsx("div",{className:"flex justify-center",children:j===""?N.jsx("div",{className:"text-sm text-gray-500 italic",children:"Enter image URL to see preview"}):W?N.jsx("img",{src:j,alt:"Card visual",className:"flex-1 max-w-full max-h-30 object-contain",onError:()=>z(!1)}):N.jsx("div",{className:"text-sm text-gray-500 italic",children:"Image unavailable"})}),N.jsxs("div",{className:"mt-3",children:[N.jsx("label",{className:"block text-sm font-medium mb-1 text-left",children:"Image URL (optional)"}),N.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded bg-white dark:bg-gray-800",value:j,onChange:w=>U(w.target.value)})]})]}),N.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[N.jsx(ze,{"aria-label":"Cancel Button",title:"Cancel",onClick:i,className:"!bg-red-500 dark:!bg-red-600 hover:!bg-red-600 dark:hover:!bg-red-700",children:"Cancel"}),N.jsx(ze,{"aria-label":"Save Button",title:"Save",onClick:M,className:"!bg-green-500 dark:!bg-green-600 hover:!bg-green-600 dark:hover:!bg-green-700",children:"Save"})]})]})]})}):null}function xG(e){return fr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"},child:[]}]})(e)}function RG(e){return fr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"},child:[]}]})(e)}function CG(e){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function DG(e){return fr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function IG({isOpen:e}){return e?N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black opacity-50",children:N.jsx(CT,{})}):null}const jv=5,Bv=5,PG=()=>{const{currentUser:e,isAuthorizing:t}=DT(),{categories:n,flashcards:i,deleteCategory:r,reorderCategories:o,deleteFlashcard:u,isLoadingData:h,categoryStatus:f,flashcardStatus:d}=xp(),[g,v]=O.useState(""),[_,S]=O.useState(1),[A,R]=O.useState(null),[I,P]=O.useState(null),[j,U]=O.useState(0),[W,z]=O.useState(!1);if(O.useEffect(()=>{if(j>=0&&j<n.length){const J=n[j];J.id!==g&&(v(J.id),S(1))}},[j,n]),O.useEffect(()=>{z(f==="pending"||d==="pending")},[f,d]),t)return N.jsx("div",{className:"fixed inset-0 flex items-center justify-center text-black dark:text-white",children:"Signing In..."});if(!e)return N.jsx(SG,{});if(h)return N.jsx("div",{className:"mt-20",children:N.jsx(CT,{})});const tt=J=>i.some(ot=>ot.categoryId===J),M=J=>{if(tt(J.id)){alert("This category contains flashcards and cannot be deleted.");return}confirm(`Are you sure you want to delete the category ${J.name}?`)&&r(J.id)},w=J=>{confirm(`Are you sure you want to delete the flashcard ${J.front}?`)&&u(J)},x=(J,ot)=>{o({fromIndex:J,toIndex:ot})},V=i.filter(J=>J.categoryId===g),B=Math.ceil(V.length/jv),G=V.slice((_-1)*jv,_*jv),L=J=>{J>=1&&J<=B&&S(J)},ce=(()=>{const J=[];let ot=Math.max(1,_-Math.floor(Bv/2)),ct=ot+Bv-1;ct>B&&(ct=B,ot=Math.max(1,ct-Bv+1));for(let It=ot;It<=ct;It++)J.push(It);return J})();return N.jsxs("div",{className:"p-6 max-w-4xl mx-auto text-black dark:text-white",children:[N.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Panel"}),N.jsxs("section",{className:"mb-10",children:[N.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Manage Categories"}),N.jsx(ze,{"aria-label":"Add Category Button",title:"Add New Category",onClick:()=>R({id:"",name:"",description:"",order:n.length}),className:"mb-4 px-4 py-2 !bg-green-500 dark:!bg-green-600 hover:!bg-green-600 dark:hover:!bg-green-700",children:"+ Add Category"}),N.jsx("ul",{className:"space-y-3",children:n.map((J,ot)=>N.jsxs("li",{className:"flex items-center justify-between gap-4 border border-gray-300 dark:border-gray-700 rounded p-4",children:[N.jsxs("div",{className:"flex flex-col gap-1 justify-end",children:[N.jsx(ze,{"aria-label":`Move ${J.name} Up`,title:`Move ${J.name} Up`,disabled:ot===0,onClick:()=>x(ot,ot-1),className:"!bg-gray-300 dark:!bg-gray-700 disabled:opacity-30",children:N.jsx(RG,{})}),N.jsx(ze,{"aria-label":`Move ${J.name} Down`,title:`Move ${J.name} Down`,disabled:ot===n.length-1,onClick:()=>x(ot,ot+1),className:"!bg-gray-300 dark:!bg-gray-700 disabled:opacity-30",children:N.jsx(xG,{})})]}),N.jsxs("div",{className:"flex-1",children:[N.jsx("h3",{className:"text-start text-lg font-semibold",children:J.name}),N.jsx("p",{className:"text-start text-gray-800 dark:text-gray-400",children:J.description})]}),N.jsxs("div",{className:"flex gap-2 sm:flex-row flex-col",children:[N.jsx(ze,{"aria-label":`Edit Category Button For ${J.name}`,title:`Edit Category For ${J.name}`,className:"!bg-green-500 dark:!bg-green-600 hover:!bg-green-600 dark:hover:!bg-green-700 px-3",onClick:()=>R(J),children:"Edit"}),N.jsx(ze,{"aria-label":`Delete Category Button For ${J.name}`,title:`Delete Category For ${J.name}`,className:"!bg-red-500 dark:!bg-red-600 hover:!bg-red-600 dark:hover:!bg-red-700 px-3",onClick:()=>M(J),children:"Delete"})]})]},J.id))})]}),N.jsxs("section",{children:[N.jsx("h2",{className:"text-2xl font-semibold mb-0",children:"Manage Flashcards"}),N.jsxs("div",{className:"flex flex-row flex-wrap items-center justify-start space-x-4",children:[N.jsx(ze,{"aria-label":"Add Flashcard Button",title:"Add Flashcard Category",onClick:()=>{var J;return P({id:"",categoryId:((J=n[0])==null?void 0:J.id)??"",front:"",back:[""]})},className:"mx-auto px-4 py-2 !bg-green-500 dark:!bg-green-600 hover:!bg-green-600 dark:hover:!bg-green-700",children:"+ Add Flashcard"}),N.jsx(GP,{id:"category-dropdown",title:"Select a Category",options:n.map(J=>J.name),selectedIndex:j,setSelectedIndex:U,ariaLabel:"Category Selector"})]}),N.jsxs("div",{className:"overflow-x-auto",children:[N.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300 dark:border-gray-700",children:[N.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:N.jsxs("tr",{children:[N.jsx("th",{className:"border border-gray-300 dark:border-gray-700 px-4 py-2 text-left",children:"Front"}),N.jsx("th",{className:"border border-gray-300 dark:border-gray-700 px-4 py-2 text-left w-1/4",children:"Back"}),N.jsx("th",{className:"border border-gray-300 dark:border-gray-700 px-4 py-2 text-left w-0 whitespace-nowrap",children:"Actions"})]})}),N.jsx("tbody",{children:G.map(J=>N.jsxs("tr",{className:"odd:bg-white even:bg-gray-50 dark:odd:bg-gray-900 dark:even:bg-gray-800",children:[N.jsx("td",{className:"border border-gray-300 dark:border-gray-700 px-4 py-2",children:J.front}),N.jsx("td",{className:"border border-gray-300 dark:border-gray-700 px-4 py-2",children:J.back.join(", ")}),N.jsx("td",{className:"border border-gray-300 dark:border-gray-700 px-4 py-2",children:N.jsxs("div",{className:"flex gap-2 sm:flex-row flex-col",children:[N.jsx(ze,{"aria-label":`Edit Flashcard Button For ${J.front}`,title:`Edit Flashcard For ${J.front}`,className:"!bg-green-500 dark:!bg-green-600 hover:!bg-green-600 dark:hover:!bg-green-700",onClick:()=>P(J),children:"Edit"}),N.jsx(ze,{"aria-label":`Delete Flashcard Button For ${J.front}`,title:`Delete Flashcard For ${J.front}`,className:"!bg-red-500 dark:!bg-red-600 hover:!bg-red-600 dark:hover:!bg-red-700",onClick:()=>w(J),children:"Delete"})]})})]},J.id))})]}),N.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[N.jsx("button",{className:"px-3 py-1 border rounded disabled:opacity-50 cursor-pointer",onClick:()=>L(_-1),disabled:_===1,"aria-label":"Previous page",children:"Prev"}),ce.map(J=>N.jsx("button",{"aria-label":`Page ${J}`,title:`Page ${J}`,className:`px-3 py-1 border rounded cursor-pointer ${J===_?"bg-green-500 text-white":""}`,onClick:()=>L(J),children:J},J)),N.jsx("button",{className:"px-3 py-1 border rounded disabled:opacity-50 cursor-pointer",onClick:()=>L(_+1),disabled:_===B,"aria-label":"Next page",children:"Next"})]})]})]}),N.jsx(AG,{category:A,onClose:()=>R(null)}),N.jsx(wG,{flashcard:I,categories:n,activeCategoryId:g,onClose:()=>P(null)}),N.jsx(IG,{isOpen:W})]})};function VG(){const[e,t]=O.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");if(i)return i==="dark";const r=window.matchMedia("(prefers-color-scheme: dark)").matches;return localStorage.setItem("theme",r?"dark":"light"),r}return!1});return O.useEffect(()=>{e?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]),{isDarkMode:e,toggleTheme:()=>t(i=>!i)}}function MG(){const{isDarkMode:e,toggleTheme:t}=VG();return N.jsx("button",{onClick:t,"aria-label":`Switch to ${e?"light":"dark"} mode`,"aria-pressed":e,title:`Switch to ${e?"light":"dark"} mode`,className:"p-2 rounded-md bg-gray-400 dark:bg-gray-700 dark:text-white transition-all cursor-pointer",children:N.jsxs("div",{className:"flex gap-2 items-center",children:[e?N.jsx(CG,{size:20}):N.jsx(DG,{size:20}),N.jsx("span",{children:e?"Dark":"Light"})]})})}function OG(){const{currentUser:e}=DT();return N.jsxs("header",{className:"w-full flex flex-column flex-wrap justify-center bg-gray-200 dark:bg-gray-900 shadow-md sm:flex-row sm:flex-nowrap",role:"banner",children:[N.jsx("h1",{className:"flex-grow text-3xl md:text-5xl content-center text-black dark:text-white",children:"Green River College Accounting Flashcards"}),N.jsxs("nav",{className:"flex justify-end items-center px-6 py-4",role:"navigation","aria-label":"Main Navigation",children:[N.jsx(MG,{}),e&&N.jsx("button",{onClick:()=>void Gz(dp),"aria-label":"Sign Out",title:"Sign Out",className:"ml-2 p-2 rounded-md bg-gray-400 dark:bg-gray-700 dark:text-white transition-all cursor-pointer",children:"Logout"})]})]})}var Xu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$o=typeof window>"u"||"Deno"in globalThis;function Si(){}function NG(e,t){return typeof e=="function"?e(t):e}function W0(e){return typeof e=="number"&&e>=0&&e!==1/0}function wM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function uu(e,t){return typeof e=="function"?e(t):e}function Ni(e,t){return typeof e=="function"?e(t):e}function iC(e,t){const{type:n="all",exact:i,fetchStatus:r,predicate:o,queryKey:u,stale:h}=e;if(u){if(i){if(t.queryHash!==wb(u,t.options))return!1}else if(!rf(t.queryKey,u))return!1}if(n!=="all"){const f=t.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||r&&r!==t.state.fetchStatus||o&&!o(t))}function sC(e,t){const{exact:n,status:i,predicate:r,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(zo(t.options.mutationKey)!==zo(o))return!1}else if(!rf(t.options.mutationKey,o))return!1}return!(i&&t.state.status!==i||r&&!r(t))}function wb(e,t){return((t==null?void 0:t.queryKeyHashFn)||zo)(e)}function zo(e){return JSON.stringify(e,(t,n)=>X0(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function rf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>rf(e[n],t[n])):!1}function xM(e,t){if(e===t)return e;const n=rC(e)&&rC(t);if(n||X0(e)&&X0(t)){const i=n?e:Object.keys(e),r=i.length,o=n?t:Object.keys(t),u=o.length,h=n?[]:{};let f=0;for(let d=0;d<u;d++){const g=n?d:o[d];(!n&&i.includes(g)||n)&&e[g]===void 0&&t[g]===void 0?(h[g]=void 0,f++):(h[g]=xM(e[g],t[g]),h[g]===e[g]&&e[g]!==void 0&&f++)}return r===u&&f===r?e:h}return t}function mp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function rC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function X0(e){if(!aC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!aC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function aC(e){return Object.prototype.toString.call(e)==="[object Object]"}function kG(e){return new Promise(t=>{setTimeout(t,e)})}function Z0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?xM(e,t):t}function LG(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function UG(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var xb=Symbol();function RM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===xb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var xo,ra,cu,dC,jG=(dC=class extends Xu{constructor(){super();bt(this,xo);bt(this,ra);bt(this,cu);ht(this,cu,t=>{if(!$o&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,ra)||this.setEventListener(F(this,cu))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,ra))==null||t.call(this),ht(this,ra,void 0))}setEventListener(t){var n;ht(this,cu,t),(n=F(this,ra))==null||n.call(this),ht(this,ra,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){F(this,xo)!==t&&(ht(this,xo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof F(this,xo)=="boolean"?F(this,xo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xo=new WeakMap,ra=new WeakMap,cu=new WeakMap,dC),Rb=new jG,hu,aa,fu,mC,BG=(mC=class extends Xu{constructor(){super();bt(this,hu,!0);bt(this,aa);bt(this,fu);ht(this,fu,t=>{if(!$o&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){F(this,aa)||this.setEventListener(F(this,fu))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,aa))==null||t.call(this),ht(this,aa,void 0))}setEventListener(t){var n;ht(this,fu,t),(n=F(this,aa))==null||n.call(this),ht(this,aa,t(this.setOnline.bind(this)))}setOnline(t){F(this,hu)!==t&&(ht(this,hu,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return F(this,hu)}},hu=new WeakMap,aa=new WeakMap,fu=new WeakMap,mC),pp=new BG;function J0(){let e,t;const n=new Promise((r,o)=>{e=r,t=o});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),e(r)},n.reject=r=>{i({status:"rejected",reason:r}),t(r)},n}function FG(e){return Math.min(1e3*2**e,3e4)}function CM(e){return(e??"online")==="online"?pp.isOnline():!0}var DM=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Fv(e){return e instanceof DM}function IM(e){let t=!1,n=0,i=!1,r;const o=J0(),u=R=>{var I;i||(_(new DM(R)),(I=e.abort)==null||I.call(e))},h=()=>{t=!0},f=()=>{t=!1},d=()=>Rb.isFocused()&&(e.networkMode==="always"||pp.isOnline())&&e.canRun(),g=()=>CM(e.networkMode)&&e.canRun(),v=R=>{var I;i||(i=!0,(I=e.onSuccess)==null||I.call(e,R),r==null||r(),o.resolve(R))},_=R=>{var I;i||(i=!0,(I=e.onError)==null||I.call(e,R),r==null||r(),o.reject(R))},S=()=>new Promise(R=>{var I;r=P=>{(i||d())&&R(P)},(I=e.onPause)==null||I.call(e)}).then(()=>{var R;r=void 0,i||(R=e.onContinue)==null||R.call(e)}),A=()=>{if(i)return;let R;const I=n===0?e.initialPromise:void 0;try{R=I??e.fn()}catch(P){R=Promise.reject(P)}Promise.resolve(R).then(v).catch(P=>{var tt;if(i)return;const j=e.retry??($o?0:3),U=e.retryDelay??FG,W=typeof U=="function"?U(n,P):U,z=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,P);if(t||!z){_(P);return}n++,(tt=e.onFail)==null||tt.call(e,n,P),kG(W).then(()=>d()?void 0:S()).then(()=>{t?_(P):A()})})};return{promise:o,cancel:u,continue:()=>(r==null||r(),o),cancelRetry:h,continueRetry:f,canStart:g,start:()=>(g()?A():S().then(A),o)}}var $G=e=>setTimeout(e,0);function zG(){let e=[],t=0,n=h=>{h()},i=h=>{h()},r=$G;const o=h=>{t?e.push(h):r(()=>{n(h)})},u=()=>{const h=e;e=[],h.length&&r(()=>{i(()=>{h.forEach(f=>{n(f)})})})};return{batch:h=>{let f;t++;try{f=h()}finally{t--,t||u()}return f},batchCalls:h=>(...f)=>{o(()=>{h(...f)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{r=h}}}var He=zG(),Ro,pC,PM=(pC=class{constructor(){bt(this,Ro)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),W0(this.gcTime)&&ht(this,Ro,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($o?1/0:5*60*1e3))}clearGcTimeout(){F(this,Ro)&&(clearTimeout(F(this,Ro)),ht(this,Ro,void 0))}},Ro=new WeakMap,pC),du,mu,bi,Co,yn,af,Do,Mi,Gs,gC,HG=(gC=class extends PM{constructor(t){super();bt(this,Mi);bt(this,du);bt(this,mu);bt(this,bi);bt(this,Co);bt(this,yn);bt(this,af);bt(this,Do);ht(this,Do,!1),ht(this,af,t.defaultOptions),this.setOptions(t.options),this.observers=[],ht(this,Co,t.client),ht(this,bi,F(this,Co).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ht(this,du,qG(this.options)),this.state=t.state??F(this,du),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,yn))==null?void 0:t.promise}setOptions(t){this.options={...F(this,af),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,bi).remove(this)}setData(t,n){const i=Z0(this.state.data,t,this.options);return Ot(this,Mi,Gs).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){Ot(this,Mi,Gs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,r;const n=(i=F(this,yn))==null?void 0:i.promise;return(r=F(this,yn))==null||r.cancel(t),n?n.then(Si).catch(Si):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,du))}isActive(){return this.observers.some(t=>Ni(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!wM(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=F(this,yn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=F(this,yn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,bi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(F(this,yn)&&(F(this,Do)?F(this,yn).cancel({revert:!0}):F(this,yn).cancelRetry()),this.scheduleGc()),F(this,bi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,Mi,Gs).call(this,{type:"invalidate"})}fetch(t,n){var f,d,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(F(this,yn))return F(this,yn).continueRetry(),F(this,yn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(_=>_.options.queryFn);v&&this.setOptions(v.options)}const i=new AbortController,r=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(ht(this,Do,!0),i.signal)})},o=()=>{const v=RM(this.options,n),_={client:F(this,Co),queryKey:this.queryKey,meta:this.meta};return r(_),ht(this,Do,!1),this.options.persister?this.options.persister(v,_,this):v(_)},u={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:F(this,Co),state:this.state,fetchFn:o};r(u),(f=this.options.behavior)==null||f.onFetch(u,this),ht(this,mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=u.fetchOptions)==null?void 0:d.meta))&&Ot(this,Mi,Gs).call(this,{type:"fetch",meta:(g=u.fetchOptions)==null?void 0:g.meta});const h=v=>{var _,S,A,R;Fv(v)&&v.silent||Ot(this,Mi,Gs).call(this,{type:"error",error:v}),Fv(v)||((S=(_=F(this,bi).config).onError)==null||S.call(_,v,this),(R=(A=F(this,bi).config).onSettled)==null||R.call(A,this.state.data,v,this)),this.scheduleGc()};return ht(this,yn,IM({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,abort:i.abort.bind(i),onSuccess:v=>{var _,S,A,R;if(v===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(I){h(I);return}(S=(_=F(this,bi).config).onSuccess)==null||S.call(_,v,this),(R=(A=F(this,bi).config).onSettled)==null||R.call(A,v,this.state.error,this),this.scheduleGc()},onError:h,onFail:(v,_)=>{Ot(this,Mi,Gs).call(this,{type:"failed",failureCount:v,error:_})},onPause:()=>{Ot(this,Mi,Gs).call(this,{type:"pause"})},onContinue:()=>{Ot(this,Mi,Gs).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),F(this,yn).start()}},du=new WeakMap,mu=new WeakMap,bi=new WeakMap,Co=new WeakMap,yn=new WeakMap,af=new WeakMap,Do=new WeakMap,Mi=new WeakSet,Gs=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...VM(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Fv(r)&&r.revert&&F(this,mu)?{...F(this,mu),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),He.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),F(this,bi).notify({query:this,type:"updated",action:t})})},gC);function VM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function qG(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rs,yC,GG=(yC=class extends Xu{constructor(t={}){super();bt(this,rs);this.config=t,ht(this,rs,new Map)}build(t,n,i){const r=n.queryKey,o=n.queryHash??wb(r,n);let u=this.get(o);return u||(u=new HG({client:t,queryKey:r,queryHash:o,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(r)}),this.add(u)),u}add(t){F(this,rs).has(t.queryHash)||(F(this,rs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=F(this,rs).get(t.queryHash);n&&(t.destroy(),n===t&&F(this,rs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){He.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,rs).get(t)}getAll(){return[...F(this,rs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>iC(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>iC(t,i)):n}notify(t){He.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){He.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){He.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rs=new WeakMap,yC),as,Pn,Io,os,ta,vC,KG=(vC=class extends PM{constructor(t){super();bt(this,os);bt(this,as);bt(this,Pn);bt(this,Io);this.mutationId=t.mutationId,ht(this,Pn,t.mutationCache),ht(this,as,[]),this.state=t.state||MM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,as).includes(t)||(F(this,as).push(t),this.clearGcTimeout(),F(this,Pn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ht(this,as,F(this,as).filter(n=>n!==t)),this.scheduleGc(),F(this,Pn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,as).length||(this.state.status==="pending"?this.scheduleGc():F(this,Pn).remove(this))}continue(){var t;return((t=F(this,Io))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,u,h,f,d,g,v,_,S,A,R,I,P,j,U,W,z,tt,M,w;const n=()=>{Ot(this,os,ta).call(this,{type:"continue"})};ht(this,Io,IM({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(x,V)=>{Ot(this,os,ta).call(this,{type:"failed",failureCount:x,error:V})},onPause:()=>{Ot(this,os,ta).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Pn).canRun(this)}));const i=this.state.status==="pending",r=!F(this,Io).canStart();try{if(i)n();else{Ot(this,os,ta).call(this,{type:"pending",variables:t,isPaused:r}),await((u=(o=F(this,Pn).config).onMutate)==null?void 0:u.call(o,t,this));const V=await((f=(h=this.options).onMutate)==null?void 0:f.call(h,t));V!==this.state.context&&Ot(this,os,ta).call(this,{type:"pending",context:V,variables:t,isPaused:r})}const x=await F(this,Io).start();return await((g=(d=F(this,Pn).config).onSuccess)==null?void 0:g.call(d,x,t,this.state.context,this)),await((_=(v=this.options).onSuccess)==null?void 0:_.call(v,x,t,this.state.context)),await((A=(S=F(this,Pn).config).onSettled)==null?void 0:A.call(S,x,null,this.state.variables,this.state.context,this)),await((I=(R=this.options).onSettled)==null?void 0:I.call(R,x,null,t,this.state.context)),Ot(this,os,ta).call(this,{type:"success",data:x}),x}catch(x){try{throw await((j=(P=F(this,Pn).config).onError)==null?void 0:j.call(P,x,t,this.state.context,this)),await((W=(U=this.options).onError)==null?void 0:W.call(U,x,t,this.state.context)),await((tt=(z=F(this,Pn).config).onSettled)==null?void 0:tt.call(z,void 0,x,this.state.variables,this.state.context,this)),await((w=(M=this.options).onSettled)==null?void 0:w.call(M,void 0,x,t,this.state.context)),x}finally{Ot(this,os,ta).call(this,{type:"error",error:x})}}finally{F(this,Pn).runNext(this)}}},as=new WeakMap,Pn=new WeakMap,Io=new WeakMap,os=new WeakSet,ta=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),He.batch(()=>{F(this,as).forEach(i=>{i.onMutationUpdate(t)}),F(this,Pn).notify({mutation:this,type:"updated",action:t})})},vC);function MM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ks,Oi,of,_C,QG=(_C=class extends Xu{constructor(t={}){super();bt(this,Ks);bt(this,Oi);bt(this,of);this.config=t,ht(this,Ks,new Set),ht(this,Oi,new Map),ht(this,of,0)}build(t,n,i){const r=new KG({mutationCache:this,mutationId:++Jd(this,of)._,options:t.defaultMutationOptions(n),state:i});return this.add(r),r}add(t){F(this,Ks).add(t);const n=dm(t);if(typeof n=="string"){const i=F(this,Oi).get(n);i?i.push(t):F(this,Oi).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,Ks).delete(t)){const n=dm(t);if(typeof n=="string"){const i=F(this,Oi).get(n);if(i)if(i.length>1){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}else i[0]===t&&F(this,Oi).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=dm(t);if(typeof n=="string"){const i=F(this,Oi).get(n),r=i==null?void 0:i.find(o=>o.state.status==="pending");return!r||r===t}else return!0}runNext(t){var i;const n=dm(t);if(typeof n=="string"){const r=(i=F(this,Oi).get(n))==null?void 0:i.find(o=>o!==t&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){He.batch(()=>{F(this,Ks).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,Ks).clear(),F(this,Oi).clear()})}getAll(){return Array.from(F(this,Ks))}find(t){const n={exact:!0,...t};return this.getAll().find(i=>sC(n,i))}findAll(t={}){return this.getAll().filter(n=>sC(t,n))}notify(t){He.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return He.batch(()=>Promise.all(t.map(n=>n.continue().catch(Si))))}},Ks=new WeakMap,Oi=new WeakMap,of=new WeakMap,_C);function dm(e){var t;return(t=e.options.scope)==null?void 0:t.id}function oC(e){return{onFetch:(t,n)=>{var g,v,_,S,A;const i=t.options,r=(_=(v=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:v.fetchMore)==null?void 0:_.direction,o=((S=t.state.data)==null?void 0:S.pages)||[],u=((A=t.state.data)==null?void 0:A.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const d=async()=>{let R=!1;const I=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>(t.signal.aborted?R=!0:t.signal.addEventListener("abort",()=>{R=!0}),t.signal)})},P=RM(t.options,t.fetchOptions),j=async(U,W,z)=>{if(R)return Promise.reject();if(W==null&&U.pages.length)return Promise.resolve(U);const tt={client:t.client,queryKey:t.queryKey,pageParam:W,direction:z?"backward":"forward",meta:t.options.meta};I(tt);const M=await P(tt),{maxPages:w}=t.options,x=z?UG:LG;return{pages:x(U.pages,M,w),pageParams:x(U.pageParams,W,w)}};if(r&&o.length){const U=r==="backward",W=U?YG:lC,z={pages:o,pageParams:u},tt=W(i,z);h=await j(z,tt,U)}else{const U=e??o.length;do{const W=f===0?u[0]??i.initialPageParam:lC(i,h);if(f>0&&W==null)break;h=await j(h,W),f++}while(f<U)}return h};t.options.persister?t.fetchFn=()=>{var R,I;return(I=(R=t.options).persister)==null?void 0:I.call(R,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function lC(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function YG(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var Se,oa,la,pu,gu,ua,yu,vu,TC,WG=(TC=class{constructor(e={}){bt(this,Se);bt(this,oa);bt(this,la);bt(this,pu);bt(this,gu);bt(this,ua);bt(this,yu);bt(this,vu);ht(this,Se,e.queryCache||new GG),ht(this,oa,e.mutationCache||new QG),ht(this,la,e.defaultOptions||{}),ht(this,pu,new Map),ht(this,gu,new Map),ht(this,ua,0)}mount(){Jd(this,ua)._++,F(this,ua)===1&&(ht(this,yu,Rb.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Se).onFocus())})),ht(this,vu,pp.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Se).onOnline())})))}unmount(){var e,t;Jd(this,ua)._--,F(this,ua)===0&&((e=F(this,yu))==null||e.call(this),ht(this,yu,void 0),(t=F(this,vu))==null||t.call(this),ht(this,vu,void 0))}isFetching(e){return F(this,Se).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,oa).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=F(this,Se).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=F(this,Se).build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(uu(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return F(this,Se).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),r=F(this,Se).get(i.queryHash),o=r==null?void 0:r.state.data,u=NG(t,o);if(u!==void 0)return F(this,Se).build(this,i).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return He.batch(()=>F(this,Se).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=F(this,Se).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=F(this,Se);He.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=F(this,Se);return He.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=He.batch(()=>F(this,Se).findAll(e).map(r=>r.cancel(n)));return Promise.all(i).then(Si).catch(Si)}invalidateQueries(e,t={}){return He.batch(()=>(F(this,Se).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=He.batch(()=>F(this,Se).findAll(e).filter(r=>!r.isDisabled()).map(r=>{let o=r.fetch(void 0,n);return n.throwOnError||(o=o.catch(Si)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(Si)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=F(this,Se).build(this,t);return n.isStaleByTime(uu(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Si).catch(Si)}fetchInfiniteQuery(e){return e.behavior=oC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Si).catch(Si)}ensureInfiniteQueryData(e){return e.behavior=oC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pp.isOnline()?F(this,oa).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Se)}getMutationCache(){return F(this,oa)}getDefaultOptions(){return F(this,la)}setDefaultOptions(e){ht(this,la,e)}setQueryDefaults(e,t){F(this,pu).set(zo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,pu).values()],n={};return t.forEach(i=>{rf(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){F(this,gu).set(zo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,gu).values()],n={};return t.forEach(i=>{rf(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,la).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===xb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,la).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,Se).clear(),F(this,oa).clear()}},Se=new WeakMap,oa=new WeakMap,la=new WeakMap,pu=new WeakMap,gu=new WeakMap,ua=new WeakMap,yu=new WeakMap,vu=new WeakMap,TC),jn,$t,lf,Vn,Po,_u,ca,ha,uf,Tu,bu,Vo,Mo,fa,Eu,Zt,Th,t_,e_,n_,i_,s_,r_,a_,OM,bC,XG=(bC=class extends Xu{constructor(t,n){super();bt(this,Zt);bt(this,jn);bt(this,$t);bt(this,lf);bt(this,Vn);bt(this,Po);bt(this,_u);bt(this,ca);bt(this,ha);bt(this,uf);bt(this,Tu);bt(this,bu);bt(this,Vo);bt(this,Mo);bt(this,fa);bt(this,Eu,new Set);this.options=n,ht(this,jn,t),ht(this,ha,null),ht(this,ca,J0()),this.options.experimental_prefetchInRender||F(this,ca).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,$t).addObserver(this),uC(F(this,$t),this.options)?Ot(this,Zt,Th).call(this):this.updateResult(),Ot(this,Zt,i_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return o_(F(this,$t),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return o_(F(this,$t),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ot(this,Zt,s_).call(this),Ot(this,Zt,r_).call(this),F(this,$t).removeObserver(this)}setOptions(t){const n=this.options,i=F(this,$t);if(this.options=F(this,jn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ni(this.options.enabled,F(this,$t))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ot(this,Zt,a_).call(this),F(this,$t).setOptions(this.options),n._defaulted&&!mp(this.options,n)&&F(this,jn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,$t),observer:this});const r=this.hasListeners();r&&cC(F(this,$t),i,this.options,n)&&Ot(this,Zt,Th).call(this),this.updateResult(),r&&(F(this,$t)!==i||Ni(this.options.enabled,F(this,$t))!==Ni(n.enabled,F(this,$t))||uu(this.options.staleTime,F(this,$t))!==uu(n.staleTime,F(this,$t)))&&Ot(this,Zt,t_).call(this);const o=Ot(this,Zt,e_).call(this);r&&(F(this,$t)!==i||Ni(this.options.enabled,F(this,$t))!==Ni(n.enabled,F(this,$t))||o!==F(this,fa))&&Ot(this,Zt,n_).call(this,o)}getOptimisticResult(t){const n=F(this,jn).getQueryCache().build(F(this,jn),t),i=this.createResult(n,t);return JG(this,i)&&(ht(this,Vn,i),ht(this,_u,this.options),ht(this,Po,F(this,$t).state)),i}getCurrentResult(){return F(this,Vn)}trackResult(t,n){const i={};return Object.keys(t).forEach(r=>{Object.defineProperty(i,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),n==null||n(r),t[r])})}),i}trackProp(t){F(this,Eu).add(t)}getCurrentQuery(){return F(this,$t)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=F(this,jn).defaultQueryOptions(t),i=F(this,jn).getQueryCache().build(F(this,jn),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(t){return Ot(this,Zt,Th).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,Vn)))}createResult(t,n){var x;const i=F(this,$t),r=this.options,o=F(this,Vn),u=F(this,Po),h=F(this,_u),d=t!==i?t.state:F(this,lf),{state:g}=t;let v={...g},_=!1,S;if(n._optimisticResults){const V=this.hasListeners(),B=!V&&uC(t,n),G=V&&cC(t,i,n,r);(B||G)&&(v={...v,...VM(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:A,errorUpdatedAt:R,status:I}=v;S=v.data;let P=!1;if(n.placeholderData!==void 0&&S===void 0&&I==="pending"){let V;o!=null&&o.isPlaceholderData&&n.placeholderData===(h==null?void 0:h.placeholderData)?(V=o.data,P=!0):V=typeof n.placeholderData=="function"?n.placeholderData((x=F(this,bu))==null?void 0:x.state.data,F(this,bu)):n.placeholderData,V!==void 0&&(I="success",S=Z0(o==null?void 0:o.data,V,n),_=!0)}if(n.select&&S!==void 0&&!P)if(o&&S===(u==null?void 0:u.data)&&n.select===F(this,uf))S=F(this,Tu);else try{ht(this,uf,n.select),S=n.select(S),S=Z0(o==null?void 0:o.data,S,n),ht(this,Tu,S),ht(this,ha,null)}catch(V){ht(this,ha,V)}F(this,ha)&&(A=F(this,ha),S=F(this,Tu),R=Date.now(),I="error");const j=v.fetchStatus==="fetching",U=I==="pending",W=I==="error",z=U&&j,tt=S!==void 0,w={status:I,fetchStatus:v.fetchStatus,isPending:U,isSuccess:I==="success",isError:W,isInitialLoading:z,isLoading:z,data:S,dataUpdatedAt:v.dataUpdatedAt,error:A,errorUpdatedAt:R,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>d.dataUpdateCount||v.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!U,isLoadingError:W&&!tt,isPaused:v.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:W&&tt,isStale:Cb(t,n),refetch:this.refetch,promise:F(this,ca)};if(this.options.experimental_prefetchInRender){const V=L=>{w.status==="error"?L.reject(w.error):w.data!==void 0&&L.resolve(w.data)},B=()=>{const L=ht(this,ca,w.promise=J0());V(L)},G=F(this,ca);switch(G.status){case"pending":t.queryHash===i.queryHash&&V(G);break;case"fulfilled":(w.status==="error"||w.data!==G.value)&&B();break;case"rejected":(w.status!=="error"||w.error!==G.reason)&&B();break}}return w}updateResult(){const t=F(this,Vn),n=this.createResult(F(this,$t),this.options);if(ht(this,Po,F(this,$t).state),ht(this,_u,this.options),F(this,Po).data!==void 0&&ht(this,bu,F(this,$t)),mp(n,t))return;ht(this,Vn,n);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!F(this,Eu).size)return!0;const u=new Set(o??F(this,Eu));return this.options.throwOnError&&u.add("error"),Object.keys(F(this,Vn)).some(h=>{const f=h;return F(this,Vn)[f]!==t[f]&&u.has(f)})};Ot(this,Zt,OM).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ot(this,Zt,i_).call(this)}},jn=new WeakMap,$t=new WeakMap,lf=new WeakMap,Vn=new WeakMap,Po=new WeakMap,_u=new WeakMap,ca=new WeakMap,ha=new WeakMap,uf=new WeakMap,Tu=new WeakMap,bu=new WeakMap,Vo=new WeakMap,Mo=new WeakMap,fa=new WeakMap,Eu=new WeakMap,Zt=new WeakSet,Th=function(t){Ot(this,Zt,a_).call(this);let n=F(this,$t).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Si)),n},t_=function(){Ot(this,Zt,s_).call(this);const t=uu(this.options.staleTime,F(this,$t));if($o||F(this,Vn).isStale||!W0(t))return;const i=wM(F(this,Vn).dataUpdatedAt,t)+1;ht(this,Vo,setTimeout(()=>{F(this,Vn).isStale||this.updateResult()},i))},e_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,$t)):this.options.refetchInterval)??!1},n_=function(t){Ot(this,Zt,r_).call(this),ht(this,fa,t),!($o||Ni(this.options.enabled,F(this,$t))===!1||!W0(F(this,fa))||F(this,fa)===0)&&ht(this,Mo,setInterval(()=>{(this.options.refetchIntervalInBackground||Rb.isFocused())&&Ot(this,Zt,Th).call(this)},F(this,fa)))},i_=function(){Ot(this,Zt,t_).call(this),Ot(this,Zt,n_).call(this,Ot(this,Zt,e_).call(this))},s_=function(){F(this,Vo)&&(clearTimeout(F(this,Vo)),ht(this,Vo,void 0))},r_=function(){F(this,Mo)&&(clearInterval(F(this,Mo)),ht(this,Mo,void 0))},a_=function(){const t=F(this,jn).getQueryCache().build(F(this,jn),this.options);if(t===F(this,$t))return;const n=F(this,$t);ht(this,$t,t),ht(this,lf,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},OM=function(t){He.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(F(this,Vn))}),F(this,jn).getQueryCache().notify({query:F(this,$t),type:"observerResultsUpdated"})})},bC);function ZG(e,t){return Ni(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uC(e,t){return ZG(e,t)||e.state.data!==void 0&&o_(e,t,t.refetchOnMount)}function o_(e,t,n){if(Ni(t.enabled,e)!==!1){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&Cb(e,t)}return!1}function cC(e,t,n,i){return(e!==t||Ni(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Cb(e,n)}function Cb(e,t){return Ni(t.enabled,e)!==!1&&e.isStaleByTime(uu(t.staleTime,e))}function JG(e,t){return!mp(e.getCurrentResult(),t)}var da,ma,Bn,Qs,ir,Vm,l_,EC,tK=(EC=class extends Xu{constructor(n,i){super();bt(this,ir);bt(this,da);bt(this,ma);bt(this,Bn);bt(this,Qs);ht(this,da,n),this.setOptions(i),this.bindMethods(),Ot(this,ir,Vm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const i=this.options;this.options=F(this,da).defaultMutationOptions(n),mp(this.options,i)||F(this,da).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,Bn),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&zo(i.mutationKey)!==zo(this.options.mutationKey)?this.reset():((r=F(this,Bn))==null?void 0:r.state.status)==="pending"&&F(this,Bn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,Bn))==null||n.removeObserver(this)}onMutationUpdate(n){Ot(this,ir,Vm).call(this),Ot(this,ir,l_).call(this,n)}getCurrentResult(){return F(this,ma)}reset(){var n;(n=F(this,Bn))==null||n.removeObserver(this),ht(this,Bn,void 0),Ot(this,ir,Vm).call(this),Ot(this,ir,l_).call(this)}mutate(n,i){var r;return ht(this,Qs,i),(r=F(this,Bn))==null||r.removeObserver(this),ht(this,Bn,F(this,da).getMutationCache().build(F(this,da),this.options)),F(this,Bn).addObserver(this),F(this,Bn).execute(n)}},da=new WeakMap,ma=new WeakMap,Bn=new WeakMap,Qs=new WeakMap,ir=new WeakSet,Vm=function(){var i;const n=((i=F(this,Bn))==null?void 0:i.state)??MM();ht(this,ma,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},l_=function(n){He.batch(()=>{var i,r,o,u,h,f,d,g;if(F(this,Qs)&&this.hasListeners()){const v=F(this,ma).variables,_=F(this,ma).context;(n==null?void 0:n.type)==="success"?((r=(i=F(this,Qs)).onSuccess)==null||r.call(i,n.data,v,_),(u=(o=F(this,Qs)).onSettled)==null||u.call(o,n.data,null,v,_)):(n==null?void 0:n.type)==="error"&&((f=(h=F(this,Qs)).onError)==null||f.call(h,n.error,v,_),(g=(d=F(this,Qs)).onSettled)==null||g.call(d,void 0,n.error,v,_))}this.listeners.forEach(v=>{v(F(this,ma))})})},EC),NM=O.createContext(void 0),Db=e=>{const t=O.useContext(NM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},eK=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),N.jsx(NM.Provider,{value:e,children:t})),kM=O.createContext(!1),nK=()=>O.useContext(kM);kM.Provider;function iK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sK=O.createContext(iK()),rK=()=>O.useContext(sK);function LM(e,t){return typeof e=="function"?e(...t):!!e}function u_(){}var aK=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},oK=e=>{O.useEffect(()=>{e.clearReset()},[e])},lK=({result:e,errorResetBoundary:t,throwOnError:n,query:i,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(r&&e.data===void 0||LM(n,[e.error,i])),uK=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},cK=(e,t)=>e.isLoading&&e.isFetching&&!t,hK=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,hC=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function fK(e,t,n){var v,_,S,A,R;const i=Db(),r=nK(),o=rK(),u=i.defaultQueryOptions(e);(_=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||_.call(v,u),u._optimisticResults=r?"isRestoring":"optimistic",uK(u),aK(u,o),oK(o);const h=!i.getQueryCache().get(u.queryHash),[f]=O.useState(()=>new t(i,u)),d=f.getOptimisticResult(u),g=!r&&e.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(I=>{const P=g?f.subscribe(He.batchCalls(I)):u_;return f.updateResult(),P},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),O.useEffect(()=>{f.setOptions(u)},[u,f]),hK(u,d))throw hC(u,f,o);if(lK({result:d,errorResetBoundary:o,throwOnError:u.throwOnError,query:i.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw d.error;if((A=(S=i.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||A.call(S,u,d),u.experimental_prefetchInRender&&!$o&&cK(d,r)){const I=h?hC(u,f,o):(R=i.getQueryCache().get(u.queryHash))==null?void 0:R.promise;I==null||I.catch(u_).finally(()=>{f.updateResult()})}return u.notifyOnChangeProps?d:f.trackResult(d)}function dK(e,t){return fK(e,XG)}function vo(e,t){const n=Db(),[i]=O.useState(()=>new tK(n,e));O.useEffect(()=>{i.setOptions(e)},[i,e]);const r=O.useSyncExternalStore(O.useCallback(u=>i.subscribe(He.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=O.useCallback((u,h)=>{i.mutate(u,h).catch(u_)},[i]);if(r.error&&LM(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:o,mutateAsync:r.mutate}}const UM="flashcards_data",mK=()=>{try{const e=localStorage.getItem(UM);return e?JSON.parse(e):null}catch{return null}},pK=e=>{localStorage.setItem(UM,JSON.stringify(e))},on=[];for(let e=0;e<256;++e)on.push((e+256).toString(16).slice(1));function gK(e,t=0){return(on[e[t+0]]+on[e[t+1]]+on[e[t+2]]+on[e[t+3]]+"-"+on[e[t+4]]+on[e[t+5]]+"-"+on[e[t+6]]+on[e[t+7]]+"-"+on[e[t+8]]+on[e[t+9]]+"-"+on[e[t+10]]+on[e[t+11]]+on[e[t+12]]+on[e[t+13]]+on[e[t+14]]+on[e[t+15]]).toLowerCase()}let $v;const yK=new Uint8Array(16);function vK(){if(!$v){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$v=crypto.getRandomValues.bind(crypto)}return $v(yK)}const _K=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fC={randomUUID:_K};function TK(e,t,n){var r;if(fC.randomUUID&&!e)return fC.randomUUID();e=e||{};const i=e.random??((r=e.rng)==null?void 0:r.call(e))??vK();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,gK(i)}const bK=async()=>{const e=Ei(Wn,"meta","globalData"),n=(await Vh(e)).data(),i=n==null?void 0:n.updated_at;return(i==null?void 0:i.toDate().toISOString())??null},_o=async()=>{const e=Ei(Wn,"meta","globalData");await SM(e,{updated_at:bG()},{merge:!0})},EK=async()=>{const e=await bK(),t=mK();if(t&&e&&t.lastUpdated===e)return console.log("Loaded Data From Local Storage"),{categories:t.categories.sort((h,f)=>h.order-f.order),flashcards:t.flashcards};const n=dG(cM(Wn,"categories"),mG("order")),r=(await vG(n)).docs.map(h=>({id:h.id,...h.data()})),u=(await Promise.all(r.map(async h=>{const f=Ei(Wn,"flashcards",h.id),d=await Vh(f);if(!d.exists())return[];const g=d.data(),v=(g==null?void 0:g.flashcards)??{};return Object.values(v).map(_=>({..._,categoryId:h.id}))}))).flat().sort((h,f)=>h.front.toLowerCase().localeCompare(f.front.toLowerCase()));return e&&pK({categories:r,flashcards:u,lastUpdated:e}),console.log("Loaded Data From Database"),{categories:r,flashcards:u}},SK=({children:e})=>{const t=Db(),{data:n={categories:[],flashcards:[]},isLoading:i,isError:r,error:o}=dK({queryKey:["flashcards-and-categories"],queryFn:EK}),u=n.categories,h=n.flashcards,f=vo({mutationFn:async W=>{await _G(cM(Wn,"categories"),W),await _o()},onSuccess:()=>{t.invalidateQueries({queryKey:["flashcards-and-categories"]})}}),d=vo({mutationFn:async({id:W,updates:z})=>{const tt=Ei(Wn,"categories",W);await uh(tt,z),await _o()},onSuccess:()=>{t.invalidateQueries({queryKey:["flashcards-and-categories"]})}}),g=vo({mutationFn:async W=>{const z=Ei(Wn,"categories",W),tt=Ei(Wn,"flashcards",W);await nC(z),await nC(tt),await _o()},onSuccess:()=>{t.invalidateQueries({queryKey:["flashcards-and-categories"]})}}),v=vo({mutationFn:async({fromIndex:W,toIndex:z})=>{const tt=u[W],M=u[z];if(!tt||!M)return;const w=Ei(Wn,"categories",tt.id),x=Ei(Wn,"categories",M.id);await Promise.all([uh(w,{order:M.order}),uh(x,{order:tt.order})]),await _o()},onSuccess:()=>{t.invalidateQueries({queryKey:["flashcards-and-categories"]})}}),_=vo({mutationFn:async W=>{var V;const z=TK(),tt={...W,id:z},M=Ei(Wn,"flashcards",W.categoryId),w=await Vh(M),x=w.exists()?((V=w.data())==null?void 0:V.flashcards)??{}:{};await SM(M,{categoryId:W.categoryId,flashcards:{...x,[z]:tt}},{merge:!0}),await _o()},onSuccess:()=>{t.invalidateQueries({queryKey:["flashcards-and-categories"]})}}),S=vo({mutationFn:async W=>{var B;const{id:z,categoryId:tt,...M}=W,w=Ei(Wn,"flashcards",tt),x=await Vh(w);if(!x.exists())return;const V=((B=x.data())==null?void 0:B.flashcards)??{};V[z]={...V[z],...M},await uh(w,{flashcards:V}),await _o()},onSuccess:()=>{t.invalidateQueries({queryKey:["flashcards-and-categories"]})}}),A=vo({mutationFn:async W=>{var V;const{id:z,categoryId:tt}=W,M=Ei(Wn,"flashcards",tt),w=await Vh(M);if(!w.exists())return;const x=((V=w.data())==null?void 0:V.flashcards)??{};delete x[z],await uh(M,{flashcards:x}),await _o()},onSuccess:()=>{t.invalidateQueries({queryKey:["flashcards-and-categories"]})}}),R=W=>h.filter(z=>z.categoryId===W),I=[f.status,d.status,g.status,v.status];let P="idle";I.some(W=>W==="pending")?P="pending":I.some(W=>W==="error")&&(P="error");const j=[_.status,S.status,A.status];let U="idle";return j.some(W=>W==="pending")?U="pending":j.some(W=>W==="error")&&(U="error"),N.jsx(KP.Provider,{value:{categories:u,flashcards:h,isLoadingData:i,isDataError:r,dataError:o,getFlashcardsByCategory:R,addCategory:f.mutate,editCategory:d.mutate,deleteCategory:g.mutate,categoryStatus:P,reorderCategories:v.mutate,addFlashcard:_.mutate,editFlashcard:S.mutate,deleteFlashcard:A.mutate,flashcardStatus:U},children:e})},AK=({children:e})=>{const[t,n]=O.useState(null),[i,r]=O.useState(!0);return O.useEffect(()=>{const o=qz(dp,u=>{(()=>{n(u||null),r(!1)})()});return()=>o()},[]),N.jsx(QP.Provider,{value:{currentUser:t,isAuthorizing:i},children:e})},wK=new WG;function xK(){return N.jsx(eK,{client:wK,children:N.jsx(AK,{children:N.jsxs(SK,{children:[N.jsx(OG,{}),N.jsx(Ok,{children:N.jsxs(uk,{children:[N.jsx(zv,{path:"/Accounting-Online-Flashcards",element:N.jsx(aF,{})}),N.jsx(zv,{path:"/Accounting-Online-Flashcards/admin",element:N.jsx(PG,{})})]})})]})})})}_N.createRoot(document.getElementById("root")).render(N.jsx(O.StrictMode,{children:N.jsx(Mk,{children:N.jsx(xK,{})})}));
